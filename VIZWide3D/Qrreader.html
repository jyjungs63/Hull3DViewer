<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>QR ì½”ë“œ ìŠ¤ìº” ì˜ˆì œ</title>
  <script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>
  <style>
    #reader {
      width: 300px;
      margin: auto;
      padding-top: 50px;
    }
    #result {
      margin-top: 20px;
      text-align: center;
      font-size: 18px;
      color: green;
    }
  </style>
</head>
<body>
  <div id="reader"></div>
  <div id="result">QR ì½”ë“œ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</div>

  <script>
    function onScanSuccess(decodedText, decodedResult) {
      document.getElementById('result').innerText = `âœ… ì¸ì‹ëœ QR ì½”ë“œ: ${decodedText}`;
    }

    function onScanFailure(error) {
      // ì‹¤íŒ¨ ì‹œ ë¡œê·¸ë§Œ ì¶œë ¥ (ë„ˆë¬´ ìì£¼ ë°œìƒí•˜ë¯€ë¡œ í™”ë©´ì—ëŠ” í‘œì‹œí•˜ì§€ ì•ŠìŒ)
      console.warn(`QR ì¸ì‹ ì‹¤íŒ¨: ${error}`);
    }

    const html5QrCode = new Html5Qrcode("reader");
    const config = { fps: 10, qrbox: 250 };

    Html5Qrcode.getCameras().then(cameras => {
      if (cameras && cameras.length) {
        html5QrCode.start(
          cameras[1].id,
          config,
          onScanSuccess,
          onScanFailure
        );
      } else {
        alert("ğŸ“· ì¹´ë©”ë¼ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
      }
    }).catch(err => {
      console.error("ì¹´ë©”ë¼ ì ‘ê·¼ ì˜¤ë¥˜:", err);
    });
  </script>
</body>
</html>