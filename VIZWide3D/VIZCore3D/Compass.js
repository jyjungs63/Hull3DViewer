class Compass{constructor(a,b){let c=this,d=![],e=undefined,f=a['Configuration']['Default']['Path']+'Resource/Compass.png';this['Option']={'Visible':![]},this['Show']=function(h){c['Option']['Visible']=h;};function g(){let h=a['Camera']['CameraIndex'];a['Mode']['Camera'](0x0);let i=new b['Matrix4']()['copy'](a['Camera']['matMV']);return a['Mode']['Camera'](h),i;};this['SetDriection']=h=>{a['Configuration']['Render']['Compass2D']['Direction']!==undefined&&(a['Configuration']['Render']['Compass2D']['Direction']=new b['Vector3']()['copy'](h));},this['SetImagePath']=h=>{f=h,d=![];},this['RenderCompass']=()=>{{if(d===![])e=new Image(),e['src']=f,e['onload']=()=>{d=!![],c['RenderCompass']();};else{if(c['Option']['Visible']===![])return;let h=i=>{let j=g();const k=new b['Matrix4']()['copy'](j);k['setPosition'](new b['Vector3']());let l=new b['Vector3']()['copy'](a['Configuration']['Render']['Compass2D']['Direction']);l=l['applyMatrix4'](k),l['y']*=-0x1;let m=new b['Vector3'](0x0,0x0,0x1);m=m['applyMatrix4'](k);if(m['z']<0x0)l['y']*=-0x1;let n=new b['Vector3'](0x0,0x0,0x1),o=new b['Vector3']()['copy'](l),p=new b['Vector3']()['copy'](n);{let q=undefined,r=undefined;q=new b['Vector3']()['copy'](o),r=new b['Vector3']()['copy'](p);let s=o['get2DAngle']()*0xb4/Math['PI'];function t(z,A,B,C,D=0x0,E=0x1){z['save'](),z['translate'](B+A['width']*E/0x2,C+A['height']*E/0x2),z['rotate'](D),z['translate'](-B-A['width']*E/0x2,-C-A['height']*E/0x2),z['drawImage'](A,B,C,A['width']*E,A['height']*E),z['restore']();}let u=(s+0x5a)/0xb4*Math['PI'],v=new b['Vector2'](0.05,0.05);v['x']=a['Camera']['clientWidth']*v['x'],v['y']=a['Camera']['clientHeight']-a['Camera']['clientWidth']*v['y'];a['Configuration']['Render']['Compass2D']['Position']!==undefined&&(v=new b['Vector2'](a['Configuration']['Render']['Compass2D']['Position']['Horizontal'],a['Configuration']['Render']['Compass2D']['Position']['Vertical']),v['x']=a['Camera']['clientWidth']*v['x'],v['y']=a['Camera']['clientHeight']*v['y']);let w=e['width'],x=i['canvas']['clientWidth']*a['Configuration']['Render']['Compass2D']['Length'],y=x/w*0x64;t(i,e,v['x'],v['y'],u,y/0x64);}};h(a['ctx_review']);}}};}}export default Compass;