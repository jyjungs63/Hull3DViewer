import a from'./UI_Markup_Measure_Pos.js';import b from'./UI_Markup_Measure_Angle.js';import c from'./UI_Markup_Measure_Distance.js';import d from'./UI_Markup_Measure_CircleRadius.js';import e from'./UI_Markup_Measure_ObjectMinDistance.js';import f from'./UI_Markup_Measure_NormalDistance.js';import g from'./UI_Markup_Measure_HorizontalityDistance.js';import h from'./UI_Markup_Measure_OrthoDistance.js';import i from'./UI_Markup_Measure_X_Axis_Distance.js';import j from'./UI_Markup_Measure_XY_Axis_Distance.js';import k from'./UI_Markup_Measure_Y_Axis_Distance.js';import l from'./UI_Markup_Measure_YZ_Axis_Distance.js';import m from'./UI_Markup_Measure_Z_Axis_Distance.js';import n from'./UI_Markup_Measure_ZX_Axis_Distance.js';import o from'./UI_Markup_Measure_Custom_Axis_Distance.js';import p from'./UI_Markup_Measure_Smart_Axis_Distance.js';import q from'./UI_Markup_Measure_LinkedArea.js';import r from'./UI_Markup_Measure_SurfaceDistance.js';import s from'./UI_Markup_Measure_LinkedDistance.js';import t from'./UI_Markup_Measure_LinkedAxisDistance.js';import u from'./UI_Markup_Measure_OnePointFixedDistance.js';import v from'./UI_Markup_Measure_CylinderPlaneDistance.js';import w from'./UI_Markup_Measure_CylinderCylinderCrossPoint.js';import x from'./UI_Markup_Measure_NormalPlaneCrossPoint.js';import y from'./UI_Markup_Measure_BoundBox.js';import z from'./UI_Markup_Measure_PickItem.js';import A from'./UI_Markup_Util_Transform.js';import B from'./UI_Markup_SurfaceNote.js';import C from'./UI_Markup_3DNote.js';import D from'./UI_Markup_2DNote.js';import E from'./UI_Markup_Sketch.js';let UIMarkup=function(F,G){let H=this;this['base']=G['UIBase'],this['base'](F,G);let I=[],J,K;this['currentReviewItem']=undefined;let L=new G['Color'](0x0,0xff,0x0,0xff),M=undefined,N=![];O();function O(){J=0x0,P();}function P(){a['prototype']=new G['UIMarkup_Base'](undefined,undefined),a['prototype']['constructor']=a,I[G['Enum']['REVIEW_TYPES']['RK_MEASURE_POS']]=new a(H,F,G),c['prototype']=new G['UIMarkup_Base'](undefined,undefined),c['prototype']['constructor']=c,I[G['Enum']['REVIEW_TYPES']['RK_MEASURE_DISTANCE']]=new c(H,F,G),b['prototype']=new G['UIMarkup_Base'](undefined,undefined),b['prototype']['constructor']=b,I[G['Enum']['REVIEW_TYPES']['RK_MEASURE_ANGLE']]=new b(H,F,G),e['prototype']=new G['UIMarkup_Base'](undefined,undefined),e['prototype']['constructor']=e,I[G['Enum']['REVIEW_TYPES']['RK_MEASURE_OBJECTMINDISTANCE']]=new e(H,F,G),f['prototype']=new G['UIMarkup_Base'](undefined,undefined),f['prototype']['constructor']=f,I[G['Enum']['REVIEW_TYPES']['RK_MEASURE_NORMALDISTANCE']]=new f(H,F,G),g['prototype']=new G['UIMarkup_Base'](undefined,undefined),g['prototype']['constructor']=g,I[G['Enum']['REVIEW_TYPES']['RK_MEASURE_HORIZONTALITYDISTANCE']]=new g(H,F,G),h['prototype']=new G['UIMarkup_Base'](undefined,undefined),h['prototype']['constructor']=h,I[G['Enum']['REVIEW_TYPES']['RK_MEASURE_ORTHODISTANCE']]=new h(H,F,G),i['prototype']=new G['UIMarkup_Base'](undefined,undefined),i['prototype']['constructor']=i,I[G['Enum']['REVIEW_TYPES']['RK_MEASURE_X_AXIS_DISTANCE']]=new i(H,F,G),k['prototype']=new G['UIMarkup_Base'](undefined,undefined),k['prototype']['constructor']=k,I[G['Enum']['REVIEW_TYPES']['RK_MEASURE_Y_AXIS_DISTANCE']]=new k(H,F,G),m['prototype']=new G['UIMarkup_Base'](undefined,undefined),m['prototype']['constructor']=m,I[G['Enum']['REVIEW_TYPES']['RK_MEASURE_Z_AXIS_DISTANCE']]=new m(H,F,G),j['prototype']=new G['UIMarkup_Base'](undefined,undefined),j['prototype']['constructor']=j,I[G['Enum']['REVIEW_TYPES']['RK_MEASURE_XY_AXIS_DISTANCE']]=new j(H,F,G),l['prototype']=new G['UIMarkup_Base'](undefined,undefined),l['prototype']['constructor']=l,I[G['Enum']['REVIEW_TYPES']['RK_MEASURE_YZ_AXIS_DISTANCE']]=new l(H,F,G),n['prototype']=new G['UIMarkup_Base'](undefined,undefined),n['prototype']['constructor']=n,I[G['Enum']['REVIEW_TYPES']['RK_MEASURE_ZX_AXIS_DISTANCE']]=new n(H,F,G),o['prototype']=new G['UIMarkup_Base'](undefined,undefined),o['prototype']['constructor']=o,I[G['Enum']['REVIEW_TYPES']['RK_MEASURE_CUSTOM_AXIS_DISTANCE']]=new o(H,F,G),p['prototype']=new G['UIMarkup_Base'](undefined,undefined),p['prototype']['constructor']=p,I[G['Enum']['REVIEW_TYPES']['RK_MEASURE_SMART_AXIS_DISTANCE']]=new p(H,F,G),q['prototype']=new G['UIMarkup_Base'](undefined,undefined),q['prototype']['constructor']=q,I[G['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKEDAREA']]=new q(H,F,G),r['prototype']=new G['UIMarkup_Base'](undefined,undefined),r['prototype']['constructor']=r,I[G['Enum']['REVIEW_TYPES']['RK_MEASURE_SURFACEDISTANCE']]=new r(H,F,G),s['prototype']=new G['UIMarkup_Base'](undefined,undefined),s['prototype']['constructor']=s,I[G['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_DISTANCE']]=new s(H,F,G),t['prototype']=new G['UIMarkup_Base'](undefined,undefined),t['prototype']['constructor']=t,I[G['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_AXIS_DISTANCE']]=new t(H,F,G),u['prototype']=new G['UIMarkup_Base'](undefined,undefined),u['prototype']['constructor']=u,I[G['Enum']['REVIEW_TYPES']['RK_MEASURE_ONE_POINT_FIXED_DISTANCE']]=new u(H,F,G),v['prototype']=new G['UIMarkup_Base'](undefined,undefined),v['prototype']['constructor']=v,I[G['Enum']['REVIEW_TYPES']['RK_MEASURE_CYLINDER_PLANE_DISTANCE']]=new v(H,F,G),w['prototype']=new G['UIMarkup_Base'](undefined,undefined),w['prototype']['constructor']=w,I[G['Enum']['REVIEW_TYPES']['RK_MEASURE_CYLINDER_CYLINDER_CROSS_POINT']]=new w(H,F,G),x['prototype']=new G['UIMarkup_Base'](undefined,undefined),x['prototype']['constructor']=x,I[G['Enum']['REVIEW_TYPES']['RK_MEASURE_NORMAL_PLANE_CROSS_POINT']]=new x(H,F,G),y['prototype']=new G['UIMarkup_Base'](undefined,undefined),y['prototype']['constructor']=y,I[G['Enum']['REVIEW_TYPES']['RK_MEASURE_BOUNDBOX']]=new y(H,F,G),z['prototype']=new G['UIMarkup_Base'](undefined,undefined),z['prototype']['constructor']=z,I[G['Enum']['REVIEW_TYPES']['RK_MEASURE_PICKITEM']]=new z(H,F,G),d['prototype']=new G['UIMarkup_Base'](undefined,undefined),d['prototype']['constructor']=d,I[G['Enum']['REVIEW_TYPES']['RK_MEASURE_CIRCLE_RADIUS']]=new d(H,F,G),B['prototype']=new G['UIMarkup_Base'](undefined,undefined),B['prototype']['constructor']=B,I[G['Enum']['REVIEW_TYPES']['RK_SURFACE_NOTE']]=new B(H,F,G),D['prototype']=new G['UIMarkup_Base'](undefined,undefined),D['prototype']['constructor']=D,I[G['Enum']['REVIEW_TYPES']['RK_2D_NOTE']]=new D(H,F,G),C['prototype']=new G['UIMarkup_Base'](undefined,undefined),C['prototype']['constructor']=C,I[G['Enum']['REVIEW_TYPES']['RK_3D_NOTE']]=new C(H,F,G),E['prototype']=new G['UIMarkup_Base'](undefined,undefined),E['prototype']['constructor']=E,I[G['Enum']['REVIEW_TYPES']['RK_SKETCH']]=new E(H,F,G),A['prototype']=new G['UIMarkup_Base'](undefined,undefined),A['prototype']['constructor']=A,I[G['Enum']['REVIEW_TYPES']['RK_UTIL_TRANSFORM']]=new A(H,F,G);}this['UIBegin']=function(){H['base']['prototype']['UIBegin']['call'](H),F['Pick']['ReleaseMeasurePreselectInfo'](),M=undefined;},this['UIEnd']=function(){H['currentReviewItem']!==undefined&&F['Data']['DeleteReview'](H['currentReviewItem']['id']);if(I[J]!==undefined)I[J]['Release']();F['Pick']['ReleaseMeasurePreselectInfo'](),M=undefined,J=0x0,H['base']['prototype']['UIEnd']['call'](H);},this['SetUIMode']=function(Q){J>0x0&&Q!==G['Enum']['REVIEW_TYPES']['RK_SKETCH']&&(H['UIEnd'](),F['Renderer']['Render']()),J=Q,K=0x0,H['currentReviewItem']=F['Data']['ReviewItem'](),I[J]['Start']();},this['IsUIMode']=function(Q){if(Q===undefined)return![];if(J!==Q)return![];return!![];},this['GetStep']=function(){return K;},this['SetStep']=function(Q){K=Q;},this['NextStep']=function(){K++;},this['PreviousStep']=function(){K--;if(K<0x0){K=0x0,F['Control']['RestoreMode'](),F['Renderer']['Render']();return;}I[J]['PreviousStep'](),I[J]['GetProcessFlag'](G['Enum']['MARKUP_FLAG']['PRESELECT'])&&(F['Pick']['RefreshPreselectEdgeProcess'](),M=undefined),F['Renderer']['Render']();},this['mouseDown']=function(Q,R,S){return F['Pick']['EnableControlPicker']=![],I[J]['mouseDown'](Q,R,S);},this['mouseMove']=function(Q,R){if(I[J]['GetProcessFlag'](G['Enum']['MARKUP_FLAG']['PRESELECT'])){let S=F['Pick']['GetPreselectDataPick'](Q,R),T=![];if(S===M)T=![];else{if(S===undefined&&M!==undefined||S!==undefined&&M===undefined)T=!![];else{if(S['index']!==M['index']||S['pickKind']!==M['pickKind'])T=!![];}}M=S;if(T)F['Renderer']['Render']();}I[J]['mouseMove'](Q,R);},this['mouseUp']=function(Q,R,S){let T=I[J]['mouseUp'](Q,R,S);if(S===G['Enum']['MOUSE_STATE']['PAN']){if(H['base']['prototype']['GetMouseClick']['call'](H,Q,R,S)===!![]){let U=new G['Vector2']()['subVectors'](H['mouseDownPosition'],H['mouse']);U['length']()<0x5&&(H['PreviousStep'](),T=!![]);}}return T;},this['mouseDoubleClick']=function(Q,R,S){I[J]['mouseDoubleClick'](Q,R,S);},this['mouseWheel']=function(Q,R,S){I[J]['mouseWheel'](Q,R,S);},this['touchStart']=function(Q){if(J>0x0){if(J!==G['Enum']['REVIEW_TYPES']['RK_SKETCH']&&J!==G['Enum']['REVIEW_TYPES']['RK_2D_NOTE']&&J!==G['Enum']['REVIEW_TYPES']['RK_SURFACE_NOTE']&&J!==G['Enum']['REVIEW_TYPES']['RK_3D_NOTE'])F['Pick']['EnableControlPicker']=!![];}let R=this['view']['Control']['GetCalcTouchPos'](Q[0x0]);const S=F['Pick']['IsMouseDownControlPicker'](R['x'],R['y']);if(S['kind']===0x1)N=!![];else N=![];I[J]['touchStart'](Q);},this['touchMove']=function(Q){if(F['Pick']['EnableControlPicker']&&I[J]['uiBase']['mouseLeftDown']){if(Q['length']===0x1){let R=this['view']['Control']['GetCalcTouchPos'](Q[0x0]);if(N===!![]){this['view']['Pick']['EnableControlOk']=![],this['view']['Pick']['EnableControlCancel']=![],this['view']['Pick']['SetControlPickerPositon'](new G['Vector3'](R['x'],R['y'],0x0));let S=F['Pick']['GetControlPickerPickPos'](R['x'],R['y']),T=H['IsValidPosition'](S['x'],S['y']);if(T['valid']===!![]){if(I[J]['GetProcessFlag'](G['Enum']['MARKUP_FLAG']['PRESELECT'])){let U=F['Pick']['GetPreselectDataPick'](S['x'],S['y']);M=U;}}this['view']['Renderer']['Render'](),I[J]['uiBase']['actionEnabled']=![],I[J]['touchMove'](Q),I[J]['uiBase']['actionEnabled']=!![];return;}}}I[J]['touchMove'](Q);},this['touchEnd']=function(Q){if(F['Pick']['EnableControlPicker']){if(Q['length']===0x0){F['Pick']['EnableControlCancel']=!![],Q=I[J]['uiBase']['_touchLast'];let R=F['Control']['GetCalcTouchPos'](Q[0x0]),S=F['Pick']['IsMouseDownControlPicker'](R['x'],R['y']),T=F['Pick']['GetControlPickerPickPos'](R['x'],R['y']),U=H['IsValidPosition'](T['x'],T['y']);if(U['valid']===!![]){F['Pick']['EnableControlOk']=!![];if(I[J]['GetProcessFlag'](G['Enum']['MARKUP_FLAG']['PRESELECT'])){let V=F['Pick']['GetPreselectDataPick'](T['x'],T['y']),W=![];if(V===M)W=![];else{if(V===undefined&&M!==undefined||V!==undefined&&M===undefined)W=!![];else{if(V['index']!==M['index']||V['pickKind']!==M['pickKind'])W=!![];}}M=V;if(W)F['Renderer']['Render']();}}else M=undefined;if(S['pick']===!![]){if(S['kind']===0x2){if(F['Pick']['EnableControlMove']===!![])I[J]['uiBase']['actionEnabled']=![],I[J]['uiBase']['base']['prototype']['touchEnd']['call'](I[J]['uiBase'],Q),I[J]['uiBase']['actionEnabled']=!![],H['mouseDown'](T['x'],T['y'],0x0),H['mouseUp'](T['x'],T['y'],0x0),I[J]['uiBase']['ShowPivot'](![]);else I[J]['touchEnd'](Q);return;}else{if(S['kind']===0x3){F['Control']['RestoreMode'](),F['Renderer']['Render']();if(J>0x0)I[J]['uiBase']['ShowPivot'](![]);return;}else{if(S['kind']===0x1){F['Renderer']['Render'](),I[J]['uiBase']['ShowPivot'](![]);return;}}}}else{let X=H['IsValidPosition'](R['x'],R['y']);if(F['Pick']['GetMakePreselectID']()===X['bodyId']){I[J]['uiBase']['ShowPivot'](![]);return;}}}I[J]['touchEnd'](Q);}else I[J]['touchEnd'](Q);},this['IsValidPosition']=function(Q,R){const S={'valid':![],'bodyId':undefined};let T=F['Renderer']['Picking'](Q,R);return T!==undefined&&(S['valid']=!![],S['bodyId']=T['bodyId']),S;},this['keyUp']=function(Q){let R=I[J]['keyUp'](Q);if(!R)return;if(Q===0x1b)F['Control']['RestoreMode'](),F['Renderer']['Render']();else{if(Q===0x8){if(J!==G['Enum']['REVIEW_TYPES']['RK_SKETCH'])H['PreviousStep']();}}},this['Render']=function(){I[J]['Render'](),I[J]['GetProcessFlag'](G['Enum']['MARKUP_FLAG']['PRESELECT'])&&F['Pick']['RenderPreselectData'](M);},this['Render2D']=function(Q){I[J]['Render2D'](Q);},this['MouseLog']=function(){console['log']('UIMarkup.mouse\x20:\x20'+H['mouse']['x']+','+H['mouse']['y']);},this['SetSubType']=function(Q){I[J]['SetSubType'](Q);},this['GetUIControl']=function(){return I[J];};};export default UIMarkup;