let UIMarkup_Measure_Custom_Axis_Distance=function(a,b,c){let d=this;this['base']=c['UIMarkup_Base'],this['base'](a,b);let e,f;this['Start']=function(){let g='MG0005';b['UIManager']['ShowMessage'](g),d['base']['prototype']['Start']['call'](d);},this['Release']=function(){d['base']['prototype']['Release']['call'](d),e=undefined,f=undefined;},this['PreviousStep']=function(){switch(a['GetStep']()){case 0x1:{b['Data']['DeleteReview'](a['currentReviewItem']['id']),b['Renderer']['Render'](),d['mouseAction']=!![];}break;}},this['ProcessStep']=function(g){switch(a['GetStep']()){case 0x0:{if(g===undefined)return;if(!g['pick'])return;if(g['preselectKind']===c['Enum']['PRESELECT_PICK_KIND']['EDGE']){e=new c['Vector3']()['copy'](g['preselect']['vData'][0x0]),f=new c['Vector3']()['copy'](g['preselect']['vData'][0x1]);let h=new c['Vector3']()['subVectors'](f,e);h=h['normalize'](),a['currentReviewItem']['drawitem']['position'][0x2]=h,a['NextStep'](),b['Renderer']['Render']();}}break;case 0x1:{if(g===undefined)return;if(!g['pick'])return;if(g['preselectKind']===c['Enum']['PRESELECT_PICK_KIND']['EDGE']){a['currentReviewItem']['drawitem']['position'][0x0]=new c['Vector3']()['copy'](g['preselect']['vData'][0x0]),a['currentReviewItem']['drawitem']['position'][0x1]=new c['Vector3']()['copy'](g['preselect']['vData'][0x1]),a['currentReviewItem']['text']['position']=new c['Vector3']()['copy'](g['preselect']['vData'][0x0]);let i=a['currentReviewItem']['drawitem']['position'];a['currentReviewItem']['itemType']=c['Enum']['REVIEW_TYPES']['RK_MEASURE_CUSTOM_AXIS_DISTANCE'],b['Measure']['UpdateReviewStyle'](a['currentReviewItem']),b['Measure']['UpdateReviewText'](a['currentReviewItem'],i),b['Data']['Reviews']['push'](a['currentReviewItem']),a['NextStep'](),a['NextStep'](),b['Renderer']['Render']();}else a['currentReviewItem']['drawitem']['position'][0x0]=new c['Vector3']()['copy'](g['position']),b['Renderer']['Render'](),a['NextStep']();}break;case 0x2:{if(g===undefined)return;if(!g['pick'])return;a['currentReviewItem']['itemType']=c['Enum']['REVIEW_TYPES']['RK_MEASURE_CUSTOM_AXIS_DISTANCE'],a['currentReviewItem']['drawitem']['position'][0x1]=new c['Vector3']()['copy'](g['position']),a['currentReviewItem']['text']['position']=new c['Vector3']()['copy'](g['position']);let j=a['currentReviewItem']['drawitem']['position'];b['Measure']['UpdateReviewStyle'](a['currentReviewItem']),b['Measure']['UpdateReviewText'](a['currentReviewItem'],j),b['Data']['Reviews']['push'](a['currentReviewItem']),b['Renderer']['Render'](),a['NextStep']();}break;case 0x3:{a['currentReviewItem']=undefined,b['Control']['RestoreMode'](),b['Renderer']['Render']();}break;}d['GetProcessFlag'](c['Enum']['MARKUP_FLAG']['PRESELECT'])&&b['Pick']['RefreshPreselectEdgeProcess']();},this['mouseDown']=function(g,h,i){return d['GetProcessFlag'](c['Enum']['MARKUP_FLAG']['ROTATE'])===![]&&(d['mouseAction']=![],a['actionEnabled']=![]),a['base']['prototype']['mouseDown']['call'](a,g,h,i),a['actionEnabled']=!![],!![];},this['mouseMove']=function(g,h){a['base']['prototype']['mouseMove']['call'](a,g,h);switch(a['GetStep']()){case 0x3:{let i=new c['Matrix4']()['multiplyMatrices'](b['Camera']['projectionMatrix'],b['Camera']['cameraMatrix']),j=b['Camera']['world2ScreenWithMatrix'](i,new c['Vector3']()['copy'](a['currentReviewItem']['text']['position'])),k=b['Camera']['screen2WorldWithMatrix'](i,new c['Vector3'](g,h,j['z']));a['currentReviewItem']['text']['position']['copy'](k),b['Renderer']['Render']();}break;}},this['mouseUp']=function(g,h,i){a['actionEnabled']=![],a['base']['prototype']['mouseUp']['call'](a,g,h,i),a['actionEnabled']=!![];if(i===0x0&&a['GetMouseClick'](a['mouse']['x'],a['mouse']['y']))switch(a['GetStep']()){case 0x0:case 0x1:case 0x2:{if(d['GetProcessFlag'](c['Enum']['MARKUP_FLAG']['PRESELECT'])){let k=b['Pick']['GetPreselectDataPick'](a['mouse']['x'],a['mouse']['y']);if(k!==undefined){b['Data']['GetPreselectPick'](a['mouse']['x'],a['mouse']['y'],d['ProcessStep']),d['mouseAction']=![];break;}}let j=b['Renderer']['Picking'](a['mouse']['x'],a['mouse']['y']);if(j!==undefined){if(d['GetProcessFlag'](c['Enum']['MARKUP_FLAG']['PRESELECT'])){if(b['Pick']['GetMakePreselectID']()!==j['bodyId']){let l=function(m){let n=b['Pick']['MakeMeasurePreselectInfoByID'](m);n?b['ViewRefresh']():d['GetProcessFlag'](c['Enum']['MARKUP_FLAG']['SURFACE'])&&b['Data']['GetPickByBodyCacheDownload'](a['mouse']['x'],a['mouse']['y'],d['ProcessStep']);};b['Pick']['GetBodyCacheDownload'](j['bodyId'],l),d['mouseAction']=![];break;}}d['GetProcessFlag'](c['Enum']['MARKUP_FLAG']['SURFACE'])&&b['Data']['GetPickByBodyCacheDownload'](a['mouse']['x'],a['mouse']['y'],d['ProcessStep']),d['mouseAction']=![];}}break;case 0x3:{d['ProcessStep']();}break;}else b['MeshBlock']['Reset']();return d['mouseAction'];},this['mouseWheel']=function(g,h,i){if(d['GetProcessFlag'](c['Enum']['MARKUP_FLAG']['ZOOM']))a['base']['prototype']['mouseWheel']['call'](a,g,h,i);},this['Render2D']=function(g){const h=new c['Matrix4']()['copy'](b['Camera']['matMVP']);switch(a['GetStep']()){case 0x1:{let i=0x2;g['strokeStyle']='rgba(0,\x20255,\x200,\x201)',g['lineWidth']=i;if(e!==undefined&&f!==undefined){let j=b['Renderer']['Util']['GetScreenPositionByMatrix'](h,e),k=b['Renderer']['Util']['GetScreenPositionByMatrix'](h,f);b['Renderer']['Util']['DrawLine'](g,j['x'],j['y'],k['x'],k['y']);}}break;case 0x2:{{let p=0x2;g['strokeStyle']='rgba(0,\x20255,\x200,\x201)',g['lineWidth']=p;if(e!==undefined&&f!==undefined){let q=b['Renderer']['Util']['GetScreenPositionByMatrix'](h,e),r=b['Renderer']['Util']['GetScreenPositionByMatrix'](h,f);b['Renderer']['Util']['DrawLine'](g,q['x'],q['y'],r['x'],r['y']);}}let l=0x3;g['fillStyle']='rgba(0,\x20255,\x200,\x201)';let m=new c['Matrix4']()['transformVector'](h['elements'],[a['currentReviewItem']['drawitem']['position'][0x0]['x'],a['currentReviewItem']['drawitem']['position'][0x0]['y'],a['currentReviewItem']['drawitem']['position'][0x0]['z'],0x1]);m[0x0]/=m[0x3],m[0x1]/=m[0x3];let n=(m[0x0]*0.5+0.5)*g['canvas']['width'],o=(m[0x1]*-0.5+0.5)*g['canvas']['height'];g['beginPath'](),g['arc'](n,o,l,0x0,Math['PI']*0x2),g['fill']();}break;case 0x3:break;}},this['GetProcessFlag']=function(g){switch(a['GetStep']()){case 0x0:{if(g===c['Enum']['MARKUP_FLAG']['PRESELECT'])return!![];if(g===c['Enum']['MARKUP_FLAG']['ROTATE'])return!![];if(g===c['Enum']['MARKUP_FLAG']['ZOOM'])return!![];if(g===c['Enum']['MARKUP_FLAG']['POINT'])return![];if(g===c['Enum']['MARKUP_FLAG']['CIRCLE_CENTER'])return![];if(g===c['Enum']['MARKUP_FLAG']['LINE'])return!![];if(g===c['Enum']['MARKUP_FLAG']['SURFACE'])return![];}break;case 0x1:{if(g===c['Enum']['MARKUP_FLAG']['PRESELECT'])return!![];if(g===c['Enum']['MARKUP_FLAG']['ROTATE'])return!![];if(g===c['Enum']['MARKUP_FLAG']['ZOOM'])return!![];if(g===c['Enum']['MARKUP_FLAG']['POINT'])return!![];if(g===c['Enum']['MARKUP_FLAG']['CIRCLE_CENTER'])return!![];if(g===c['Enum']['MARKUP_FLAG']['LINE'])return!![];if(g===c['Enum']['MARKUP_FLAG']['SURFACE'])return!![];}break;case 0x2:{if(g===c['Enum']['MARKUP_FLAG']['PRESELECT'])return!![];if(g===c['Enum']['MARKUP_FLAG']['ROTATE'])return!![];if(g===c['Enum']['MARKUP_FLAG']['ZOOM'])return!![];if(g===c['Enum']['MARKUP_FLAG']['POINT'])return!![];if(g===c['Enum']['MARKUP_FLAG']['CIRCLE_CENTER'])return!![];if(g===c['Enum']['MARKUP_FLAG']['LINE'])return![];if(g===c['Enum']['MARKUP_FLAG']['SURFACE'])return!![];}break;}return![];};};export default UIMarkup_Measure_Custom_Axis_Distance;