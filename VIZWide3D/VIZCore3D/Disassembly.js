class Disassembly{constructor(a,b){let c=this,d=new Map();e();function e(){d['clear']();}this['Clear']=function(){e();},this['AddGroup']=function(f,g){let h=c['GetGroup'](f);if(h===undefined){h=[];for(let j=0x0;j<g['length'];j++){h['push'](g[j]);}d['set'](f,h);}else for(let k=0x0;k<g['length'];k++){h['push'](g[k]);}},this['DeleteGroup']=function(f){let g=c['GetGroup'](f);if(g===undefined)return;d['delete'](f);},this['ClearGroup']=function(){d['clear']();},this['GetGroup']=function(f){if(!d['has'](f))return undefined;return d[f];},this['ProcessDisassembly']=function(f,g){if(g===undefined)g=0x1;let h=g,j=a['Tree']['GetNodeByType'](b['Enum']['ENTITY_TYPES']['EntBody']),k=new Map(),l=[];if(f===0x0){let m=function(n,o,p){let q=n;for(let r=0x0;r<q['length'];r++){for(let s=0x0;s<j['length'];s++){let t=j[s];if(k['has'](t['node_id']))continue;if(q[r]!==t['node_id'])continue;k['set'](t['node_id'],o),l['push'](t['node_id']);}}};d['forEach'](m);}else{if(f===0x1)for(let n=0x0;n<j['length'];n++){let o=j[n];if(!o['visible'])continue;if(!o['selection'])continue;if(k['has'](o['node_id']))continue;k['set'](o['node_id'],o['node_id']),l['push'](o['node_id']);}else for(let p=0x0;p<j['length'];p++){let q=j[p];if(k['has'](q['node_id']))continue;k['set'](q['node_id'],q['node_id']),l['push'](q['node_id']);}}if(l['length']<=0x0)return;{let r=a['Tree']['GetDataToNode'](l),s=a['Tree']['GetBBoxArrayID'](l),t=new Map();for(let w=0x0;w<r['length'];w++){let x=r[w],y=k['get'](x['node_id']);if(t['has'](y)){let z=t['get'](y);z['push'](x);}else{let A=[];A['push'](x),t['set'](y,A);}}let u=new Map(),v=function(B,C,D){let E=[];for(let H=0x0;H<B['length'];H++){let I=B[H];E[H]=I['node_id'];}let F=a['Tree']['GetBBoxArrayID'](E),G=new b['Vector3']()['subVectors'](F['center'],s['center']);G=G['multiplyScalar'](h);for(let J=0x0;J<B['length'];J++){let K=B[J],L=new b['Matrix4']();if(K['transform']!==undefined)L['copy'](K['transform']);let M=new b['Matrix4']();M['makeTranslation'](G['x'],G['y'],G['z']);let N=new b['Matrix4']()['multiplyMatrices'](M,L);u['set'](K['node_id'],N);}};t['forEach'](v),a['Tree']['SetMultiObjectTransform'](Array['from'](u['keys']()),Array['from'](u['values']())),a['Data']['UpdateAllObjectsBBox'](),a['Camera']['ResizeGLWindow'](),a['ViewRefresh']();}};}}export default Disassembly;