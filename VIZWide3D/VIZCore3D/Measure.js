class Measure{constructor(a,b){let c=this,d=0xc,e=0x8,f=b['Enum']['MEASURE_UNIT']['mm'],g=0x2,h=new b['Color'](0xff,0xff,0xff,0xff),i=new b['Color'](0xff,0x0,0x0,0xff),j=new b['Color'](0xff,0x0,0x0,0xff),k=new b['Color'](0xff,0xff,0xff,0xff),l=new b['Color'](0x29,0x8f,0xc2,0xff),m=new b['Color'](0x0,0x0,0x0,0xff),n=new b['Color'](0xff,0xff,0xff,0x80),o=!![];this['UpdateReviewText']=function(p,q){if(p===undefined)return;c['UpdateReviewTextByType'](p['itemType'],p['text']['value'],q);},this['UpdateReviewTextByType']=function(p,q,r){switch(p){case b['Enum']['REVIEW_TYPES']['RK_MEASURE_POS']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_CYLINDER_CYLINDER_CROSS_POINT']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_NORMAL_PLANE_CROSS_POINT']:{q['length']=0x0;if(a['Grid']['ShowFrameNumber']){let s=undefined,t=undefined,u=undefined,v=a['Grid']['GetSnapItem'](b['Enum']['Axis']['X'],r[0x0]['x']),w=a['Grid']['GetSnapItem'](b['Enum']['Axis']['Y'],r[0x0]['y']),A=a['Grid']['GetSnapItem'](b['Enum']['Axis']['Z'],r[0x0]['z']);if(v){let B=v['Offset']>=0x0?'\x20+':'\x20';s=v['Label']+B+v['Offset']['toFixed'](g);}if(w){let C=w['Offset']>=0x0?'\x20+':'\x20';t=w['Label']+C+w['Offset']['toFixed'](g);}if(A){let D=A['Offset']>=0x0?'\x20+':'\x20';u=A['Label']+D+A['Offset']['toFixed'](g);}if(s)q['push'](s);else q['push']('X\x20=\x20'+r[0x0]['x']['toFixed'](g));if(t)q['push'](t);else q['push']('Y\x20=\x20'+r[0x0]['y']['toFixed'](g));if(u)q['push'](u);else q['push']('Z\x20=\x20'+r[0x0]['z']['toFixed'](g));}q['length']===0x0&&(q['push']('X\x20=\x20'+r[0x0]['x']['toFixed'](g)+'\x20'+a['Data']['GetUnitString']()),q['push']('Y\x20=\x20'+r[0x0]['y']['toFixed'](g)+'\x20'+a['Data']['GetUnitString']()),q['push']('Z\x20=\x20'+r[0x0]['z']['toFixed'](g)+'\x20'+a['Data']['GetUnitString']()));}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_DISTANCE']:{q['length']=0x0;let E=new b['Vector3']()['subVectors'](r[0x0],r[0x1])['length']();E=a['Data']['GetCustomUnitValue'](E);let F=E['toFixed'](g);F=F+'\x20'+a['Data']['GetUnitString'](),q['push'](F);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_ANGLE']:{q['length']=0x0;let G=new b['Vector3']()['subVectors'](r[0x1],r[0x0])['normalize'](),H=new b['Vector3']()['subVectors'](r[0x2],r[0x0])['normalize'](),I=G['dot'](H),J=a['Util']['RadToDeg'](Math['acos'](I)),K=J['toFixed'](g);K=K+'\x20°',q['push'](K);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_OBJECTMINDISTANCE']:{q['length']=0x0;let L=new b['Vector3']()['subVectors'](r[0x0],r[0x1])['length']();L=a['Data']['GetCustomUnitValue'](L);let M=L['toFixed'](g);M=M+'\x20'+a['Data']['GetUnitString'](),q['push'](M);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_NORMALDISTANCE']:{q['length']=0x0;let N=new b['Plane']()['setFromNormalAndCoplanarPoint'](r[0x2],r[0x0]),O=N['distanceToPoint'](r[0x1]),P=new b['Vector3']()['addVectors'](r[0x0],new b['Vector3']()['copy'](r[0x2])['multiplyScalar'](O)),Q=new b['Vector3']()['subVectors'](r[0x0],P)['length']();Q=a['Data']['GetCustomUnitValue'](Q);let R=Q['toFixed'](g);R=R+'\x20'+a['Data']['GetUnitString'](),q['push'](R);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_HORIZONTALITYDISTANCE']:{q['length']=0x0;let S=new b['Vector3']()['subVectors'](r[0x1],r[0x0]),T=Math['abs'](S['dot'](r[0x2]));T=a['Data']['GetCustomUnitValue'](T);let U=T['toFixed'](g);U=U+'\x20'+a['Data']['GetUnitString'](),q['push'](U);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_ORTHODISTANCE']:{q['length']=0x0;let V=new b['Plane']()['setFromNormalAndCoplanarPoint'](r[0x2],r[0x0]),W=V['projectPoint'](r[0x1]),X=new b['Vector3']()['subVectors'](r[0x0],W)['length']();X=a['Data']['GetCustomUnitValue'](X);let Y=X['toFixed'](g);Y=Y+'\x20'+a['Data']['GetUnitString'](),q['push'](Y);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_X_AXIS_DISTANCE']:{q['length']=0x0;let Z=Math['abs'](r[0x0]['x']-r[0x1]['x']);Z=a['Data']['GetCustomUnitValue'](Z);let a0=Z['toFixed'](g);a0='X\x20=\x20'+a0+'\x20'+a['Data']['GetUnitString'](),q['push'](a0);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_Y_AXIS_DISTANCE']:{q['length']=0x0;let a1=Math['abs'](r[0x0]['y']-r[0x1]['y']);a1=a['Data']['GetCustomUnitValue'](a1);let a2=a1['toFixed'](g);a2='Y\x20=\x20'+a2+'\x20'+a['Data']['GetUnitString'](),q['push'](a2);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_Z_AXIS_DISTANCE']:{q['length']=0x0;let a3=Math['abs'](r[0x0]['z']-r[0x1]['z']);a3=a['Data']['GetCustomUnitValue'](a3);let a4=a3['toFixed'](g);a4='Z\x20=\x20'+a4+'\x20'+a['Data']['GetUnitString'](),q['push'](a4);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_XY_AXIS_DISTANCE']:{q['length']=0x0;let a5=new b['Vector3']()['subVectors'](r[0x0],r[0x1]);a5['z']=0x0;let a6=a5['length']();a6=a['Data']['GetCustomUnitValue'](a6);let a7=a6['toFixed'](g);a7='XY\x20=\x20'+a7+'\x20'+a['Data']['GetUnitString'](),q['push'](a7);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_YZ_AXIS_DISTANCE']:{q['length']=0x0;let a8=new b['Vector3']()['subVectors'](r[0x0],r[0x1]);a8['x']=0x0;let a9=a8['length']();a9=a['Data']['GetCustomUnitValue'](a9);let aa=a9['toFixed'](g);aa='YZ\x20=\x20'+aa+'\x20'+a['Data']['GetUnitString'](),q['push'](aa);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_ZX_AXIS_DISTANCE']:{q['length']=0x0;let ab=new b['Vector3']()['subVectors'](r[0x0],r[0x1]);ab['y']=0x0;let ac=ab['length']();ac=a['Data']['GetCustomUnitValue'](ac);let ad=ac['toFixed'](g);ad='ZX\x20=\x20'+ad+'\x20'+a['Data']['GetUnitString'](),q['push'](ad);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_CUSTOM_AXIS_DISTANCE']:{q['length']=0x0;let ae=new b['Vector3']()['subVectors'](r[0x0],r[0x1]),af=Math['abs'](r[0x2]['dot'](ae));af=a['Data']['GetCustomUnitValue'](af);let ag=af['toFixed'](g);ag=ag+'\x20'+a['Data']['GetUnitString'](),q['push'](ag);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKEDAREA']:{q['length']=0x0;let ah=0x0,ai,aj,ak;for(let am=0x0;am<r['length']-0x2;am++){ai=r[0x0],aj=r[am+0x1],ak=r[am+0x2],ah+=a['Util']['GetPolygonArea'](ai,aj,ak);}ah=a['Data']['GetCustomUnitValue'](ah);let al=ah['toFixed'](g);al=al+'\x20'+a['Data']['GetUnitString']()+'²',q['push'](al);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_SURFACEDISTANCE']:{q['length']=0x0;let an=new b['Vector3']()['subVectors'](r[0x0],r[0x1])['length']();an=a['Data']['GetCustomUnitValue'](an);let ao=an['toFixed'](g);ao=ao+'\x20'+a['Data']['GetUnitString'](),q['push'](ao);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_DISTANCE']:{q['length']=0x0;let ap=0x0;for(let ar=0x0;ar<r['length']-0x1;ar++){let as=new b['Vector3']()['subVectors'](r[ar],r[ar+0x1])['length']();as=a['Data']['GetCustomUnitValue'](as),ap+=as;}let aq=ap['toFixed'](g);aq=aq+'\x20'+a['Data']['GetUnitString'](),q['push'](aq);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_X_AXIS_DISTANCE']:{q['length']=0x0;let at=0x0;for(let av=0x0;av<r['length']-0x1;av++){let aw=Math['abs'](r[av]['x']-r[av+0x1]['x']);at+=a['Data']['GetCustomUnitValue'](aw);}let au=at['toFixed'](g);au='X\x20=\x20'+au+'\x20'+a['Data']['GetUnitString'](),q['push'](au);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_Y_AXIS_DISTANCE']:{q['length']=0x0;let ax=0x0;for(let az=0x0;az<r['length']-0x1;az++){let aA=Math['abs'](r[az]['y']-r[az+0x1]['y']);ax+=a['Data']['GetCustomUnitValue'](aA);}let ay=ax['toFixed'](g);ay='Y\x20=\x20'+ay+'\x20'+a['Data']['GetUnitString'](),q['push'](ay);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_Z_AXIS_DISTANCE']:{q['length']=0x0;let aB=0x0;for(let aD=0x0;aD<r['length']-0x1;aD++){let aE=Math['abs'](r[aD]['z']-r[aD+0x1]['z']);aB+=a['Data']['GetCustomUnitValue'](aE);}let aC=aB['toFixed'](g);aC='Z\x20=\x20'+aC+'\x20'+a['Data']['GetUnitString'](),q['push'](aC);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_CYLINDER_PLANE_DISTANCE']:{q['length']=0x0;let aF=new b['Vector3']()['subVectors'](r[0x0],r[0x1])['length']();aF=a['Data']['GetCustomUnitValue'](aF);let aG=aF['toFixed'](g);aG=aG+'\x20'+a['Data']['GetUnitString'](),q['push'](aG);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_CIRCLE_RADIUS']:{q['length']=0x0;let aH=new b['Vector3']()['subVectors'](r[0x0],r[0x1])['length'](),aI=aH['toFixed'](g);aI=aI+'\x20'+a['Data']['GetUnitString'](),q['push'](aI);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_CIRCLE_DIAMETER']:{q['length']=0x0;let aJ=new b['Vector3']()['subVectors'](r[0x0],r[0x1])['length']()*0x2,aK=aJ['toFixed'](g);aK=aK+'\x20'+a['Data']['GetUnitString'](),q['push'](aK);}break;}},this['UpdateReviewStyle']=function(p){p['style']['font']['color']['copy'](m),p['style']['font']['size']=d,p['style']['border']['color']['copy'](l),p['style']['background']['color']['copy'](k),p['style']['arrow']['color']['copy'](i),p['style']['arrow']['size']=e,p['style']['line']['color']['copy'](h),p['style']['point']['color']['copy'](j);switch(p['itemType']){case b['Enum']['REVIEW_TYPES']['RK_MEASURE_DISTANCE']:{p['drawitem']['axis']=o;}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_OBJECTMINDISTANCE']:{p['drawitem']['axis']=o;}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKEDAREA']:{p['style']['triangle']['color']['copy'](n);}break;}},this['AddCustomPosition']=function(p){if(p===undefined)return;let q=a['Data']['ReviewItem']();q['itemType']=b['Enum']['REVIEW_TYPES']['RK_MEASURE_POS'];let r=[];return r[0x0]=p,c['UpdateReviewStyle'](q),c['UpdateReviewText'](q,r),q['text']['position']=new b['Vector3']()['copy'](p),q['drawitem']['position'][0x0]=new b['Vector3']()['copy'](p),a['Data']['Reviews']['push'](q),q;},this['AddCustomAxisDistance']=function(p,q,r){if(p===undefined||q===undefined||r===undefined)return;if(p!==b['Enum']['REVIEW_TYPES']['RK_MEASURE_X_AXIS_DISTANCE']&&p!==b['Enum']['REVIEW_TYPES']['RK_MEASURE_Y_AXIS_DISTANCE']&&p!==b['Enum']['REVIEW_TYPES']['RK_MEASURE_Z_AXIS_DISTANCE'])return;let s=a['Data']['ReviewItem']();s['itemType']=p,s['drawitem']['position'][0x0]=new b['Vector3']()['copy'](q),s['drawitem']['position'][0x1]=new b['Vector3']()['copy'](r),s['text']['position']=new b['Vector3']()['copy'](q);let t=s['drawitem']['position'];return c['UpdateReviewStyle'](s),c['UpdateReviewText'](s,t),a['Data']['Reviews']['push'](s),s;},this['AddCustom3PointAngle']=function(p,q,r){if(p===undefined||q===undefined||r===undefined)return;let s=a['Data']['ReviewItem']();s['itemType']=b['Enum']['REVIEW_TYPES']['RK_MEASURE_ANGLE'],s['drawitem']['position'][0x0]=new b['Vector3']()['copy'](p),s['drawitem']['position'][0x1]=new b['Vector3']()['copy'](q),s['drawitem']['position'][0x2]=new b['Vector3']()['copy'](r),s['text']['position']=new b['Vector3']()['copy'](r);let t=s['drawitem']['position'];return c['UpdateReviewStyle'](s),c['UpdateReviewText'](s,t),a['Data']['Reviews']['push'](s),s;},this['AddCustomMultiPointDistance']=function(p,q,r){if(p===undefined||p['length']%0x2!==0x0)return;let s=[];for(let t=0x0;t<p['length']/0x2;t++){let u=a['Data']['ReviewItem']();if(q===undefined)u['itemType']=b['Enum']['REVIEW_TYPES']['RK_MEASURE_DISTANCE'];else u['itemType']=b['Enum']['REVIEW_TYPES']['RK_MEASURE_CUSTOM_AXIS_DISTANCE'];u['drawitem']['position'][0x0]=new b['Vector3']()['copy'](p[t*0x2+0x0]),u['drawitem']['position'][0x1]=new b['Vector3']()['copy'](p[t*0x2+0x1]);if(q)u['drawitem']['position'][0x2]=q[0x0];u['text']['position']=new b['Vector3']()['copy'](p[t*0x2+0x1]);let v=u['drawitem']['position'];c['UpdateReviewStyle'](u),c['UpdateReviewText'](u,v),a['Data']['Reviews']['push'](u),s['push'](u);}return s;};}}export default Measure;