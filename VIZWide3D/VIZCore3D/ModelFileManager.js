class ModelFileManager{constructor(a,b){let c=this;this['ListFileInfoItem']=[],this['FileInfoIdxMap']=new Map(),this['LODDownloadMap']=new Map(),this['HeaderDownloadMap']=new Map(),this['StructureDownloadMap']=new Map(),this['PropertyDownloadMap']=new Map(),this['LineDownloadMap']=new Map(),this['PMIDownloadMap']=new Map(),this['VIZWeb3DDownloadMap']=new Map(),this['listNodeID']=[],this['listIndexByID']=[],this['listDataOffset']=[],this['FileType']={'Header':0x64,'Structure':0x15,'Property':0x1e,'Material':0x32,'Mesh':0x2a,'Line':0x30,'PMI':0x31,'VIZWeb3D':0xc8},this['DownloadEventStatus']={'Header':![],'Structure':![],'Property':![],'Material':![],'Line':![],'PMI':![],'VIZWeb3D':![]};function d(e){let f=undefined;if(e===c['FileType']['Header'])f=c['HeaderDownloadMap'];else{if(e===c['FileType']['Structure'])f=c['StructureDownloadMap'];else{if(e===c['FileType']['Property'])f=c['PropertyDownloadMap'];else{if(e===c['FileType']['Mesh'])f=c['LODDownloadMap'];else{if(e===c['FileType']['Line'])f=c['LineDownloadMap'];else{if(e===c['FileType']['PMI'])f=c['PMIDownloadMap'];else e===c['FileType']['VIZWeb3D']&&(f=c['VIZWeb3DDownloadMap']);}}}}}return f;}this['IsDownloading']=function(e){let f=![],g=undefined,h=function(i,j,k){i['Status']===0x1&&(f=!![]),i['Status']===0x3&&console['log']('Status\x20::\x20',i);};g=d(e);if(g!==undefined)g['forEach'](h);return f;},this['DownloadingCount']=function(e){let f=![],g=undefined,h=0x0,i=function(j,k,l){j['Status']===0x1&&(f=!![],h++),j['Status']===0x3&&console['log']('Status\x20::\x20',j);};g=d(e);if(g!==undefined)g['forEach'](i);return h;},this['PendingCount']=function(e){let f=undefined,g=0x0,h=function(i,j,k){i['Status']===0x0&&g++;if(i['Status']===0x3){}};return e===undefined?Object['keys'](c['FileType'])['forEach'](function(i){e=c['FileType'][i],f=d(e);if(f!==undefined)f['forEach'](h);}):(f=d(e),f['forEach'](h)),g;},this['GetDownloadFile']=function(e){let f=undefined,g=undefined;g=d(e);let h=function(i,j,k){if(i['Status']===0x0){if(f===undefined)f=i;}};return g['forEach'](h),f;},this['GetDownloadCurrentFile']=function(e){let f=undefined,g=undefined;g=d(e);let h=function(i,j,k){if(i['Current']===!![]){if(f===undefined)f=i;}};return g['forEach'](h),f;},this['DeleteDownloadFile']=function(f){let g=undefined,h=function(i,j,k){i['ID']['localeCompare'](f['ID'])===0x0&&k['delete'](j);};try{g=d(f['DataType']);if(g!==undefined)g['forEach'](h);}catch(i){console['log'](i);}},this['DeleteDownloadFileByFileKey']=function(e){let f=function(g,h,i){if(!a['Util']['EqualDataTypeValue'](g['Key'],e))return;g['Status']=0x3,i['delete'](h);};c['HeaderDownloadMap']['forEach'](f),c['StructureDownloadMap']['forEach'](f),c['PropertyDownloadMap']['forEach'](f),c['LineDownloadMap']['forEach'](f),c['PMIDownloadMap']['forEach'](f),c['VIZWeb3DDownloadMap']['forEach'](f),c['DownloadEventStatus']={'Header':![],'Structure':![],'Property':![],'Material':![],'Line':![],'PMI':![],'VIZWeb3D':![]};},this['IsDownloadFile']=function(e){let f=undefined;f=d(e);if(f!==undefined){if(f['size']>0x0)return!![];else return![];}else return![];},this['GetDownloadEventStatus']=function(e){if(e===c['FileType']['Header'])return c['DownloadEventStatus']['Header'];else{if(e===c['FileType']['Structure'])return c['DownloadEventStatus']['Structure'];else{if(e===c['FileType']['Property'])return c['DownloadEventStatus']['Property'];else{if(e===c['FileType']['Line'])return c['DownloadEventStatus']['Line'];else{if(e===c['FileType']['PMI'])return c['DownloadEventStatus']['PMI'];else{if(e===c['FileType']['VIZWeb3D'])return c['DownloadEventStatus']['VIZWeb3D'];}}}}}},this['SetDownloadEventStatus']=function(e,f){if(e===c['FileType']['Header'])return c['DownloadEventStatus']['Header']=f;else{if(e===c['FileType']['Structure'])return c['DownloadEventStatus']['Structure']=f;else{if(e===c['FileType']['Property'])return c['DownloadEventStatus']['Property']=f;else{if(e===c['FileType']['Line'])return c['DownloadEventStatus']['Line']=f;else{if(e===c['FileType']['PMI'])return c['DownloadEventStatus']['PMI']=f;else{if(e===c['FileType']['VIZWeb3D'])return c['DownloadEventStatus']['VIZWeb3D']=f;}}}}}},this['ClearEventStatus']=function(){c['DownloadEventStatus']={'Header':![],'Structure':![],'Property':![],'Material':![],'Line':![],'PMI':![],'VIZWeb3D':![]};},this['IsDownloadFileByFileKey']=function(e,f){let g=![],h=function(i,j,k){if(!a['Util']['EqualDataTypeValue'](i['Key'],e))return;g=!![];};if(f!==undefined||f===c['FileType']['Header'])c['HeaderDownloadMap']['forEach'](h);if(g)return g;if(f!==undefined||f===c['FileType']['Structure'])c['StructureDownloadMap']['forEach'](h);if(g)return g;if(f!==undefined||f===c['FileType']['Property'])c['PropertyDownloadMap']['forEach'](h);if(g)return g;if(f!==undefined||f===c['FileType']['Line'])c['LineDownloadMap']['forEach'](h);if(g)return g;if(f!==undefined||f===c['FileType']['PMI'])c['PMIDownloadMap']['forEach'](h);if(g)return g;if(f!==undefined||f===c['FileType']['VIZWeb3D'])c['VIZWeb3DDownloadMap']['forEach'](h);return g;},this['Clear']=function(){c['ListFileInfoItem']=[],c['FileInfoIdxMap']['clear'](),c['LODDownloadMap']['clear'](),c['HeaderDownloadMap']['clear'](),c['StructureDownloadMap']['clear'](),c['PropertyDownloadMap']['clear'](),c['LineDownloadMap']['clear'](),c['PMIDownloadMap']['clear'](),c['VIZWeb3DDownloadMap']['clear'](),c['DownloadEventStatus']={'Header':![],'Structure':![],'Property':![],'Material':![],'Line':![],'PMI':![],'VIZWeb3D':![]},c['listNodeID']['splice'](0x0,c['listNodeID']['length']),c['listIndexByID']['splice'](0x0,c['listIndexByID']['length']),c['listDataOffset']['splice'](0x0,c['listDataOffset']['length']);},this['CreateFileInfoAndFileDataInfo']=function(e,f,g,h,i,j,k){let l=a['Data']['FileInfoItem']();l['IsFileHeader']=!![],l['Header']=e['Header'],l['id_file']=e['Key'];if(f)for(let m=0x0;m<f['length'];m++){const n=f[m];c['AddFileDataInfo'](l,n,b['Enum']['FILEINFOTYPE']['STRUCTURE']);}if(g)for(let o=0x0;o<g['length'];o++){const p=g[o],q=p['file'];let r=a['Data']['FileDataInfoItem']();r['Url']=q,r['tag']=p,r['fileInfoType']=b['Enum']['FILEINFOTYPE']['MESH'],l['Mesh']['push'](q),l['mapFileDataInfoItem']['set'](q,r);}if(h)for(let s=0x0;s<h['length'];s++){const t=h[s];c['AddFileDataInfo'](l,t,b['Enum']['FILEINFOTYPE']['PROPERTY']);}if(i)for(let u=0x0;u<i['length'];u++){const v=i[u];c['AddFileDataInfo'](l,v,b['Enum']['FILEINFOTYPE']['MATERIAL']);}if(j)for(let w=0x0;w<j['length'];w++){const x=j[w];c['AddFileDataInfo'](l,x,b['Enum']['FILEINFOTYPE']['LINE']);}if(k)for(let y=0x0;y<k['length'];y++){const z=k[y];c['AddFileDataInfo'](l,z,b['Enum']['FILEINFOTYPE']['PMI']);}return l;},this['CreateFileInfoEmpty']=function(e,f){let g=a['Data']['FileInfoItem']();g['IsFileHeader']=![],g['id_file']=e['Key'];let h=a['Data']['AreaDataItem'](e['Key']);h['file']=e['Url'];{const i=e['Url'];let j=a['Data']['FileDataInfoItem']();j['Url']=i,j['tag']=h,f===undefined?(j['fileInfoType']=b['Enum']['FILEINFOTYPE']['MESH'],g['Mesh']['push'](i)):(j['fileInfoType']=f,g['VIZWeb3D']['push'](i)),g['mapFileDataInfoItem']['set'](i,j);}return g;},this['AddFileDataInfo']=function(e,f,g){if(e===undefined)return undefined;let h=a['Data']['FileDataInfoItem']();h['Url']=f,h['fileInfoType']=g;switch(h['fileInfoType']){case b['Enum']['FILEINFOTYPE']['STRUCTURE']:{e['Structure']['push'](f),e['mapFileDataInfoItem']['set'](f,h);}break;case b['Enum']['FILEINFOTYPE']['PROPERTY']:{e['Property']['push'](f),e['mapFileDataInfoItem']['set'](f,h);}break;case b['Enum']['FILEINFOTYPE']['MATERIAL']:{e['Material']['push'](f),e['mapFileDataInfoItem']['set'](f,h);}break;case b['Enum']['FILEINFOTYPE']['MESH']:{e['Mesh']['push'](f),e['mapFileDataInfoItem']['set'](f,h);}break;case b['Enum']['FILEINFOTYPE']['LINE']:{e['Line']['push'](f),e['mapFileDataInfoItem']['set'](f,h);}break;case b['Enum']['FILEINFOTYPE']['PMI']:{e['PMI']['push'](f),e['mapFileDataInfoItem']['set'](f,h);}break;case b['Enum']['FILEINFOTYPE']['VIZWeb3D']:{e['VIZWeb3D']['push'](f),e['mapFileDataInfoItem']['set'](f,h);}break;}return h;},this['AddFileInfo']=function(e,f){if(c['FileInfoIdxMap']['has'](e))return![];let g=c['ListFileInfoItem']['length'];return c['ListFileInfoItem']['push'](f),c['FileInfoIdxMap']['set'](e,g),!![];},this['GetFileInfos']=function(){return c['ListFileInfoItem'];},this['HasLineData']=()=>{let e=![];for(let f=0x0;f<c['ListFileInfoItem']['length'];f++){let g=c['ListFileInfoItem'][f];if(g['listLine']!==undefined){if(g['listLine']['length']>0x0){e=!![];break;}}}return e;},this['GetLineData']=()=>{let e=[];for(let f=0x0;f<c['ListFileInfoItem']['length'];f++){let g=c['ListFileInfoItem'][f];g['listLine']!==undefined&&(g['listLine']['length']>0x0&&(e=e['concat'](g['listLine'])));}return e;},this['GetFileInfo']=function(e){let f=c['FileInfoIdxMap']['get'](e);if(f!==undefined)return c['ListFileInfoItem'][f];return undefined;},this['GetFileInfoByUrl']=function(e){let f=c['GetFileKeyByUrl'](e);if(f===undefined)return undefined;if(typeof f==='string'){if(f['localeCompare']('')===0x0)return undefined;}return c['GetFileInfo'](f);},this['GetFileKeyByUrl']=function(e){let f=![],g=undefined;for(let h=0x0;h<c['ListFileInfoItem']['length'];h++){if(f)return;let j=c['ListFileInfoItem'][h];if(!j['IsFileHeader'])continue;if(j['Header']['Url']['localeCompare'](e)!==0x0)continue;g=j['id_file'],f=!![];break;}return g;},this['GetFileKeyByNodeIndex']=function(e){let f=![],g=undefined;for(let h=0x0;h<c['ListFileInfoItem']['length'];h++){if(f)break;let j=c['ListFileInfoItem'][h];if(e>=j['idx_start']&&e<j['idx_end']){g=j['id_file'],f=!![];break;}}return g;},this['GetFileKeyByNodeID']=function(e){let f=c['GetNodeIndex'](e);if(f===undefined)return undefined;return c['GetFileKeyByNodeIndex'](f);},this['GetFileDataInfoItem']=function(e,f,g){let h=undefined,i=c['GetFileInfo'](e);if(i===undefined)return h;let j=i['mapFileDataInfoItem']['get'](f);if(j!==undefined){if(g===undefined||j['fileInfoType']===g)h=j;}return h;},this['DeleteFileInfo']=function(e){if(!c['FileInfoIdxMap']['has'](e))return;let f=c['FileInfoIdxMap']['get'](e);c['FileInfoIdxMap']['delete'](e),c['ListFileInfoItem']['splice'](f,0x1);for(let g=0x0;g<c['ListFileInfoItem']['length'];g++){c['FileInfoIdxMap']['set'](c['ListFileInfoItem'][g]['id_file'],g);}},this['SetDownloadFileData']=function(e,f){if(f===undefined)return;if(f['Status']===0x3||f['Crash'])return;let g=c['GetFileInfo'](e);if(g===undefined)return;let h=g['mapFileDataInfoItem']['get'](f['Url']);h!==undefined&&(h['Download']=!![]);},this['IsCompletedDownloadFileData']=function(e,f){let g=c['GetFileInfo'](e);if(g===undefined)return;let h=0x0,j=0x0;if(f===undefined||f===b['Enum']['FILEINFOTYPE']['STRUCTURE']){j+=g['Structure']['length'];if(g['StructureCompleted'])h+=g['Structure']['length'];else for(let k=0x0;k<g['Structure']['length'];k++){let l=g['mapFileDataInfoItem']['get'](g['Structure'][k]);if(l['Download'])h++;}}if(f===undefined||f===b['Enum']['FILEINFOTYPE']['PROPERTY']){j+=g['Property']['length'];if(g['PropertyCompleted'])h+=g['Property']['length'];else for(let m=0x0;m<g['Property']['length'];m++){let n=g['mapFileDataInfoItem']['get'](g['Property'][m]);if(n['Download'])h++;}}if(f===undefined||f===b['Enum']['FILEINFOTYPE']['MATERIAL']){j+=g['Material']['length'];if(g['MaterialCompleted'])h+=g['Material']['length'];else for(let o=0x0;o<g['Material']['length'];o++){let p=g['mapFileDataInfoItem']['get'](g['Material'][o]);if(p['Download'])h++;}}if(f===undefined||f===b['Enum']['FILEINFOTYPE']['MESH']){j+=g['Mesh']['length'];if(g['MeshCompleted'])h+=g['Mesh']['length'];else for(let q=0x0;q<g['Mesh']['length'];q++){let r=g['mapFileDataInfoItem']['get'](g['Mesh'][q]);if(r['Download'])h++;}}if(f===undefined||f===b['Enum']['FILEINFOTYPE']['LINE']){j+=g['Line']['length'];if(g['LineCompleted'])h+=g['Line']['length'];else for(let s=0x0;s<g['Line']['length'];s++){let t=g['mapFileDataInfoItem']['get'](g['Line'][s]);if(t['Download'])h++;}}if(f===undefined||f===b['Enum']['FILEINFOTYPE']['PMI']){j+=g['PMI']['length'];if(g['PMICompleted'])h+=g['PMI']['length'];else for(let u=0x0;u<g['PMI']['length'];u++){let v=g['mapFileDataInfoItem']['get'](g['PMI'][u]);if(v['Download'])h++;}}if(f===b['Enum']['FILEINFOTYPE']['VIZWeb3D']){j+=g['VIZWeb3D']['length'];if(g['MeshCompleted'])h+=g['VIZWeb3D']['length'];else for(let w=0x0;w<g['VIZWeb3D']['length'];w++){let x=g['mapFileDataInfoItem']['get'](g['VIZWeb3D'][w]);if(x['Download'])h++;}}if(h===j)return!![];return![];},this['GetFileAreaData']=function(e,f){let g=undefined,h=c['GetFileDataInfoItem'](e,f,b['Enum']['FILEINFOTYPE']['MESH']);if(h===undefined)return g;if(h['tag']===undefined)return g;return g=h['tag'],g;},this['GetFileStructureBinary']=function(e){let f=c['GetFileInfo'](e);if(f===undefined)return undefined;for(let g=0x0;g<f['Structure']['length'];g++){let h=f['mapFileDataInfoItem']['get'](f['Structure'][g]);if(h===undefined)continue;if(h['tag']===undefined)continue;return h['tag'];};return undefined;},this['GetFileStructureBinaryByOffset']=function(e){let f=undefined;if(e===undefined||e<0x0)return f;for(let g=0x0;g<c['ListFileInfoItem']['length'];++g){let h=c['ListFileInfoItem'][g];for(let j=0x0;j<h['Structure']['length'];j++){let k=h['mapFileDataInfoItem']['get'](h['Structure'][j]);if(k===undefined)continue;if(k['tag']===undefined)continue;let l=k['tag']['listNodeID']['length']*k['tag']['size'];if(e>=l)e=e-l;else{f=k['tag'];break;}}if(f!==undefined)break;}return f;},this['GetFileStructureOffsetByOffset']=function(e){let f=-0x1;if(e===undefined||e<0x0)return f;for(let g=0x0;g<c['ListFileInfoItem']['length'];++g){let h=c['ListFileInfoItem'][g];for(let j=0x0;j<h['Structure']['length'];j++){let k=h['mapFileDataInfoItem']['get'](h['Structure'][j]);if(k===undefined)continue;if(k['tag']===undefined)continue;let l=k['tag']['listNodeID']['length']*k['tag']['size'];if(e>=l)e=e-l;else{f=e;break;}}if(f>=0x0)break;}return f;},this['AddNodeIndexList']=function(e){c['RefreshNodeIndexList']();return;let f=c['listNodeID']['length'],g=0x0,h=-0x1;if(c['ListFileInfoItem']['length']>0x0){let n=0x0;for(let o=0x0;o<c['ListFileInfoItem']['length'];o++){let p=c['ListFileInfoItem'][o];if(a['Util']['EqualDataTypeValue'](e['id_file'],p['id_file'])){h=o;break;}for(let q=0x0;q<p['Structure']['length'];q++){let r=p['mapFileDataInfoItem']['get'](p['Structure'][q]);if(r['tag']===undefined)continue;let s=r['tag']['listNodeID']['length'],t=r['tag']['size'];n+=s*t;}}g=n;}let l=a['Data']['GetStartID'](e['id_file']),m=f;for(let u=0x0;u<e['Structure']['length'];u++){let v=e['mapFileDataInfoItem']['get'](e['Structure'][u]);if(v['tag']===undefined)continue;let w=f,x=g,y=v['tag']['listNodeID']['length'],z=v['tag']['size'];for(let A=0x0;A<y;A++){let B=v['tag']['listNodeID'][A],C=B+l;c['listNodeID'][f]=C,c['listIndexByID'][C]=f,c['listDataOffset'][f]=g,f++,g+=z;}g+=z,v['tag']['idx_start']=w,v['tag']['idx_end']=f,v['tag']['offset_start']=x;}e['idx_start']=m,e['idx_end']=f;},this['RefreshNodeIndexList']=function(){c['listNodeID']['splice'](0x0,c['listNodeID']['length']),c['listIndexByID']['splice'](0x0,c['listIndexByID']['length']),c['listDataOffset']['splice'](0x0,c['listDataOffset']['length']);let e=0x0,f=0x0,g=0x0;for(let h=0x0;h<c['ListFileInfoItem']['length'];h++){let l=c['ListFileInfoItem'][h];if(l['listNodeID']['length']===0x0)continue;let m=a['Data']['GetStartID'](l['id_file']),n=e,o=f+g;for(let p=0x0;p<l['Structure']['length'];p++){let q=l['mapFileDataInfoItem']['get'](l['Structure'][p]);if(q['tag']===undefined)continue;let r=e,s=f,t=q['tag']['listNodeID']['length'],u=q['tag']['size'];for(let v=0x0;v<t;v++){let w=q['tag']['listNodeID'][v],x=w+m;c['listNodeID'][e]=x,c['listIndexByID'][x]=e,c['listDataOffset'][e]=f,e++,f+=u;}q['tag']['idx_start']=r,q['tag']['idx_end']=e,q['tag']['offset_start']=s,g=u;}l['idx_start']=n,l['idx_end']=e;}},this['GetNodeCount']=function(){return c['listNodeID']['length'];},this['GetNodeID']=function(e){return c['listNodeID'][e];},this['GetNodeIndex']=function(e){return c['listIndexByID'][e];},this['GetNodeDataOffset']=function(e){return c['listDataOffset'][e];},this['GetNodeIndexByOffset']=function(e){let f=-0x1,g=0x0;if(e===undefined||e<0x0)return f;for(let h=0x0;h<c['ListFileInfoItem']['length'];++h){if(f>=0x0)break;let j=c['ListFileInfoItem'][h];for(let k=0x0;k<j['Structure']['length'];k++){let l=j['mapFileDataInfoItem']['get'](j['Structure'][k]);if(l===undefined)continue;if(l['tag']===undefined)continue;if(l['tag']['size']===0x0)continue;let m=l['tag']['listNodeID']['length']*l['tag']['size'];if(e>=m)e=e-m,g+=l['tag']['listNodeID']['length'];else{f=e/l['tag']['size'];break;}};}return f+g;},this['GetNodeOriginIndex']=function(e,f){let g=![],h=-0x1,i=c['GetFileInfo'](e);if(i===undefined)return h;if(i['Structure']['length']<=0x0)return h;return i['listIndexByID'][f];return h;},this['GetNodeOriginIndexByOffset']=function(e){let f=-0x1;if(e===undefined||e<0x0)return f;for(let g=0x0;g<c['ListFileInfoItem']['length'];++g){if(f>=0x0)break;let h=c['ListFileInfoItem'][g];for(let j=0x0;j<h['Structure']['length'];j++){let k=h['mapFileDataInfoItem']['get'](h['Structure'][j]);if(k===undefined)continue;if(k['tag']===undefined)continue;if(k['tag']['size']===0x0)continue;let l=k['tag']['listNodeID']['length']*k['tag']['size'];if(e>=l)e=e-l;else{f=e/k['tag']['size'];break;}};}return f;},this['GetNodeOriginID']=function(e,f){let g=-0x1,h=c['GetFileInfo'](e);if(h===undefined)return f;for(let i=0x0;i<h['Structure']['length'];i++){let k=h['mapFileDataInfoItem']['get'](h['Structure'][i]);if(k['tag']===undefined)continue;g=k['tag']['listNodeID'][f];if(g!==undefined)break;}return g;},this['GetNodeData']=function(e,f,g){let h=e['offset_start'],i=a['Data']['GetStartID'](e['key']),j=offset;offset=offset-h;let k=e['structure'],l=e['name'];},this['LockMeshCache']=function(e){let f=c['GetFileInfo'](e);if(f===undefined)return;f['LockCahceData']=!![];},this['UnlockMeshCache']=function(e){let f=c['GetFileInfo'](e);if(f===undefined)return;f['LockCahceData']=![];},this['SetMeshViewDistance']=function(e,f){let g=c['GetFileInfo'](e);if(g===undefined)return![];let h=![];f===undefined||f<0x0?(g['UseViewDistance']&&(h=!![]),g['UseViewDistance']=![],g['ViewDistance']=0x0):((!g['UseViewDistance']||g['ViewDistance']!==f)&&(h=!![]),g['UseViewDistance']=!![],g['ViewDistance']=f);if(h)a['Renderer']['SetViewDistanceBBox'](!![]);return h;},this['GetViewDistance']=function(){let e=0x0,f=function(g,h,i){let j=c['GetFileInfo'](h);if(j===undefined)return;if(j['UseViewDistance']){if(e===0x0)e=j['ViewDistance'];else e=Math['min'](e,j['ViewDistance']);}};return c['FileInfoIdxMap']['forEach'](f),e;},this['IsViewDistance']=function(){let e=![],f=function(g,h,i){let j=c['GetFileInfo'](h);if(j===undefined)return;j['UseViewDistance']&&(e=!![]);};return c['FileInfoIdxMap']['forEach'](f),e;},this['SetDisableViewDistanceBBox']=function(e,f,g,h){let j=c['GetFileInfo'](e);if(j===undefined)return;if(!j['UseViewDistance'])return;let k=a['Tree']['GetBodyOriginIdsFormOriginIds'](e,f);for(let l=0x0;l<k['length'];l++){let m=a['Data']['ShapeAction']['GetAction'](e,k[l]);m===undefined&&(m=a['Data']['ActionItem'](),a['Data']['ShapeAction']['SetAction'](e,k[l],m)),m['disableViewDistaceBBox']=g;};if(h===undefined)h=!![];if(h)a['Renderer']['SetViewDistanceBBox'](!![]);},this['GetAreaObjectsURL_LOD']=function(){if(a['IsUseRenderCache']()===![]){let B=[];for(let C=0x0;C<c['ListFileInfoItem']['length'];C++){let D=c['ListFileInfoItem'][C];if(!D['IsFileHeader'])continue;for(let E=0x0;E<D['Mesh']['length'];E++){let F=D['mapFileDataInfoItem']['get'](D['Mesh'][E]);if(F===undefined||F['tag']===undefined)continue;let G=F['tag'];G['cache']=!![];if(a['DemoType']===0x3){if(info['lod']===0x1)continue;}let H=a['Data']['ModelFileUrlInfo']();H['Key']=G['id_file'],H['Url']=G['file'],B['push'](H);}}return a['Renderer']['SetViewDistanceBBox'](),B;}let e=0x0;if(a['DemoType']===0x0){if(a['Camera']['cameraZoom']<0.05735421910125164)e=0x5;else{if(a['Camera']['cameraZoom']<0.07559944833472274)e=0x4;else{if(a['Camera']['cameraZoom']<0.10734324368961418)e=0x3;else{if(a['Camera']['cameraZoom']<0.3073432436896142)e=0x2;else{if(a['Camera']['cameraZoom']<1.514125)e=0x1;}}}}}else{if(a['DemoType']===0x1){if(a['Camera']['cameraZoom']<0.00763075959478948)e=0x5;else{if(a['Camera']['cameraZoom']<0.01363075959478948)e=0x4;else{if(a['Camera']['cameraZoom']<0.02763075959478948)e=0x3;else{if(a['Camera']['cameraZoom']<0.05294560142183717)e=0x2;else{if(a['Camera']['cameraZoom']<1.014125)e=0x1;}}}}}else{if(a['Camera']['cameraZoom']<0.05735421910125164)e=0x5;else{if(a['Camera']['cameraZoom']<0.07559944833472274)e=0x4;else{if(a['Camera']['cameraZoom']<0.10734324368961418)e=0x3;else{if(a['Camera']['cameraZoom']<0.3073432436896142)e=0x2;else{if(a['Camera']['cameraZoom']<1.514125)e=0x1;}}}}}}let f=[],g=function(I){let J={'index':[],'screenXY':[],'screenDepth':0x0,'distFromCenter':0x0,'Key':I['id_file'],'Url':I['file'],'lod':I['lod'],'lod_sequence':I['lod_sequence'],'tri_num':I['tri_num']};return J;},h=new b['Matrix4']()['copy'](a['Camera']['matMVP']),k=new b['Matrix4']()['copy'](a['Camera']['cameraMatrix']),l=new b['Matrix4']()['getInverse'](k),m=l['multiplyVector'](a['Camera']['cameraPosition']),n=l['multiplyVector'](a['Camera']['cameraTarget']),o=a['Camera']['near'],p=new b['Vector3']()['subVectors'](n,m);p['normalize']();let q=[p['x'],p['y'],p['z'],0x0],r=new b['Vector3']()['addVectors'](m,p['multiplyScalar'](o));q[0x3]=-(q[0x0]*r['x']+q[0x1]*r['y']+q[0x2]*r['z']);let s=function(I){if(I===undefined)return;if(I['tag']===undefined)return;let J=I['tag'],K=0x0,L=[],M=J['bbox']['min']['x'],N=J['bbox']['max']['x'],O=J['bbox']['min']['y'],P=J['bbox']['max']['y'],Q=J['bbox']['min']['z'],R=J['bbox']['max']['z'];if(a['Clipping']['IsClipping']){let a0=a['Clipping']['Get']();if(a0!==undefined){if(a0['planes']['length']===0x1){if(a0['itemType']===b['Enum']['CLIPPING_MODES']['X']){if(a0['planes'][0x0]['normal']['x']<0x0){if(M>a0['planes'][0x0]['center']['x'])return;}if(a0['planes'][0x0]['normal']['x']>0x0){if(N<a0['planes'][0x0]['center']['x'])return;}}if(a0['itemType']===b['Enum']['CLIPPING_MODES']['Y']){if(a0['planes'][0x0]['normal']['y']<0x0){if(O>a0['planes'][0x0]['center']['y'])return;}if(a0['planes'][0x0]['normal']['y']>0x0){if(P<a0['planes'][0x0]['center']['y'])return;}}if(a0['itemType']===b['Enum']['CLIPPING_MODES']['Z']){if(a0['planes'][0x0]['normal']['z']<0x0){if(Q>a0['planes'][0x0]['center']['z'])return;}if(a0['planes'][0x0]['normal']['z']>0x0){if(R<a0['planes'][0x0]['center']['z'])return;}}}else{if(a0['itemType']===b['Enum']['CLIPPING_MODES']['BOX']){if(N<a0['planes'][0x0]['center']['x'])return;if(M>a0['planes'][0x1]['center']['x'])return;if(P<a0['planes'][0x2]['center']['y'])return;if(O>a0['planes'][0x3]['center']['y'])return;if(R<a0['planes'][0x4]['center']['z'])return;if(Q>a0['planes'][0x5]['center']['z'])return;}if(a0['itemType']===b['Enum']['CLIPPING_MODES']['Y']){if(a0['planes'][0x0]['normal']['y']<0x0){if(O>a0['planes'][0x0]['center']['y'])return;}if(a0['planes'][0x0]['normal']['y']>0x0){if(P<a0['planes'][0x0]['center']['y'])return;}}if(a0['itemType']===b['Enum']['CLIPPING_MODES']['Z']){if(a0['planes'][0x0]['normal']['z']<0x0){if(Q>a0['planes'][0x0]['center']['z'])return;}if(a0['planes'][0x0]['normal']['z']>0x0){if(R<a0['planes'][0x0]['center']['z'])return;}}}}}let S=0x0,T=0x0,U=0x0,V=0x0,W=-0x1;{let a1=[];a1['push'](new b['Vector3'](M,O,Q)),a1['push'](new b['Vector3'](N,O,Q)),a1['push'](new b['Vector3'](N,P,Q)),a1['push'](new b['Vector3'](M,P,Q)),a1['push'](new b['Vector3'](M,O,R)),a1['push'](new b['Vector3'](N,O,R)),a1['push'](new b['Vector3'](N,P,R)),a1['push'](new b['Vector3'](M,P,R));let a2=[[0x0,0x3,0x4],[0x0,0x1,0x5],[0x1,0x2,0x6],[0x2,0x3,0x7],[0x4,0x8,0xb],[0x5,0x8,0x9],[0x6,0x9,0xa],[0x7,0xa,0xb]],a3=[[0x0,0x1],[0x1,0x2],[0x2,0x3],[0x3,0x0],[0x0,0x4],[0x1,0x5],[0x2,0x6],[0x3,0x7],[0x4,0x5],[0x5,0x6],[0x6,0x7],[0x7,0x4]];for(let a6=0x0;a6<a1['length'];a6++){let a7=q[0x0]*a1[a6]['x']+q[0x1]*a1[a6]['y']+q[0x2]*a1[a6]['z']+q[0x3];if(a7>=-0x1)L['push'](new b['Vector3'](a1[a6]['x'],a1[a6]['y'],a1[a6]['z']));else for(let a8=0x0;a8<0x3;a8++){let a9=a3[a2[a6][a8]][0x0],aa=a3[a2[a6][a8]][0x1],ab=q[0x0]*a1[a9]['x']+q[0x1]*a1[a9]['y']+q[0x2]*a1[a9]['z']+q[0x3],ac=q[0x0]*a1[aa]['x']+q[0x1]*a1[aa]['y']+q[0x2]*a1[aa]['z']+q[0x3];if(ab<-0x1&&ac<-0x1)continue;let ad=q[0x0]*a1[a9]['x']+q[0x1]*a1[a9]['y']+q[0x2]*a1[a9]['z']+q[0x3],ae=q[0x0]*a1[aa]['x']+q[0x1]*a1[aa]['y']+q[0x2]*a1[aa]['z']+q[0x3];ad=Math['abs'](ad),ae=Math['abs'](ae);let af=ad+ae;if(Math['abs'](af)<0.000001){L['push'](new b['Vector3'](a1[a6]['x'],a1[a6]['y'],a1[a6]['z']));continue;}let ag=new b['Vector3']()['addVectors'](new b['Vector3']()['copy'](a1[a9])['multiplyScalar'](ae/af),new b['Vector3']()['copy'](a1[aa])['multiplyScalar'](ad/af));L['push'](new b['Vector3'](ag['x'],ag['y'],ag['z']));}}let a4=new b['Vector3']()['copy'](J['bbox']['center']),a5=h['multiplyVector'](a4);for(let ah=0x0;ah<L['length'];ah++){let ai=h['multiplyVector'](L[ah]);ah===0x0?(S=T=ai['x'],U=V=ai['y'],W=ai['z']):(S=Math['min'](S,ai['x']),T=Math['max'](T,ai['x']),U=Math['min'](U,ai['y']),V=Math['max'](V,ai['y']),W=Math['min'](W,ai['z']));}}let X=[0.005,0.005],Y=T-S,Z=V-U;if(L['length']>0x0&&Y>X[0x0]&&Z>X[0x1]){let aj=M+(N-M)*0.5,ak=O+(P-O)*0.5,al=Q+(R-Q)*0.5,am=new b['Vector3']((S+T)/0x2,(U+V)/0x2,W);if(T<-0x1||S>0x1||V<-0x1||U>0x1);else{K++;let an=g(J);an['screenXY']['push'](am['x']),an['screenXY']['push'](am['y']),an['screenDepth']=am['z'];let ao=new b['Vector3'](am['x'],am['y'],0x0);an['distFromCenter']=0x0,f['push'](an);}}},t=function(I){if(I===undefined)return;if(I['tag']===undefined)return;let J=I['tag'],K=0x0,L=[],M=J['bbox']['min']['x'],N=J['bbox']['max']['x'],O=J['bbox']['min']['y'],P=J['bbox']['max']['y'],Q=J['bbox']['min']['z'],R=J['bbox']['max']['z'];if(a['Clipping']['IsClipping']){let a0=a['Clipping']['Get']();if(a0!==undefined){if(a0['planes']['length']===0x1){if(a0['itemType']===b['Enum']['CLIPPING_MODES']['X']){if(a0['planes'][0x0]['normal']['x']<0x0){if(M>a0['planes'][0x0]['center']['x'])return;}if(a0['planes'][0x0]['normal']['x']>0x0){if(N<a0['planes'][0x0]['center']['x'])return;}}if(a0['itemType']===b['Enum']['CLIPPING_MODES']['Y']){if(a0['planes'][0x0]['normal']['y']<0x0){if(O>a0['planes'][0x0]['center']['y'])return;}if(a0['planes'][0x0]['normal']['y']>0x0){if(P<a0['planes'][0x0]['center']['y'])return;}}if(a0['itemType']===b['Enum']['CLIPPING_MODES']['Z']){if(a0['planes'][0x0]['normal']['z']<0x0){if(Q>a0['planes'][0x0]['center']['z'])return;}if(a0['planes'][0x0]['normal']['z']>0x0){if(R<a0['planes'][0x0]['center']['z'])return;}}}else{if(a0['itemType']===b['Enum']['CLIPPING_MODES']['BOX']){if(N<a0['planes'][0x0]['center']['x'])return;if(M>a0['planes'][0x1]['center']['x'])return;if(P<a0['planes'][0x2]['center']['y'])return;if(O>a0['planes'][0x3]['center']['y'])return;if(R<a0['planes'][0x4]['center']['z'])return;if(Q>a0['planes'][0x5]['center']['z'])return;}if(a0['itemType']===b['Enum']['CLIPPING_MODES']['Y']){if(a0['planes'][0x0]['normal']['y']<0x0){if(O>a0['planes'][0x0]['center']['y'])return;}if(a0['planes'][0x0]['normal']['y']>0x0){if(P<a0['planes'][0x0]['center']['y'])return;}}if(a0['itemType']===b['Enum']['CLIPPING_MODES']['Z']){if(a0['planes'][0x0]['normal']['z']<0x0){if(Q>a0['planes'][0x0]['center']['z'])return;}if(a0['planes'][0x0]['normal']['z']>0x0){if(R<a0['planes'][0x0]['center']['z'])return;}}}}}let S=0x0,T=0x0,U=0x0,V=0x0,W=-0x1;{let a1=[];a1[0x0]=new b['Vector3'](M,O,Q),a1[0x1]=new b['Vector3'](N,O,Q),a1[0x2]=new b['Vector3'](N,P,Q),a1[0x3]=new b['Vector3'](M,P,Q),a1[0x4]=new b['Vector3'](M,O,R),a1[0x5]=new b['Vector3'](N,O,R),a1[0x6]=new b['Vector3'](N,P,R),a1[0x7]=new b['Vector3'](M,P,R);let a2=[[0x0,0x3,0x4],[0x0,0x1,0x5],[0x1,0x2,0x6],[0x2,0x3,0x7],[0x4,0x8,0xb],[0x5,0x8,0x9],[0x6,0x9,0xa],[0x7,0xa,0xb]],a3=[[0x0,0x1],[0x1,0x2],[0x2,0x3],[0x3,0x0],[0x0,0x4],[0x1,0x5],[0x2,0x6],[0x3,0x7],[0x4,0x5],[0x5,0x6],[0x6,0x7],[0x7,0x4]];for(let a6=0x0;a6<a1['length'];a6++){let a7=q[0x0]*a1[a6]['x']+q[0x1]*a1[a6]['y']+q[0x2]*a1[a6]['z']+q[0x3];if(a7>=-0x1)L['push'](new b['Vector3'](a1[a6]['x'],a1[a6]['y'],a1[a6]['z']));else for(let a8=0x0;a8<0x3;a8++){let a9=a3[a2[a6][a8]][0x0],aa=a3[a2[a6][a8]][0x1],ab=q[0x0]*a1[a9]['x']+q[0x1]*a1[a9]['y']+q[0x2]*a1[a9]['z']+q[0x3],ac=q[0x0]*a1[aa]['x']+q[0x1]*a1[aa]['y']+q[0x2]*a1[aa]['z']+q[0x3];if(ab<-0x1&&ac<-0x1)continue;let ad=q[0x0]*a1[a9]['x']+q[0x1]*a1[a9]['y']+q[0x2]*a1[a9]['z']+q[0x3],ae=q[0x0]*a1[aa]['x']+q[0x1]*a1[aa]['y']+q[0x2]*a1[aa]['z']+q[0x3];ad=Math['abs'](ad),ae=Math['abs'](ae);let af=ad+ae;if(Math['abs'](af)<0.000001){L['push'](new b['Vector3'](a1[a6]['x'],a1[a6]['y'],a1[a6]['z']));continue;}let ag=new b['Vector3']()['addVectors'](new b['Vector3']()['copy'](a1[a9])['multiplyScalar'](ae/af),new b['Vector3']()['copy'](a1[aa])['multiplyScalar'](ad/af));L['push'](new b['Vector3'](ag['x'],ag['y'],ag['z']));}}let a4=new b['Vector3']()['copy'](J['bbox']['center']),a5=h['multiplyVector'](a4);for(let ah=0x0;ah<L['length'];ah++){let ai=h['multiplyVector'](L[ah]);ah===0x0?(S=T=ai['x'],U=V=ai['y'],W=ai['z']):(S=Math['min'](S,ai['x']),T=Math['max'](T,ai['x']),U=Math['min'](U,ai['y']),V=Math['max'](V,ai['y']),W=Math['min'](W,ai['z']));}}let X=[0.005,0.005],Y=T-S,Z=V-U;if(L['length']>0x0&&Y>X[0x0]&&Z>X[0x1]){let aj=M+(N-M)*0.5,ak=O+(P-O)*0.5,al=Q+(R-Q)*0.5,am=new b['Vector3']((S+T)/0x2,(U+V)/0x2,W);if(T<-0x1||S>0x1||V<-0x1||U>0x1);else{K++;let an=g(J);an['screenXY']['push'](am['x']),an['screenXY']['push'](am['y']),an['screenDepth']=am['z'];let ao=new b['Vector3'](am['x'],am['y'],0x0);an['distFromCenter']=0x0,f['push'](an);}}},u=function(I,J){if(I['lod']>J['lod'])return 0x1;if(I['lod']<J['lod'])return-0x1;if(I['lod_sequence']>J['lod_sequence'])return 0x1;else{if(I['lod_sequence']<J['lod_sequence'])return-0x1;}return 0x0;},v=function(I,J){if(I['screenDepth']>J['screenDepth'])return 0x1;else{if(I['screenDepth']<J['screenDepth'])return-0x1;}return 0x0;},w=function(I,J){if(a['Configuration']['Render']['Priority']===b['Enum']['RENDER_PRIORITY']['LOD']){if(I['lod']>J['lod'])return 0x1;if(I['lod']<J['lod'])return-0x1;return 0x0;}else{if(I['lod']>J['lod'])return 0x1;if(I['lod']<J['lod'])return-0x1;if(I['screenDepth']>J['screenDepth'])return 0x1;if(I['screenDepth']<J['screenDepth'])return-0x1;}},x=new Map();if(a['Camera']['perspectiveView'])for(let I=0x0;I<c['ListFileInfoItem']['length'];I++){let J=c['ListFileInfoItem'][I];if(!J['IsFileHeader'])continue;if(x['has'](J['id_file'])===![]){if(J['LockCahceData']){for(let K=0x0;K<J['Mesh']['length'];K++){let L=J['mapFileDataInfoItem']['get'](J['Mesh'][K]);if(L===undefined)continue;if(L['tag']===undefined)continue;let M=L['tag'],N=g(M);N['screenXY'][0x0]=0x0,N['screenXY'][0x1]=0x0,f['push'](N);}x['set'](J['id_file'],!![]);continue;}}else continue;for(let O=0x0;O<J['Mesh']['length'];O++){let P=J['mapFileDataInfoItem']['get'](J['Mesh'][O]);t(P);}}else for(let Q=0x0;Q<c['ListFileInfoItem']['length'];Q++){let R=c['ListFileInfoItem'][Q];if(!R['IsFileHeader'])continue;if(x['has'](R['id_file'])===![]){if(R['LockCahceData']){for(let S=0x0;S<R['Mesh']['length'];S++){let T=R['mapFileDataInfoItem']['get'](R['Mesh'][S]);if(T===undefined)continue;if(T['tag']===undefined)continue;let U=T['tag'],V=g(U);V['screenXY'][0x0]=0x0,V['screenXY'][0x1]=0x0,f['push'](V);}x['set'](R['id_file'],!![]);continue;}}else continue;for(let W=0x0;W<R['Mesh']['length'];W++){let X=R['mapFileDataInfoItem']['get'](R['Mesh'][W]);s(X);}}{let Y=new Map(),Z=new Map(),a0=new Map();for(let a1=0x0;a1<a['Data']['Objects']['length'];a1++){let a2=a['Data']['Objects'][a1],a3=0x0;if(x['has'](a2['id_file']))continue;for(let a4=0x0;a4<a2['tag']['length'];a4++){let a5=a2['tag'][a4],a6=a['Data']['ShapeAction']['GetAction'](a2['id_file'],a5['origin_id']);a6===undefined&&console['log']('[VIZCore]\x20DELETE\x20:\x20'+a2['id_file']+',\x20id\x20:\x20'+a5['origin_id']);if(a6['selection']===!![]){let a7=undefined;Y['has'](a2['id_file'])?a7=Y['get'](a2['id_file']):(a7=new Map(),Y['set'](a2['id_file'],a7));if(!a7['has'](a2['link']))a7['set'](a2['link'],a2['link']);break;}else for(let a8=0x1;a8<a['MultiView']['length'];a8++){if(!a['MultiView'][a8]['Visible']())continue;if(!a['MultiView'][a8]['UseisolateView'])continue;if(a['MultiView'][a8]['ObjectIDs']['findIndex'](aa=>aa===a5['bodyId'])<0x0)continue;let a9=undefined;Z['has'](a2['id_file'])?a9=Z['get'](a2['id_file']):(a9=new Map(),Z['set'](a2['id_file'],a9));if(!a9['has'](a2['link']))a9['set'](a2['link'],a2['link']);break;}a6['visible']===![]&&a3++;}if(a3===a2['tag']['length']){let aa=undefined;a0['has'](a2['id_file'])?aa=a0['get'](a2['id_file']):(aa=new Map(),a0['set'](a2['id_file'],aa));if(!aa['has'](a2['link']))aa['set'](a2['link'],a2['link']);}}for(let ab=f['length']-0x1;ab>=0x0;ab--){if(x['has'](f[ab]['Key'])){f[ab]['screenDepth']=-0x3;continue;}if(a0['has'](f[ab]['Key'])){if(a0['get'](f[ab]['Key'])['has'](f[ab]['Url']))continue;}else{if(Y['has'](f[ab]['Key'])){if(Y['get'](f[ab]['Key'])['has'](f[ab]['Url']))f[ab]['screenDepth']=-0x2;}else{if(Z['has'](f[ab]['Key'])){if(Z['get'](f[ab]['Key'])['has'](f[ab]['Url']))f[ab]['screenDepth']=-0x2;}}}}if(f['length']>0x0){if(a['Configuration']['Render']['Priority']===b['Enum']['RENDER_PRIORITY']['DISTANCE'])f['sort'](v);else{if(a['Configuration']['Render']['Priority']===b['Enum']['RENDER_PRIORITY']['SHUFFLE']){f['sort'](u);let ac=f['slice'](0x0,f['length']);f['sort'](v);let ad=f['slice'](0x0,f['length']),ae=new Map(),af=0x1,ag=0x1;while(ac['length']!==0x0||ad['length']!==0x0){let ai=![],aj=![];if(ad['length']>0x0){let ak=af;while(!aj&&ad['length']!==0x0){let al=ad[0x0]['Key']+ad[0x0]['Url'];if(!ae['has'](al)){ae['set'](al,ad[0x0]),ad['splice'](0x0,0x1),ak--;if(ak<=0x0)aj=!![];}else ad['splice'](0x0,0x1);}}if(ac['length']>0x0){let am=ag;while(!ai&&ac['length']!==0x0){let an=ac[0x0]['Key']+ac[0x0]['Url'];if(!ae['has'](an)){ae['set'](an,ac[0x0]),ac['splice'](0x0,0x1),am--;if(am<=0x0)ai=!![];}else ac['splice'](0x0,0x1);}}}f['splice'](0x0,f['length']);let ah=function(ao,ap,aq){f['push'](ao);};f=Array['from'](ae['values']());}else f['sort'](u);}}if(a['IsUseProgressive']()){let ao=a['Data']['Objects']['length'],ap=undefined,aq=function(ar,as,at){let au=ap['mapFileDataInfoItem']['get'](ar);if(au['tag']===undefined)return;au['tag']['lod_sequence']=ao;};for(let ar=0x0;ar<c['ListFileInfoItem']['length'];ar++){ap=c['ListFileInfoItem'][ar],ap['Mesh']['forEach'](aq);}for(let as=0x0;as<f['length'];as++){let at=as;Y['has'](f[as]['Key'])&&(Y['get'](f[as]['Key'])['has'](f[as]['Url'])&&(at=-0x2));let au=c['GetFileAreaData'](f[as]['Key'],f[as]['Url']);if(au===undefined)continue;au['lod_sequence']=at;}}a['Renderer']['Sort'](),a['Renderer']['SetViewDistanceBBox']();}let y=f['length'];a['Configuration']['Render']['Cache']['Enable']===!![]&&(y=Math['min'](0xbb8,f['length']));let z=[],A=0x0;for(let av=0x0;av<y;av++){let aw=c['GetFileInfo'](f[av]['Key']);if(aw===undefined)continue;if(!aw['IsFileHeader'])continue;let ax=a['Data']['ModelFileUrlInfo']();ax['Key']=f[av]['Key'],ax['Url']=f[av]['Url'];let ay=c['GetFileAreaData'](ax['Key'],ax['Url']);ay!==undefined&&(a['IsUseRenderCache']()&&A>a['Configuration']['Render']['Cache']['LimitCount']?ay['cache']=![]:ay['cache']=!![]),A+=f[av]['tri_num'],z['push'](ax);}return a['Renderer']['UpdateCache'](),z;},this['SetDownloadObjectCache']=function(e,f){const g=a['RenderMeshBlockCacheNum'];if(!f){if(a['IsUseRenderCache']()&&!a['lockMeshBlockCache'])for(let k=0x0;k<e['length'];k++){let l=c['GetFileDataInfoItem'](e[k]['Key'],e[k]['Url'],b['Enum']['FILEINFOTYPE']['MESH']);if(l===undefined)continue;if(l['Download']){let m=c['GetFileAreaData'](e[k]['Key'],e[k]['Url']),n=m['cache'];for(let o=0x0;o<m['objects']['length'];o++){m['objects'][o]['flag']['cache']=n;}}}else for(let p=0x0;p<e['length'];p++){let q=c['GetFileDataInfoItem'](e[p]['Key'],e[p]['Url'],b['Enum']['FILEINFOTYPE']['MESH']);if(q===undefined)continue;if(q['Download']){let r=c['GetFileAreaData'](e[p]['Key'],e[p]['Url']),s=!![];for(let t=0x0;t<r['objects']['length'];t++){r['objects'][t]['flag']['cache']=s;}}}return;}let h=[];{for(let u=e['length']-0x1;u>=0x0;u--){let v=c['GetFileDataInfoItem'](e[u]['Key'],e[u]['Url'],b['Enum']['FILEINFOTYPE']['MESH']);if(v['Download']){let y=c['GetFileAreaData'](e[u]['Key'],e[u]['Url']),z=y['cache'];if(z){if(y['objects']['length']>0x0){if(y['objects'][0x0]['attribs']['a_index']['buffer']!==null){e['splice'](u,0x1);continue;}}}}let w=e[u]['Key']+e[u]['Url'],x=c['LODDownloadMap']['get'](w);if(x!==undefined&&x['Status']===0x1){e['splice'](u,0x1);continue;}h['push'](e[u]);}}a['Renderer']['ClearProcess'](h);for(let A=0x0;A<h['length'];A++){let B=c['LODDownloadMap']['get'](h[A]);B!==undefined&&B['Status']===0x1&&(B['Status']=0x3);}let j=function(C,D,E){if(C['Status']===0x0)E['delete'](D);else C['Status']===0x1&&console['log']('다운로드\x20목록\x20있음');};c['LODDownloadMap']['forEach'](j);},this['UpdateObjectCache']=function(e,f){const g=a['RenderMeshBlockCacheNum'];for(let h=e['length']-0x1;h>=0x0;h--){let i=c['GetFileDataInfoItem'](e[i]['Key'],e[i]['Url'],b['Enum']['CONFIG_KEY']['LOADER']['COMPLETEDTIME']['MESH']);if(i['Download']){let j=c['GetFileAreaData'](e[i]['Key'],e[i]['Url']),k=j['cache'];k&&f&&(j['objects']['length']>0x0&&(j['objects'][0x0]['attribs']['a_index']['buffer']!==null&&e['splice'](h,0x1)));}}if(a['lockMeshBlockCache']&&f)for(let l=0x0;l<urlList['length'];l++){let m=c['GetFileDataInfoItem'](e[i]['Key'],e[i]['Url'],b['Enum']['CONFIG_KEY']['LOADER']['COMPLETEDTIME']['MESH']);if(m['Download']){let n=c['GetFileAreaData'](e[i]['Key'],e[i]['Url']);if(n['objects']['length']>0x0){let o=a['CurrentRenderMeshBlockCacheNum']+objects['length']<g?!![]:![];for(let p=0x0;p<objects['length'];p++){objects[p]['flag']['cache']=o;}a['CurrentRenderMeshBlockCacheNum']+=objects['length'];}}a['CurrentRenderMeshBlockCacheNum']+=objects['length'];}return;};}}export default ModelFileManager;