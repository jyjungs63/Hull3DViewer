class ModelSearch{constructor(a,b){let c=this;this['GetModelSearchPanel']=undefined;let d=undefined,e=new b['Panel'](a);e['id']='Model_Search_Panel',e['SetLocationCenter']();let f=document['createElement']('input');f['id']='inputElement',f['className']='VIZWeb\x20SH_search_panel_input';let g=document['createElement']('button');g['className']='VIZWeb\x20SH_search_panel_button',g['id']=e['id']+'bt_ModelSearch',g['textContent']='Search',g['setAttribute']('data-language','RB0006');let h=document['createElement']('label');b['Configuration']['Language']===0x0?h['textContent']='조회\x20조건\x20:\x20':h['textContent']='Search\x20Word\x20:\x20';h['className']='VIZWeb\x20SH_search_panel_condition_label',h['setAttribute']('data-language','SP0001');let i=document['createElement']('div');i['className']='VIZWeb\x20SH_search_panel_checkbox_area';let j=document['createElement']('div');j['className']='VIZWeb\x20SH_search_panel_checkbox_div';let k=document['createElement']('div');k['id']='cb_IncludeAtt',k['className']='VIZWeb\x20SH_search_panel_checkbox\x20SH_uncheck_icon_color',k['checked']=![],j['appendChild'](k);let l=document['createElement']('label');l['textContent']='Attribute\x20Value',l['setAttribute']('for','cb_IncludeAtt'),l['className']='VIZWeb\x20SH_search_panel_checkbox_label',j['appendChild'](l),l['setAttribute']('data-language','SP0002'),i['appendChild'](j);let m=function(){k['checked']=!k['checked'],k['checked']?k['className']='VIZWeb\x20SH_search_panel_checkbox\x20SH_check_icon_color':k['className']='VIZWeb\x20SH_search_panel_checkbox\x20SH_uncheck_icon_color';};k['addEventListener']('click',function(){m();}),l['addEventListener']('click',function(){m();});let n=document['createElement']('div');n['className']='VIZWeb\x20SH_search_panel_checkbox_div';let o=document['createElement']('div');o['id']='cb_SimilarSearch',o['className']='VIZWeb\x20SH_search_panel_checkbox\x20SH_uncheck_icon_color',o['checked']=![],n['appendChild'](o);let p=document['createElement']('label');p['textContent']='Full\x20Mach',p['setAttribute']('for','cb_SimilarSearch'),p['className']='VIZWeb\x20SH_search_panel_checkbox_label',n['appendChild'](p),p['setAttribute']('data-language','SP0003'),i['appendChild'](n);let q=function(){o['checked']=!o['checked'],o['checked']?o['className']='VIZWeb\x20SH_search_panel_checkbox\x20SH_check_icon_color':o['className']='VIZWeb\x20SH_search_panel_checkbox\x20SH_uncheck_icon_color';};o['addEventListener']('click',function(){q();}),p['addEventListener']('click',function(){q();});let r=document['createElement']('div');r['className']='VIZWeb\x20SH_search_panel_checkbox_div';let s=document['createElement']('div');s['id']='cb_Re_Seach',s['className']='VIZWeb\x20SH_search_panel_checkbox\x20SH_uncheck_icon_color',s['checked']=![],r['appendChild'](s);let t=document['createElement']('label');t['textContent']='Rescan\x20Results',t['setAttribute']('for','cb_Re_Seach'),t['className']='VIZWeb\x20SH_search_panel_checkbox_label',r['appendChild'](t),t['setAttribute']('data-language','SP0004'),i['appendChild'](r);let u=function(){s['checked']=!s['checked'],s['checked']?s['className']='VIZWeb\x20SH_search_panel_checkbox\x20SH_check_icon_color':s['className']='VIZWeb\x20SH_search_panel_checkbox\x20SH_uncheck_icon_color';};s['addEventListener']('click',function(){u();}),t['addEventListener']('click',function(){u();});let v=document['createElement']('div');v['className']='VIZWeb\x20SH_search_panel_table_div';let w=document['createElement']('table');w['className']='VIZWeb\x20SH_search_panel_table',w['id']='ResultTable';let x=w['insertRow'](),y=x['insertCell'](0x0);y['className']='VIZWeb\x20SH_search_panel_table_th',y['outerHTML']='<th>No.</th>',y['style']['width']='10px';let z=x['insertCell'](0x1);z['className']='VIZWeb\x20SH_search_panel_table_th',z['outerHTML']='<th>Name</th>';let A=document['createElement']('div');A['id']='loading',A['className']='VIZWeb\x20SH_search_panel_loading',A['style']='position:absolute;\x20height\x20:\x20300px';let B=document['createElement']('div');B['className']='VIZWeb\x20SH_search_panel_spinner',A['appendChild'](B),w['appendChild'](A),v['appendChild'](w);let C=function(P){P==!![]?A['style']['display']='block':A['style']['display']='none';},D=document['createElement']('label');D['className']='VIZWeb\x20SH_search_panel_data_num',D['textContent']='Find\x20:\x200';let E=document['createElement']('div');E['className']='VIZWeb\x20SH_search_panel_checkbox_div';let F=document['createElement']('div');F['id']='cb_All_Check',F['className']='VIZWeb\x20SH_search_panel_checkbox\x20SH_uncheck_icon_color',F['checked']=![],E['appendChild'](F);let G=document['createElement']('label');G['textContent']='Select\x20All',G['setAttribute']('for','cb_AllCheckData'),G['className']='VIZWeb\x20SH_search_panel_checkbox_label',E['appendChild'](G),G['setAttribute']('data-language','RB0009');let H=function(P){P?c['SelectAll'](w):c['UnselectAll'](w),c['SetAllCheck'](P);};this['SetAllCheck']=function(P){P?F['className']='VIZWeb\x20SH_search_panel_checkbox\x20SH_check_icon_color':F['className']='VIZWeb\x20SH_search_panel_checkbox\x20SH_uncheck_icon_color';},F['addEventListener']('click',function(){F['checked']=!F['checked'],H(F['checked']);}),G['addEventListener']('click',function(){F['checked']=!F['checked'],H(F['checked']);}),e['SetContentBackgroundColorFormRGBA'](0xf0,0xf0,0xf0,0xc8);let I=document['createElement']('div');I['className']='VIZWeb\x20SH_search_panel',I['appendChild'](f),I['appendChild'](g),I['appendChild'](document['createElement']('br')),I['appendChild'](h),I['appendChild'](document['createElement']('hr')),I['appendChild'](i),I['appendChild'](document['createElement']('hr')),I['appendChild'](D),I['appendChild'](E),I['appendChild'](v),I['appendChild'](document['createElement']('br')),e['SetContent'](I),c['GetModelSearchPanel']=I,e['OnCloseButtonEvent'](N),e['SetTitleText']('Search'),e['Show'](![]);let J=0x0;f['addEventListener']('keydown',function(P){P['key']==='Enter'&&K();}),g['addEventListener']('click',function(){K();});let K=function(){F['checked']=![],F['className']='VIZWeb\x20SH_search_panel_checkbox\x20SH_uncheck_icon_color',C(!![]),setTimeout(()=>{O(f['value'],k['checked'],o['checked'],s['checked'],w,b),C(![]);},0x32);};function L(P){var Q=this,R=Q['cells'][0x1];let S=parseInt(R['getAttribute']('value'));if(P['ctrlKey']){Q['classList']['contains']('SH_search_panel_table_tr_click')?Q['classList']['remove']('SH_search_panel_table_tr_click'):Q['classList']['add']('SH_search_panel_table_tr_click');var T=document['getElementsByClassName']('SH_search_panel_table_tr_click'),U=[];for(var V=0x0;V<T['length'];V++){U['push'](parseInt(T[V]['cells'][0x1]['getAttribute']('value')));}b['Object3D']['SelectByNodeID'](U,!![],![]),w['rows']['length']>0x0&&(U['length']===w['rows']['length']-0x1?(F['checked']=!![],F['className']='VIZWeb\x20SH_search_panel_checkbox\x20SH_check_icon_color'):(F['checked']=![],F['className']='VIZWeb\x20SH_search_panel_checkbox\x20SH_uncheck_icon_color'));}else{var T=document['getElementsByClassName']('SH_search_panel_table_tr_click');F['checked']=![],F['className']='VIZWeb\x20SH_search_panel_checkbox\x20SH_uncheck_icon_color';for(var V=T['length']-0x1;V>=0x0;V--){T[V]['classList']['remove']('SH_search_panel_table_tr_click');}Q['classList']['add']('SH_search_panel_table_tr_click');let W=[];W['push'](S),b['Object3D']['SelectByNodeID'](W,!![],![]);}}function M(P){b['View']['ZoomSelectedObject'](0x0,0.2);}function N(){J=0x0;if(d!==undefined)d();};function O(P,Q,R,S,T){if(P==''){b['Main']['UIManager']['ShowMessage']('MG0014',!![],b['UIElement']['Enum']['STATUS_TYPE']['WARNING']);return;}let U=function(Y){for(let Z=Y['rows']['length']-0x1;Z>0x0;Z--){Y['deleteRow'](-0x1);}},V=[];if(Q)V=b['Object3D']['UDA']['GetKeys']();if(S){h['textContent']+='\x20+\x20'+P;var W=new Array(),X=new Array();for(let Z=0x0;Z<T['rows']['length'];Z++){if(Z==0x0)continue;let a0=T['rows'][Z]['cells'][0x1]['textContent'],a1=parseInt(T['rows'][Z]['cells'][0x1]['getAttribute']('value'));if(a0==null||a0=='')continue;R?P==a0&&(!W['includes'](a1)&&(W['push'](parseInt(a1)),X['push'](a0))):a0['includes'](P)&&(!W['includes'](a1)&&(W['push'](parseInt(a1)),X['push'](a0)));}if(Q){let a2=b['Object3D']['UDA']['GetNodeIDsByValue'](P,R);for(let a3=0x0;a3<a2['length'];a3++){let a4=b['Object3D']['FromID'](a2[a3]);for(let a5=0x0;a5<T['rows']['length'];a5++){let a6=parseInt(T['rows'][a5]['cells'][0x1]['getAttribute']('value'));a4['id']==a6&&(!W['includes'](a6)&&(W['push'](a6),X['push'](T['rows'][a5]['cells'][0x1]['textContent'])));}}}U(T);let Y=0x2;for(let a7=0x0;a7<W['length'];a7++){let a8=T['insertRow']();a8['className']='VIZWeb\x20SH_search_panel_table_tr',a8['onclick']=L,a8['ondblclick']=M;for(let a9=0x0;a9<Y;a9++){if(a9==0x0){let aa=a8['insertCell'](0x0);aa['className']='VIZWeb\x20SH_search_panel_table_td',aa['textContent']=a7+0x1,aa['setAttribute']('value',W[a7]);}else{let ab=a8['insertCell'](0x1);ab['className']='VIZWeb\x20SH_search_panel_table_td',ab['textContent']=X[a7],ab['setAttribute']('value',W[a7]);}}}}else{let ac=[];U(T);b['Configuration']['Language']===0x0?h['textContent']='조회\x20조건\x20:\x20'+P:h['textContent']='Search\x20Word\x20:\x20'+P;ac=b['Object3D']['Find']['QuickSearch'](P,R);if(Q){let ae=b['Object3D']['UDA']['GetNodeIDsByValue'](P,R);for(let af=0x0;af<ae['length'];af++){let ag=b['Object3D']['FromID'](ae[af]);!ac['find'](ah=>ah['id']==ag['id'])&&ac['push'](ag);}}let ad=0x2;for(let ah=0x0;ah<ac['length'];ah++){let ai=T['insertRow']();ai['className']='VIZWeb\x20SH_search_panel_table_tr',ai['onclick']=L,ai['ondblclick']=M;for(let aj=0x0;aj<ad;aj++){if(aj==0x0){let ak=ai['insertCell'](0x0);ak['className']='VIZWeb\x20SH_search_panel_table_td',ak['textContent']=ah+0x1,ak['setAttribute']('value',ac[ah]['id']);}else{let al=ai['insertCell'](0x1);al['className']='VIZWeb\x20SH_search_panel_table_td',al['textContent']=ac[ah]['name'],al['setAttribute']('value',ac[ah]['id']);}}}}D['textContent']='Find\x20:\x20'+(T['rows']['length']-0x1);}this['UnselectAll']=function(P){var Q=[];for(var R=0x0;R<P['rows']['length'];R++){var S=parseInt(P['rows'][R]['cells'][0x1]['getAttribute']('value'));Q['push'](S),P['rows'][R]['classList']=[],!P['rows'][R]['classList']['contains']('SH_search_panel_table_tr')&&P['rows'][R]['classList']['add']('SH_search_panel_table_tr');}b['Object3D']['SelectByNodeID'](Q,![],![]);},this['SelectAll']=function(P){var Q=[];for(var R=0x0;R<P['rows']['length'];R++){var S=parseInt(P['rows'][R]['cells'][0x1]['getAttribute']('value'));Q['push'](S),!P['rows'][R]['classList']['contains']('SH_search_panel_table_tr_click')&&P['rows'][R]['classList']['add']('SH_search_panel_table_tr_click');}b['Object3D']['SelectByNodeID'](Q,!![],![]);},this['ShowPanel']=function(){J==0x0?(e['Show'](!![]),J=0x1):(e['Show'](![]),J=0x0);},this['OnCloseButtonEvent']=function(P){d=P;};}}export default ModelSearch;