import a from'./RenderUtil.js';let Renderer=function(b,c){let d=this,e,f;this['Util']=new a(b,c),this['RenderEvent']=![],this['LockRender']=![],this['enableDrawCall']=![],this['enableTimePanel']=![],this['enableFPS']=![],this['enableProgress']=!![];let g={'nodeNum':0x0,'meshblock':0x0,'fps':0x0,'drawCall':0x0,'occlusionCullingCount':0x0},h=new c['Color'](0xff,0xff,0xff,0xff),i=new c['Color'](0xcb,0xd5,0xe0,0xff),j=new c['Color'](0xff,0xff,0xff,0xff);this['mainFramebufferClear']=!![],this['enableRenderLimit']=![],this['enableRenderLimitCnt']=0x7d0,this['currentRenderCnt']=0x0,this['enableRenderLimitRate']=-0x1;let k=0x0;this['enableOcclusion']=![],this['occlusionProcessCount']=0x0,this['occlusionProcessMax']=0x0,this['enableMaterialTextureLoadingDrawModel']=!![];let l=![],m=new c['Color'](0xff,0xff,0xff,0xa),n=![],o=new c['Color'](0xff,0xff,0xff,0xa),p=![],q=![],r=![],s=b['Configuration']['Render']['Edge']['Color'],t=b['Configuration']['Render']['Edge']['CustomColor'],u=b['Configuration']['Render']['GroupEdge']==undefined?new c['Color'](0x0,0x0,0x0,0xff):b['Configuration']['Render']['GroupEdge']['Color'],v=![],w=![],x=![],y=b['Configuration']['Render']['CustomEdge']['Color'],z=b['Configuration']['Render']['CustomEdge']['Thickness'],A=!![],B=0x1,C=new c['Color'](0xff,0xff,0xff,0xff),D=![],E=c['Enum']['RENDER_MODES']['Smooth'],F=![],G=![],H=![],I=b['Configuration']['Render']['Edge']['HiddenColor'],J=!![],K=![],L=![],M=-0x1,N=new c['Color'](0x0,0x0,0x0,0xff),O=![],P=![],Q=0.5,R=![],S=!![],T=![],U=![],V=!![],W=new c['Color'](0x0,0xc8,0x0,0xff),X=![],Y=![],Z=![],a0=!![],a1=![],a2=undefined,a3=0x2710,a4=0x186a0,a5=new c['Color'](0xff,0xff,0xff,0xff),a6=new c['Color'](0xff,0xff,0xff,0xff);this['useNoteEffect']=![];let a7=![],a8=![],a9=-0x1,aa=![],ab=0x3e8,ac=undefined,ad=-0x5,ae=0x64,af=0xa,ag=new c['Color'](0xff,0xff,0xff,0xff),ah=![],ai=0x258,aj=undefined,ak=0x5,al=0xa,am=0xa,an=new c['Color'](0xff,0xff,0xff,0xff),ao=![],ap=0x32,aq=undefined,ar=0x5,as=0xaae60,at=0x14,au=new c['Color'](0xff,0xff,0xff,0xff),av=![],aw=0x32,ax=undefined,ay=0x5,az=0x30d40,aA=0x14,aB=new c['Color'](0xff,0xff,0xff,0xff),aC=!![],aD=0x1f4,aE=c['Enum']['ViewUnderControlVisibleMode']['SHADED'],aF=!![],aG=0.2,aH=0x1,aI=new c['Color'](0x80,0x80,0x80,0xc8),aJ=0x3e8,aK=!![],aL=0x64,aM=new c['Color'](0xe6,0xe6,0xe6,0xc8),aN=![],aO=[],aP=[0x1,0x0,0x0,0x0],aQ=!![],aR=![],aS=![],aT=new c['Vector2'](),aU=new c['Color'](0xff,0x7e,0x100,0xff),aV=new c['Color'](0xff,0x0,0x0,0xff),aW=0x1,aX=![],aY=!![],aZ=![],b0=!![],b1=![],b2=!![];b4();function b3(bL,bM){bM=bM||0x1;const bN=bL['clientWidth']*bM|0x0,bO=bL['clientHeight']*bM|0x0;if(bL['width']!==bN||bL['height']!==bO)return bL['width']=bN,bL['height']=bO,!![];return![];}function b4(){e=b['gl'],f=b['ctx_review'],b3(e['canvas']),b3(f['canvas']),e['viewport'](0x0,0x0,e['canvas']['width'],e['canvas']['height']),f['clearRect'](0x0,0x0,f['canvas']['width'],f['canvas']['height']);let bL=h['glColor']();e['clearColor'](bL['r'],bL['g'],bL['b'],bL['a']),e['clear'](e['COLOR_BUFFER_BIT']);if(b['DEBUG']===!![]){if(b['DemoType']!==0x1)d['enableDrawCall']=!![];}b['DemoType']===0x1&&(d['enableTimePanel']=!![]);}this['InitCanvas']=function(){b4();};function b5(){let bL=![],bM;for(let bN=0x0;bN<b['Data']['ObjectsUpdateLength'];bN++){let bO=b['Data']['Objects'][bN];if(!bO['flag']['updateProcess'])continue;b['RenderWGL']['InitRenderPipeline'](bO,!![]),bM=bO;if(Y){bO['flag']['updateProcess']=!![];let bP=b['RenderWGL']['GetPipeline'](bO['uuid']);b['RenderWGL']['InitRenderPipelineByWireframe'](bO,bP);}bL=!![];}bL&&b0&&(b['ColorMap']['SetCurrentColorMapInfo'](bM['id_file']),b['ColorMap']['SetColorMapTexture'](bM['mapId']));}function b6(){if(Z){b7();return;}e['disable'](e['BLEND']),e['disable'](e['DEPTH_TEST']);let bL=b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['BACKGROUND']);if(bL){if(b['Configuration']['Render']['Background']===undefined){let bM=[-0x1,-0x1,0.5,0x1,-0x1,0.5,-0x1,0x1,0.5,0x1,0x1,0.5],bN=i['glColor'](),bO=j['glColor'](),bP=[bO['r'],bO['g'],bO['b'],bO['a'],bO['r'],bO['g'],bO['b'],bO['a'],bN['r'],bN['g'],bN['b'],bN['a'],bN['r'],bN['g'],bN['b'],bN['a']];const bQ=e['createBuffer']();e['bindBuffer'](e['ARRAY_BUFFER'],bQ),e['bufferData'](e['ARRAY_BUFFER'],new Float32Array(bM),e['STATIC_DRAW']);const bR=e['createBuffer']();e['bindBuffer'](e['ARRAY_BUFFER'],bR),e['bufferData'](e['ARRAY_BUFFER'],new Float32Array(bP),e['STATIC_DRAW']),e['bindBuffer'](e['ARRAY_BUFFER'],bQ),e['vertexAttribPointer'](b['Shader']['positionAttributeLocation'],0x3,e['FLOAT'],![],0x0,0x0),e['bindBuffer'](e['ARRAY_BUFFER'],bR),e['vertexAttribPointer'](b['Shader']['colorAttributeLocation'],0x4,e['FLOAT'],![],0x0,0x0),e['drawArrays'](e['TRIANGLE_STRIP'],0x0,0x4),e['deleteBuffer'](bQ),e['deleteBuffer'](bR);}else{if(b['Configuration']['Render']['Background']['Mode']===c['Enum']['BackgroundModes']['COLOR_TWO_CENTER']||b['Configuration']['Render']['Background']['Mode']===c['Enum']['BackgroundModes']['COLOR_TWO_CORNER']){let bS=b['Configuration']['Render']['Background']['OneColor']['glColor'](),bT=b['Configuration']['Render']['Background']['TwoColor']['glColor']();{let bU=undefined,bV=undefined;b['Configuration']['Render']['Background']['Mode']===c['Enum']['BackgroundModes']['COLOR_TWO_CENTER']?(bU=[-0x1,-0x1,0.5,0x1,-0x1,0.5,-0x1,0x1,0.5,0x1,0x1,0.5],bV=[bT['r'],bT['g'],bT['b'],bT['a'],bT['r'],bT['g'],bT['b'],bT['a'],bT['r'],bT['g'],bT['b'],bT['a'],bT['r'],bT['g'],bT['b'],bT['a']]):(bU=[-0x1,-0x1,0.5,0x1,-0x1,0.5,-0x1,0x1,0.5,0x1,0x1,0.5],bV=[bS['r'],bS['g'],bS['b'],bS['a'],bS['r'],bS['g'],bS['b'],bS['a'],bS['r'],bS['g'],bS['b'],bS['a'],bS['r'],bS['g'],bS['b'],bS['a']]);const bW=e['createBuffer']();e['bindBuffer'](e['ARRAY_BUFFER'],bW),e['bufferData'](e['ARRAY_BUFFER'],new Float32Array(bU),e['STATIC_DRAW']);const bX=e['createBuffer']();e['bindBuffer'](e['ARRAY_BUFFER'],bX),e['bufferData'](e['ARRAY_BUFFER'],new Float32Array(bV),e['STATIC_DRAW']),e['bindBuffer'](e['ARRAY_BUFFER'],bW),e['vertexAttribPointer'](b['Shader']['positionAttributeLocation'],0x3,e['FLOAT'],![],0x0,0x0),e['bindBuffer'](e['ARRAY_BUFFER'],bX),e['vertexAttribPointer'](b['Shader']['colorAttributeLocation'],0x4,e['FLOAT'],![],0x0,0x0),e['drawArrays'](e['TRIANGLE_STRIP'],0x0,0x4),e['deleteBuffer'](bW),e['deleteBuffer'](bX);}{let bY=0x0,bZ=[],c0=[];switch(b['Configuration']['Render']['Background']['Mode']){case c['Enum']['BackgroundModes']['COLOR_TWO_CENTER']:{let c3=d['GetSizeWidth'](),c4=d['GetSizeHeight'](),c5=Math['sqrt'](c3*c3+c4*c4)*0.5*1.5;c5/=c3<c4?c3:c4;for(let c6=0x0;c6<0x24;c6++){let c7=Math['cos'](c6/0x12*3.141592654)*c5,c8=Math['cos']((c6+0x1)/0x12*3.141592654)*c5,c9=Math['sin'](c6/0x12*3.141592654)*c5,ca=Math['sin']((c6+0x1)/0x12*3.141592654)*c5;bZ[bY*0x3+0x0]=0x0,bZ[bY*0x3+0x1]=0x0,bZ[bY*0x3+0x2]=0.5,c0[bY*0x4+0x0]=bS['r'],c0[bY*0x4+0x1]=bS['g'],c0[bY*0x4+0x2]=bS['b'],c0[bY*0x4+0x3]=bS['a'],bY++,bZ[bY*0x3+0x0]=c7,bZ[bY*0x3+0x1]=c9,bZ[bY*0x3+0x2]=0.5,c0[bY*0x4+0x0]=bT['r'],c0[bY*0x4+0x1]=bT['g'],c0[bY*0x4+0x2]=bT['b'],c0[bY*0x4+0x3]=bT['a'],bY++,bZ[bY*0x3+0x0]=c8,bZ[bY*0x3+0x1]=ca,bZ[bY*0x3+0x2]=0.5,c0[bY*0x4+0x0]=bT['r'],c0[bY*0x4+0x1]=bT['g'],c0[bY*0x4+0x2]=bT['b'],c0[bY*0x4+0x3]=bT['a'],bY++;}}break;case c['Enum']['BackgroundModes']['COLOR_TWO_CORNER']:{let cb=d['GetSizeWidth'](),cc=d['GetSizeHeight'](),cd=Math['sqrt'](cb*cb+cc*cc)*0.5*1.5;cd/=cb<cc?cb:cc;for(let ce=0x0;ce<0x24;ce++){let cf=Math['cos'](ce/0x12*3.141592654)*cd,cg=Math['cos']((ce+0x1)/0x12*3.141592654)*cd,ch=Math['sin'](ce/0x12*3.141592654)*cd,ci=Math['sin']((ce+0x1)/0x12*3.141592654)*cd;bZ[bY*0x3+0x0]=0x0,bZ[bY*0x3+0x1]=0x0,bZ[bY*0x3+0x2]=0.5,c0[bY*0x4+0x0]=bT['r'],c0[bY*0x4+0x1]=bT['g'],c0[bY*0x4+0x2]=bT['b'],c0[bY*0x4+0x3]=bT['a'],bY++,bZ[bY*0x3+0x0]=cf,bZ[bY*0x3+0x1]=ch,bZ[bY*0x3+0x2]=0.5,c0[bY*0x4+0x0]=bS['r'],c0[bY*0x4+0x1]=bS['g'],c0[bY*0x4+0x2]=bS['b'],c0[bY*0x4+0x3]=bS['a'],bY++,bZ[bY*0x3+0x0]=cg,bZ[bY*0x3+0x1]=ci,bZ[bY*0x3+0x2]=0.5,c0[bY*0x4+0x0]=bS['r'],c0[bY*0x4+0x1]=bS['g'],c0[bY*0x4+0x2]=bS['b'],c0[bY*0x4+0x3]=bS['a'],bY++;}}break;}const c1=e['createBuffer']();e['bindBuffer'](e['ARRAY_BUFFER'],c1),e['bufferData'](e['ARRAY_BUFFER'],new Float32Array(bZ),e['STATIC_DRAW']);const c2=e['createBuffer']();e['bindBuffer'](e['ARRAY_BUFFER'],c2),e['bufferData'](e['ARRAY_BUFFER'],new Float32Array(c0),e['STATIC_DRAW']),e['bindBuffer'](e['ARRAY_BUFFER'],c1),e['vertexAttribPointer'](b['Shader']['positionAttributeLocation'],0x3,e['FLOAT'],![],0x0,0x0),e['bindBuffer'](e['ARRAY_BUFFER'],c2),e['vertexAttribPointer'](b['Shader']['colorAttributeLocation'],0x4,e['FLOAT'],![],0x0,0x0),e['drawArrays'](e['TRIANGLES'],0x0,bY),e['deleteBuffer'](c1),e['deleteBuffer'](c2);}}else{let cj=b['Configuration']['Render']['Background']['OneColor']['glColor'](),ck=b['Configuration']['Render']['Background']['TwoColor']['glColor'](),cl=0x0,cm=undefined,cn=undefined;switch(b['Configuration']['Render']['Background']['Mode']){case c['Enum']['BackgroundModes']['COLOR_ONE']:cl=0x4,cm=[-0x1,-0x1,0.5,0x1,-0x1,0.5,-0x1,0x1,0.5,0x1,0x1,0.5],cn=[cj['r'],cj['g'],cj['b'],cj['a'],cj['r'],cj['g'],cj['b'],cj['a'],cj['r'],cj['g'],cj['b'],cj['a'],cj['r'],cj['g'],cj['b'],cj['a']];break;case c['Enum']['BackgroundModes']['COLOR_TWO_HOR']:cl=0x4,cm=[-0x1,-0x1,0.5,0x1,-0x1,0.5,-0x1,0x1,0.5,0x1,0x1,0.5],cn=[cj['r'],cj['g'],cj['b'],cj['a'],cj['r'],cj['g'],cj['b'],cj['a'],ck['r'],ck['g'],ck['b'],ck['a'],ck['r'],ck['g'],ck['b'],ck['a']];break;case c['Enum']['BackgroundModes']['COLOR_TWO_HOR_REVERSE']:cl=0x4,cm=[-0x1,-0x1,0.5,0x1,-0x1,0.5,-0x1,0x1,0.5,0x1,0x1,0.5],cn=[ck['r'],ck['g'],ck['b'],ck['a'],ck['r'],ck['g'],ck['b'],ck['a'],cj['r'],cj['g'],cj['b'],cj['a'],cj['r'],cj['g'],cj['b'],cj['a']];break;case c['Enum']['BackgroundModes']['COLOR_TWO_VER']:cl=0x4,cm=[-0x1,-0x1,0.5,0x1,-0x1,0.5,-0x1,0x1,0.5,0x1,0x1,0.5],cn=[cj['r'],cj['g'],cj['b'],cj['a'],ck['r'],ck['g'],ck['b'],ck['a'],cj['r'],cj['g'],cj['b'],cj['a'],ck['r'],ck['g'],ck['b'],ck['a']];break;case c['Enum']['BackgroundModes']['COLOR_TWO_VER_REVERSE']:cl=0x4,cm=[-0x1,-0x1,0.5,0x1,-0x1,0.5,-0x1,0x1,0.5,0x1,0x1,0.5],cn=[ck['r'],ck['g'],ck['b'],ck['a'],cj['r'],cj['g'],cj['b'],cj['a'],ck['r'],ck['g'],ck['b'],ck['a'],cj['r'],cj['g'],cj['b'],cj['a']];break;case c['Enum']['BackgroundModes']['COLOR_TWO_CHOR']:cl=0x6,cm=[-0x1,-0x1,0.5,0x1,-0x1,0.5,-0x1,0x0,0.5,0x1,0x0,0.5,-0x1,0x1,0.5,0x1,0x1,0.5],cn=[cj['r'],cj['g'],cj['b'],cj['a'],cj['r'],cj['g'],cj['b'],cj['a'],ck['r'],ck['g'],ck['b'],ck['a'],ck['r'],ck['g'],ck['b'],ck['a'],cj['r'],cj['g'],cj['b'],cj['a'],cj['r'],cj['g'],cj['b'],cj['a']];break;case c['Enum']['BackgroundModes']['COLOR_TWO_CHOR_REVERSE']:cl=0x6,cm=[-0x1,-0x1,0.5,0x1,-0x1,0.5,-0x1,0x0,0.5,0x1,0x0,0.5,-0x1,0x1,0.5,0x1,0x1,0.5],cn=[ck['r'],ck['g'],ck['b'],ck['a'],ck['r'],ck['g'],ck['b'],ck['a'],cj['r'],cj['g'],cj['b'],cj['a'],cj['r'],cj['g'],cj['b'],cj['a'],ck['r'],ck['g'],ck['b'],ck['a'],ck['r'],ck['g'],ck['b'],ck['a']];break;case c['Enum']['BackgroundModes']['COLOR_TWO_CVER']:cl=0x6,cm=[-0x1,-0x1,0.5,-0x1,0x1,0.5,0x0,-0x1,0.5,0x0,0x1,0.5,0x1,-0x1,0.5,0x1,0x1,0.5],cn=[cj['r'],cj['g'],cj['b'],cj['a'],cj['r'],cj['g'],cj['b'],cj['a'],ck['r'],ck['g'],ck['b'],ck['a'],ck['r'],ck['g'],ck['b'],ck['a'],cj['r'],cj['g'],cj['b'],cj['a'],cj['r'],cj['g'],cj['b'],cj['a']];break;case c['Enum']['BackgroundModes']['COLOR_TWO_CVER_REVERSE']:cl=0x6,cm=[-0x1,-0x1,0.5,-0x1,0x1,0.5,0x0,-0x1,0.5,0x0,0x1,0.5,0x1,-0x1,0.5,0x1,0x1,0.5],cn=[ck['r'],ck['g'],ck['b'],ck['a'],ck['r'],ck['g'],ck['b'],ck['a'],cj['r'],cj['g'],cj['b'],cj['a'],cj['r'],cj['g'],cj['b'],cj['a'],ck['r'],ck['g'],ck['b'],ck['a'],ck['r'],ck['g'],ck['b'],ck['a']];break;}const co=e['createBuffer']();e['bindBuffer'](e['ARRAY_BUFFER'],co),e['bufferData'](e['ARRAY_BUFFER'],new Float32Array(cm),e['STATIC_DRAW']);const cp=e['createBuffer']();e['bindBuffer'](e['ARRAY_BUFFER'],cp),e['bufferData'](e['ARRAY_BUFFER'],new Float32Array(cn),e['STATIC_DRAW']),e['bindBuffer'](e['ARRAY_BUFFER'],co),e['vertexAttribPointer'](b['Shader']['positionAttributeLocation'],0x3,e['FLOAT'],![],0x0,0x0),e['bindBuffer'](e['ARRAY_BUFFER'],cp),e['vertexAttribPointer'](b['Shader']['colorAttributeLocation'],0x4,e['FLOAT'],![],0x0,0x0),e['drawArrays'](e['TRIANGLE_STRIP'],0x0,cl),e['deleteBuffer'](co),e['deleteBuffer'](cp);}}}b['Shader']['EndShader']();}function b7(){e['disable'](e['BLEND']),e['enable'](e['DEPTH_TEST']);let bL=b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['SKYBOX']);if(bL){let bM=new c['Matrix4']()['copy'](b['Camera']['matMV']);bM['setPosition'](new c['Vector3']());let bN=new c['Matrix4']();if(b['Camera']['perspectiveView']){const bU=b['Util']['DegToRad'](0x3c),bV=b['Camera']['clientWidth']/b['Camera']['clientHeight'];let bW=new c['Matrix4']()['perspective'](bU,bV,0.001,0xa),bX=new c['Matrix4']();bX['elements']=bW,bN=new c['Matrix4']()['multiplyMatrices'](bX,bM);}else{const bY=b['Util']['DegToRad'](0x5a),bZ=b['Camera']['clientWidth']/b['Camera']['clientHeight'];let c0=new c['Matrix4']()['perspective'](bY,bZ,0.001,0xa),c1=new c['Matrix4']();c1['elements']=c0,bN=new c['Matrix4']()['multiplyMatrices'](c1,bM);}b['Shader']['SetMatrix'](bN,undefined),b['Shader']['SetGLSkyBox']();let bO=new c['Vector3'](-0x1,-0x1,-0x1),bP=new c['Vector3'](0x1,0x1,0x1),bQ=[0x2,0x0,0x3,0x0,0x3,0x1,0x4,0x6,0x5,0x6,0x5,0x7,0x0,0x4,0x1,0x4,0x1,0x5,0x6,0x2,0x7,0x2,0x7,0x3,0x4,0x0,0x6,0x0,0x6,0x2,0x1,0x5,0x3,0x5,0x3,0x7],bR=[bO['x'],bO['y'],bO['z'],bO['x'],bO['y'],bP['z'],bO['x'],bP['y'],bO['z'],bO['x'],bP['y'],bP['z'],bP['x'],bO['y'],bO['z'],bP['x'],bO['y'],bP['z'],bP['x'],bP['y'],bO['z'],bP['x'],bP['y'],bP['z']];const bS=e['createBuffer']();e['bindBuffer'](e['ARRAY_BUFFER'],bS),e['bufferData'](e['ARRAY_BUFFER'],new Float32Array(bR),e['STATIC_DRAW']),e['bindBuffer'](e['ARRAY_BUFFER'],bS),e['vertexAttribPointer'](b['Shader']['positionAttributeLocation'],0x3,e['FLOAT'],![],0x0,0x0);let bT=e['createBuffer']();e['bindBuffer'](e['ELEMENT_ARRAY_BUFFER'],bT),e['bufferData'](e['ELEMENT_ARRAY_BUFFER'],new Uint16Array(bQ),e['STATIC_DRAW']),e['bindBuffer'](e['ELEMENT_ARRAY_BUFFER'],bT),e['drawElements'](e['TRIANGLES'],0x24,e['UNSIGNED_SHORT'],0x0),e['deleteBuffer'](bS),e['deleteBuffer'](bT);}b['Shader']['EndShader'](),e['clear'](e['DEPTH_BUFFER_BIT']);}let b8=0x0;function b9(){if(b['DemoType']===0x8){if(!b['IsAccessUser']())return;}if(d['LockRender'])return;if(k>0x0)return;if(b['useFramebuffer']){if(e['canvas']['width']>0x0&&e['canvas']['height']>0x0){b['Avatar']['RenderPreprocessing']();if(d['mainFramebufferClear'])b['Font']['BeginFontCache']();for(let bL=b['MultiView']['length']-0x1;bL>0x0;bL--){if(!b['MultiView'][bL]['Visible']())continue;f['clearRect'](0x0,0x0,f['canvas']['width'],f['canvas']['height']),b['Mode']['Camera'](b['MultiView'][bL]['CameraIndex']),b['MultiView'][bL]['Enable']&&bl(),b['Data']['DataProcessCheck'](f),b['MultiView'][bL]['Draw'](),b['MultiView'][bL]['EndUpdateFramebuffer']();}f['clearRect'](0x0,0x0,f['canvas']['width'],f['canvas']['height']),b['Mode']['Camera'](0x0),b['MultiView'][0x0]['Visible']()?(bl(),b['MultiView'][0x0]['EndUpdateFramebuffer']()):bo(),b['Mode']['Camera'](0x0),bs(),b['Font']['EndFontCache'](),b['Data']['DataProcessCheck'](f);}d['RenderEvent']=![],d['mainFramebufferClear']=![];return;}else{let bM=h['glColor']();e['clearColor'](bM['r'],bM['g'],bM['b'],bM['a']),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']),b5(),b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['PHONG']),b['Shader']['SetGLLight'](),e['enable'](e['DEPTH_TEST']);const bN=new c['Matrix4']();bN['copy'](b['Camera']['cameraMatrix']);const bO=new c['Matrix4']()['multiplyMatrices'](b['Camera']['projectionMatrix'],bN);b['Shader']['SetMatrix'](bO,bN),b['Shader']['SetClipping'](bN);let bP=b['Data']['ObjectsUpdateLength'];for(let bQ=0x0;bQ<bP;bQ++){UpdateRenderProcessByObject(b['Data']['Objects'][bQ],![]);}e['enable'](e['BLEND']),e['blendFunc'](e['SRC_ALPHA'],e['ONE_MINUS_SRC_ALPHA']);for(let bR=0x0;bR<bP;bR++){UpdateRenderProcessByObject(b['Data']['Objects'][bR],!![]);}e['disable'](e['BLEND']),b['Shader']['EndShader']();if(p||l){b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['PICK']),e['disable'](e['BLEND']),e['enable'](e['DEPTH_TEST']),e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']);{b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['PICKING']);for(let bS=0x0;bS<bP;bS++){UpdateRenderProcessByPickObject(b['Data']['Objects'][bS]);}b['Shader']['EndShader']();}b['Shader']['EndFramebuffer']();}if(p||l){b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['CUSTOM']),e['enable'](e['BLEND']),e['blendFunc'](e['SRC_ALPHA'],e['ONE_MINUS_SRC_ALPHA']),e['disable'](e['DEPTH_TEST']),e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']),b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['EDGE']);if(G)bB(c['Enum']['SHADER_TYPES']['EDGE'],c['Enum']['FB_RENDER_TYPES']['PICK'],I);else bB(c['Enum']['SHADER_TYPES']['EDGE'],c['Enum']['FB_RENDER_TYPES']['PICK'],s);b['Shader']['EndShader'](),b['Shader']['EndFramebuffer'](),bB(c['Enum']['SHADER_TYPES']['FXAA'],c['Enum']['FB_RENDER_TYPES']['CUSTOM']),e['disable'](e['BLEND']),e['disable'](e['DEPTH_TEST']);}e['enable'](e['BLEND']),e['blendFunc'](e['SRC_ALPHA'],e['ONE_MINUS_SRC_ALPHA']),bH(),e['disable'](e['BLEND']);if(V){b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['SELECTED']),e['disable'](e['BLEND']),e['enable'](e['DEPTH_TEST']),e['clearColor'](0x0,0x0,0x0,0x1),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']),b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['PICKING']);for(let bT=0x0;bT<bP;bT++){UpdateRenderProcessBySelectObject(b['Data']['Objects'][bT]);}b['Shader']['EndShader'](),b['Shader']['EndFramebuffer'](),b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['CUSTOM']),e['enable'](e['BLEND']),e['blendFunc'](e['SRC_ALPHA'],e['ONE_MINUS_SRC_ALPHA']),e['disable'](e['DEPTH_TEST']),e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']);if(b['Configuration']['Model']['Selection']['LineColor']!==undefined)W=b['Configuration']['Model']['Selection']['LineColor'];bB(c['Enum']['SHADER_TYPES']['EDGE'],c['Enum']['FB_RENDER_TYPES']['SELECTED'],W),b['Shader']['EndFramebuffer'](),bB(c['Enum']['SHADER_TYPES']['TEXTURE2D'],c['Enum']['FB_RENDER_TYPES']['CUSTOM']),e['disable'](e['BLEND']),e['disable'](e['DEPTH_TEST']);}e['clear'](e['DEPTH_BUFFER_BIT']);{bb(),bJ();}d['RenderEvent']=![];}}function ba(bL,bM){return b['Util']['IsRenderReivewNearPlane'](bL,bM);}this['GetReviewNearPlane']=function(){return aP;};function bb(){for(let bL=0x0;bL<b['Data']['Reviews']['length'];bL++){let bM=b['Data']['Reviews'][bL];b['Data']['Review']['RenderReviewItem'](f,bM);}for(let bN=0x0;bN<b['Data']['Clashes']['length'];bN++){let bO=b['Data']['Clashes'][bN];d['RenderClashItem'](bO);}if(b['Custom']['RenderReviewItem']!==undefined)b['Custom']['RenderReviewItem']();b['Control']['Render2D'](f),b['Avatar']['Render2D'](),b['Font']['RenderEdgeTest'](f);if(b['Configuration']['Render']['Compass2D']!==undefined&&b['Configuration']['Render']['Compass2D']['Visible'])b['Compass']['RenderCompass']();}function bc(){for(let bL=0x0;bL<b['Data']['Reviews']['length'];bL++){let bM=b['Data']['Reviews'][bL];b['Data']['Review']['Render3DReviewItem'](bM);}};function bd(){if(b['Configuration']['Render']['Pivot']['Visible']&&b['Camera']['RenderPivot']){if(b['Configuration']['Render']['Pivot']['GuideLine']!==undefined&&b['Configuration']['Render']['Pivot']['GuideLine']['Enable']===!![]){let bL=f['canvas']['width'],bM=f['canvas']['height'],bN=new c['Vector3']()['copy'](b['Camera']['pivot']);const bO=new c['Matrix4']()['copy'](b['Camera']['matMVP']);let bP=b['Renderer']['Util']['GetScreenPositionByMatrix'](bO,bN),bQ=new c['Color'](0xff,0xff,0xff,0xc8);f['strokeStyle']='rgba('+bQ['r']+','+bQ['g']+','+bQ['b']+','+bQ['glAlpha']()+')';let bR=b['Configuration']['Render']['Pivot']['GuideLine']['Thickness']==undefined?0x1:b['Configuration']['Render']['Pivot']['GuideLine']['Thickness'];f['lineWidth']=bR;let bS=0xa;b['Renderer']['Util']['DrawLine'](f,0x0,bP['y'],bP['x']-bS,bP['y']),b['Renderer']['Util']['DrawLine'](f,bP['x']+bS,bP['y'],bL,bP['y']),b['Renderer']['Util']['DrawLine'](f,bP['x'],0x0,bP['x'],bP['y']-bS),b['Renderer']['Util']['DrawLine'](f,bP['x'],bP['y']+bS,bP['x'],bM);}}};function be(){if(b['Configuration']['Render']['Pivot']['Visible']&&b['Camera']['RenderPivot']&&b['Configuration']['Render']['Pivot']['GuideLine']!==undefined&&b['Configuration']['Render']['Pivot']['GuideLine']['Enable']===!![]){let bL=b['Configuration']['Render']['Pivot']['GuideLine']['Alpha'];if(bL===undefined)bL=0x19;e['depthFunc'](e['LEQUAL']),b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['BASIC2D']),b['Shader']['SetMatrix'](b['Camera']['matMVP'],b['Camera']['matMV']),d['Util']['PivotAxisLine3D'](new c['Color'](0xff,0x0,0x0,0xff),new c['Color'](0x0,0xff,0x0,0xff),new c['Color'](0x64,0x64,0xff,0xff)),e['depthFunc'](e['GREATER']),d['Util']['PivotAxisLine3D'](new c['Color'](0xff,0x0,0x0,bL),new c['Color'](0x0,0xff,0x0,bL),new c['Color'](0x64,0x64,0xff,bL)),b['Shader']['EndShader'](),e['depthFunc'](e['LEQUAL']);}};function bf(){let bL=b['Configuration']['Render']['Pivot']['GuideLine']['Alpha'];if(bL===undefined)bL=0x19;e['disable'](e['DEPTH_TEST']),d['Util']['OrbitAxisLine'](aU,aV,aW,aX,aR),e['enable'](e['DEPTH_TEST']);};this['RenderClashItem']=function(bL){if(!bL['visible'])return;if(bL['drawitem']['position']['length']===0x0)return;if(ba(bL['drawitem']['position'][0x0],aP))return;const bM=bL['drawitem']['color'];f['strokeStyle']='rgba('+bM['r']+',\x20'+bM['g']+',\x20'+bM['b']+',\x20'+bM['glAlpha']()+')',f['lineWidth']=0x2;let bN=new c['Vector3']()['copy'](bL['drawitem']['position'][0x0]);const bO=new c['Matrix4']()['copy'](b['Camera']['matMVP']);let bP=d['Util']['GetScreenPositionByMatrix'](bO,bN),bQ=bL['drawitem']['size'],bR=bL['drawitem']['size'],bS=bP['x']-bQ*0.5,bT=bP['y']-bR*0.5;switch(bL['itemType']){case c['Enum']['DRAW_TYPES']['RECT']:{b['Renderer']['Util']['DrawRect'](f,bS,bT,bQ,bR,![],!![]);}break;case c['Enum']['DRAW_TYPES']['CIRCLE']:{}break;case c['Enum']['DRAW_TYPES']['TRIANGLE']:{let bU=bP['x'],bV=bP['y'],bW=bP['x'],bX=bP['y']+0x2;b['Renderer']['Util']['DrawTriangle'](f,bU,bV,bW,bX,bL['drawitem']['size']);}break;default:break;}},this['AddDrawCount']=function(){g['drawCall']++;},this['AddOcclusionCullingCount']=function(){g['occlusionCullingCount']++;};function bg(bL){if(bL){let bM='Arial',bN=0xc,bO=new c['Color'](0x0,0x0,0x0,0xc8);f['fillStyle']=b['Data']['GetColorString'](bO),f['font']=bN+'pt\x20'+bM;let bP='Triangle\x20Mesh\x20Count\x20:\x20'+new Intl['NumberFormat']()['format'](b['Data']['TotalTriNum']);;let bQ=f['canvas']['getBoundingClientRect']()['left'];f['fillText'](bP,bQ+0xc8,f['canvas']['height']-0x14);}else{let bR='Arial',bS=0xc,bT=new c['Color'](0x36,0xaf,0xb8,0xc8);f['fillStyle']=b['Data']['GetColorString'](bT),f['font']=bS+'pt\x20'+bR;let bU='Node\x20:\x20'+b['Data']['ModelFileManager']['GetNodeCount']()+'\x20,\x20'+'Draw\x20:\x20'+g['drawCall']+'\x20,\x20'+'Culling\x20:\x20'+g['occlusionCullingCount']+'\x20,\x20'+'MeshBlock\x20:\x20'+b['Data']['Objects']['length']+'\x20,\x20'+'MeshCnt\x20:\x20'+b['Data']['TotalTriNum'];if(d['enableFPS'])bU+=',\x20FPS\x20:'+b['GetFPS']();f['fillText'](bU,f['canvas']['width']-0x320,f['canvas']['height']-0x14);}}function bh(){f['fillStyle']=b['Data']['GetColorString'](g['font']['color']),f['font']=0x18+'pt\x20'+g['font']['face'];let bL=b['Animation']['Daelim_GetTimeString']();f['fillText'](bL,f['canvas']['width']-0x190,f['canvas']['height']-0xc8);}function bi(){let bL=b['MeshBlock']['DownloadDataPercent']();if(bL>=0x1)return;if(b['MeshBlock']['DownloadDataNum']()<=0x0)return;if(b['MeshBlock']['DownloadCount']()===0x0)return;let bM=new c['Vector2'](0.94,0.98);bM['x']=b['Camera']['clientWidth']*bM['x'],bM['y']=b['Camera']['clientHeight']-b['Camera']['clientHeight']*bM['y'];let bN=b['Camera']['clientWidth']*0.003,bO=b['Camera']['clientWidth']*0.035;bN=Math['max'](bN,0x3),bO=Math['max'](bO,0x1);let bP=bO*bL,bQ=new c['Vector3'](bM['x'],bM['y'],0x0),bR=new c['Vector3'](bM['x']+bO,bM['y']+bN,0x0),bS=new c['Vector3'](bM['x']+bP,bM['y']+bN,0x0);b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['BASIC2D']),e['disable'](e['DEPTH_TEST']),b['Shader']['SetMatrix'](b['Camera']['screenProjectionMatrix'],undefined);let bT=new c['Color'](0x0,0x0,0x0,0xff),bU=new c['Color'](0xc8,0xc8,0xc8,0xff),bV=new c['Color'](0x14,0xff,0x14,0xff);d['enableProgress']&&(d['Util']['DrawRectangle2D'](bQ,bR,bU),d['Util']['DrawRectangle2D'](bQ,bS,bV),d['Util']['DrawLineRectangle2D'](bQ,bR,bT)),b['Shader']['EndShader']();}let bj=function(bL,bM){if(bL['flag']['sequence']>bM['flag']['sequence'])return 0x1;else{if(bL['flag']['sequence']<bM['flag']['sequence'])return-0x1;}return 0x0;};function bk(){for(let bL=0x0;bL<b['Data']['ObjectsUpdateLength'];bL++){let bM=b['Data']['ObjectsUpdateLength'],bN=b['Data']['ModelFileManager']['GetFileAreaData'](b['Data']['Objects'][bL]['id_file'],b['Data']['Objects'][bL]['link']);bN!==undefined&&(bM=bN['lod_sequence']),b['Data']['Objects'][bL]['flag']['sequence']=bM;}b['Data']['Objects']['sort'](bj);}this['Sort']=function(){bk();},this['SetViewDistanceBBox']=function(bL){if(bL===undefined)bL=![];let bM=![],bN=b['Renderer']['GetReviewNearPlane'](),bO=new c['Matrix4']()['copy'](b['Camera']['matMVP']),bP=new c['Matrix4']();for(let bQ=0x0;bQ<b['Data']['ObjectsUpdateLength'];bQ++){let bR=b['Data']['Objects'][bQ],bS=b['Data']['ModelFileManager']['GetFileInfo'](bR['id_file']);if(bS===undefined)continue;if(!bL){if(!bS['UseViewDistance'])continue;}let bT=b['Data']['ModelFileManager']['GetFileAreaData'](bR['id_file'],bR['link']);if(bT===undefined)continue;for(let bU=0x0;bU<bR['tag']['length'];bU++){let bV=bR['tag'][bU],bW=b['Data']['ShapeAction']['GetAction'](bR['id_file'],bV['origin_id']);if(bW===undefined)continue;if(!bS['UseViewDistance']||bW['disableViewDistaceBBox']){bW['drawViewDistanceBBox']&&(bV['object']['flag']['updateProcess']=!![],bM=!![],bW['drawViewDistanceBBox']=![]);continue;}let bX=new c['BBox']()['copy'](bV['BBox']);if(!bW['transform']['equals'](bP))bX=b['Util']['GetBBoxFormMatrix'](bX,bW['transform']);let bY=0x0,bZ=!![];if(b['Util']['IsRenderReivewNearPlane'](bX['center'],bN))bY=bS['ViewDistance']+0x1,bZ=![];else{let c0=new c['Vector3']()['copy'](bX['center'])['applyMatrix4'](bO);(c0['x']<-0x1||c0['x']>0x1||c0['y']<-0x1||c0['y']<-0x1)&&(bY=bS['ViewDistance']+0x1,bZ=![]);}bZ&&(bY=b['Camera']['GetScreen1PixelLength'](bX['center']),bZ=![]);if(bZ)b['Camera']['perspectiveView']?bY=new c['Vector3']()['subVectors'](bX['center'],cameraPos)['length']():bY=b['Camera']['GetScreen1PixelLength'](bX['center']);if(bY>bS['ViewDistance']){if(!bW['drawViewDistanceBBox'])bV['object']['flag']['updateProcess']=!![],bM=!![];else{let c1=b['RenderWGL']['GetPipeline'](bR['uuid']);if(c1!==undefined)for(let c2=0x0;c2<c1['listProcess']['length'];c2++){let c3=c1['listProcess'][c2]['start'],c4=c3+c1['listProcess'][c2]['length'];if(bV['m_triIdx']>=c3&&bV['m_triIdx']<c4){bV['object']['flag']['updateProcess']=!![],bM=!![];break;}}}bW['drawViewDistanceBBox']=!![];}else{if(bW['drawViewDistanceBBox'])bV['object']['flag']['updateProcess']=!![],bM=!![];else{let c5=b['RenderWGL']['GetPipeline'](bR['uuid']);if(c5!==undefined){let c6=![];for(let c7=0x0;c7<c5['listProcess']['length'];c7++){let c8=c5['listProcess'][c7]['start'],c9=c8+c5['listProcess'][c7]['length'];if(bV['m_triIdx']>=c8&&bV['m_triIdx']<c9){c6=!![];break;}}!c6&&(bV['object']['flag']['updateProcess']=!![],bM=!![]);}}bW['drawViewDistanceBBox']=![];}}}bM&&b['RenderWGL']['DeleteUtilWGLItem'](0x5);},this['SetViewDistanceBBoxColor']=function(bL){a6=bL;},this['GetViewDistanceBBoxColor']=function(){return a6;};function bl(){let bL=h['glColor'](),bM=b['MultiView'][b['CameraIndex']];bM['UseDefaultViewColor']===![]&&(bL=bM['MultiViewBGColor']['glColor']());if(bM['canvasElement']['canvas']['id']=='canvas_miniview'&&aY)aY=![],b0?(b['Shader']['deletesTypeShader'](c['Enum']['SHADER_TYPES']['COLORMAPPBR']),b['Shader']['deletesTypeShader'](c['Enum']['SHADER_TYPES']['COLORMAPPHONG'])):(b['Shader']['deletesTypeShader'](c['Enum']['SHADER_TYPES']['PBR']),b['Shader']['deletesTypeShader'](c['Enum']['SHADER_TYPES']['PHONG'])),aZ=!![];else aZ==!![]&&(aY=!![],b0?(b['Shader']['deletesTypeShader'](c['Enum']['SHADER_TYPES']['COLORMAPPBR']),b['Shader']['deletesTypeShader'](c['Enum']['SHADER_TYPES']['COLORMAPPHONG'])):(b['Shader']['deletesTypeShader'](c['Enum']['SHADER_TYPES']['PBR']),b['Shader']['deletesTypeShader'](c['Enum']['SHADER_TYPES']['PHONG'])),aZ=![]);e['clearColor'](bL['r'],bL['g'],bL['b'],bL['a']),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']);if(b['Data']['IsDisconnectedClear']()&&b['Data']['GetLicenseResult']()!==0x5)return;b5();const bN=bM['UpdateFramebuffer'];if(bN)b['CustomObject']['InitRenderProcess']();let bO=bM['ObjectRenderEnable']['length'];bO>0x0&&b['Shader']['CreateShaderData']();if(d['enableRenderLimit']&&b['IsUseProgressive']()){if(d['enableRenderLimitRate']<0x0){if(b['Configuration']['Render']['Progressive']['UseLimitCount']){if(bO>d['enableRenderLimitCnt'])bO=d['enableRenderLimitCnt'];}else{let bS=0x0,bT=b['Data']['TotalTriNum']/0x64*b['Configuration']['Render']['Progressive']['Percentage'];for(let bU=0x0;bU<bO;bU++){let bV=b['Data']['ModelFileManager']['GetFileAreaData'](b['Data']['Objects'][bU]['id_file'],b['Data']['Objects'][bU]['link']);if(bV===undefined)continue;bS+=bV['tri_num'];if(bT<bS){bO=bU;break;}}}}else{let bW=Math['floor'](bO*d['enableRenderLimitRate']);bW=Math['max'](bW,0x1);if(bO>bW)bO=bW;}}if(bN){g['drawCall']=0x0;for(let bY=0x0;bY<bO;bY++){b['Data']['Objects'][bY]['attribs']['a_index']['buffer']!==null&&(b['Data']['Objects'][bY]['flag']['renderEnable']=!![]),!b['Data']['Objects'][bY]['flag']['cache']&&(b['Data']['Objects'][bY]['flag']['renderEnable']=![]);}b['CustomObject']['BenginRenderObject']();let bX=[0x1,0x0,0x0,0x0];{let bZ=new c['Matrix4']()['copy'](b['Camera']['cameraMatrix']),c0=new c['Matrix4']()['getInverse'](bZ),c1=c0['multiplyVector'](b['Camera']['cameraPosition']),c2=c0['multiplyVector'](b['Camera']['cameraTarget']),c3=b['Camera']['near'],c4=new c['Vector3']()['subVectors'](c2,c1);c4['normalize'](),bX[0x0]=c4['x'],bX[0x1]=c4['y'],bX[0x2]=c4['z'];let c5=new c['Vector3']()['addVectors'](c1,c4['multiplyScalar'](c3));bX[0x3]=-(bX[0x0]*c5['x']+bX[0x1]*c5['y']+bX[0x2]*c5['z']);}aP=bX;}else for(let c6=0x0;c6<bO;c6++){if(b['Data']['Objects'][c6]['attribs']['a_index']['buffer']===null)continue;b['Data']['Objects'][c6]['flag']['renderEnable']=bM['ObjectRenderEnable'][c6];}{if(b['CameraIndex']===0x0)bp(bO);bq(bN,bO);}b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['MAIN']);bN&&(e['clearColor'](bL['r'],bL['g'],bL['b'],bL['a']),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']),bM['UseDefaultViewColor']&&b6());if(aF){if(b['Grid']!==undefined)b['Grid']['Render'](e,f,bN);else{if(bN)bF();}}if(bN)bH();let bP=!![],bQ=b['Control']['UnderControl'](),bR=b['Control']['GetMode']();bP=bM['ViewEntityInfo']['ShowObject'];if(bP&&aE===c['Enum']['ViewUnderControlVisibleMode']['BOUNDBOX']&&bR!==c['Enum']['CONTROL_STATE']['WALKTHROUGH']&&bR!==c['Enum']['CONTROL_STATE']['FLY']&&bQ){bP=![];let c7=b['Data']['GetBBox']();if(c7['radius']>0x0){b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['BASIC2D']),e['disable'](e['BLEND']),e['enable'](e['DEPTH_TEST']);const c8=new c['Matrix4']()['copy'](b['Camera']['matMV']),c9=new c['Matrix4']()['copy'](b['Camera']['matMVP']);b['Shader']['SetGLLight'](),b['Shader']['SetClipping'](undefined),b['Shader']['SetMatrix'](c9,c8);let ca=new c['Color']()['copy'](b['Configuration']['Model']['Selection']['Color']),cb=ca['glColor']();b['Shader']['SetGLColor'](cb['r'],cb['g'],cb['b'],cb['a']),d['Util']['DrawBoundBox3D'](c7,1.5),b['Shader']['EndShader']();}}if(bP){bN&&(e['disable'](e['BLEND']),e['enable'](e['DEPTH_TEST']),b['RenderWGL']['Util_RenderViewDistBBox'](bO,a6));let cc=c['Enum']['SHADER_TYPES']['PHONG'];if(b['useWebGL2'])cc=c['Enum']['SHADER_TYPES']['PBR'];e['disable'](e['BLEND']),e['enable'](e['DEPTH_TEST']);if(![]){if(P){if(b['Camera']['matShadowMV']!==undefined&&b['Camera']['matShadowProjection']!==undefined){let cd=new c['Matrix4']()['copy'](b['Camera']['matShadowMV']);const ce=new c['Matrix4']()['multiplyMatrices'](b['Camera']['matShadowProjection'],cd);b['Shader']['SetCustomMatrix']('u_MVPShadowMatrix',ce),b['Shader']['SetCustomMatrix']('u_ProjectionShadowMatrix',b['Camera']['matShadowProjection']);let cf=b['Shader']['GetPositionTexture'](0xa);b['Shader']['SetCurrentTexture']('uShadowPositionTexture',e['TEXTURE_2D'],cf['texture']);let cg=e['getUniformLocation'](b['Shader']['currentProgram'],'uBias');cg&&e['uniform1f'](cg,-0.008);}}}if(!G){e['disable'](e['BLEND']);if(b['Custom']['ImproveRender']){b['Shader']['BeginShader'](cc),b['Shader']['SetGLLight'](!![]);const ch=new c['Matrix4']()['copy'](b['Camera']['matMV']),ci=new c['Matrix4']()['copy'](b['Camera']['matMVP']);b['Shader']['SetMatrix'](ci,ch),b['Shader']['SetClipping'](ch),b['Custom']['ImproveRender'](b['Data']['Objects']),b['Shader']['EndShader']();}b['RenderWGL']['SetUpdateClipping'](!![]),b['RenderWGL']['SetUpdateLightRotate'](!![]);if(b0){if(bO>0x0){if(b1)b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['COLORMAPPHONG']);else b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['COLORMAPPBR']);if(b['Shader']['currentShaderType']!==undefined){b['Shader']['SetGLCameraData']();if(b['Camera']['CameraIndex']===0x3)b['Shader']['SetGLIsolate'](0x0);else b['Shader']['SetGLIsolate'](0x1);b['Shader']['SetGLAlpha'](0x1);let cj=e['getUniformLocation'](b['Shader']['currentProgram'],'uColorMapSize');cj&&e['uniform1f'](cj,b['ColorMap']['GetColorMapWidth']());const ck=new c['Matrix4']()['copy'](b['Camera']['matMV']),cl=new c['Matrix4']()['copy'](b['Camera']['matMVP']);b['Shader']['SetMatrix'](cl,ck);if(b['RenderWGL']['GetUpdateClipping']())b['Shader']['SetClipping'](ck);else b['Shader']['SetClipping'](undefined);b['Shader']['SetGLLight'](b['RenderWGL']['GetUpdateLightRotate']());for(let cm=0x0;cm<bO;cm++){b['Shader']['SetGLMaterial'](b['Data']['Objects'][cm]['tag'][0x0]['material']),b['Shader']['SetGLColor'](b['Configuration']['Model']['Selection']['Color']['r']/0xff,b['Configuration']['Model']['Selection']['Color']['g']/0xff,b['Configuration']['Model']['Selection']['Color']['b']/0xff,b['Configuration']['Model']['Selection']['Color']['a']/0xff),b['RenderWGL']['UpdateRenderProcessByObject_v4'](b['Data']['Objects'][cm],![]);}b['Shader']['EndShader']();}b['Shader']['BeginShader'](cc);for(let cn=0x0;cn<bO;cn++){if(b['Data']['Objects'][cn]['tInd']!==undefined&&b['Data']['Objects'][cn]['tInd']['size']!==0x0)b['RenderWGL']['UpdateRenderProcessByObject_v3'](b['Data']['Objects'][cn],![],cc);}b['Shader']['EndShader']();}}else for(let co=0x0;co<bO;co++){b['RenderWGL']['UpdateRenderProcessByObject_v3'](b['Data']['Objects'][co],![],cc);}e['enable'](e['DEPTH_TEST']),e['depthMask'](!![]),e['enable'](e['BLEND']),e['blendFunc'](e['SRC_ALPHA'],e['ONE_MINUS_SRC_ALPHA']);if(b0){if(bO>0x0){if(b1)b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['COLORMAPPHONG']);else b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['COLORMAPPBR']);if(b['Shader']['currentShaderType']!==undefined){b['Shader']['SetGLCameraData'](),b['Shader']['SetMVPMatrix'](b['Camera']['matMV'],b['Camera']['viewMatrix'],b['Camera']['projectionMatrixSrc']);if(b['Camera']['CameraIndex']===0x3)b['Shader']['SetGLIsolate'](0x0);else b['Shader']['SetGLIsolate'](0x1);b['Shader']['SetGLAlpha'](0x0);let cp=e['getUniformLocation'](b['Shader']['currentProgram'],'uColorMapSize');cp&&e['uniform1f'](cp,b['ColorMap']['GetColorMapWidth']());const cq=new c['Matrix4']()['copy'](b['Camera']['matMV']),cr=new c['Matrix4']()['copy'](b['Camera']['matMVP']);b['Shader']['SetMatrix'](cr,cq);if(b['RenderWGL']['GetUpdateClipping']())b['Shader']['SetClipping'](cq);else b['Shader']['SetClipping'](undefined);b['Shader']['SetGLLight'](b['RenderWGL']['GetUpdateLightRotate']());for(let cs=0x0;cs<bO;cs++){b['Shader']['SetGLMaterial'](b['Data']['Objects'][cs]['tag'][0x0]['material']),b['Shader']['SetGLColor'](b['Configuration']['Model']['Selection']['Color']['r']/0xff,b['Configuration']['Model']['Selection']['Color']['g']/0xff,b['Configuration']['Model']['Selection']['Color']['b']/0xff,b['Configuration']['Model']['Selection']['Color']['a']/0xff),b['RenderWGL']['UpdateRenderProcessByObject_v4'](b['Data']['Objects'][cs],!![]);}b['Shader']['EndShader'](),b['Shader']['BeginShader'](cc);for(let ct=0x0;ct<bO;ct++){if(b['Data']['Objects'][ct]['tInd']!==undefined&&b['Data']['Objects'][ct]['tInd']['size']!==0x0)b['RenderWGL']['UpdateRenderProcessByObject_v3'](b['Data']['Objects'][ct],!![],cc);}b['Shader']['EndShader']();}}}else for(let cu=0x0;cu<bO;cu++){b['RenderWGL']['UpdateRenderProcessByObject_v3'](b['Data']['Objects'][cu],!![],cc);}}b['Shader']['EndShader']();}e['disable'](e['BLEND']),e['depthMask'](!![]);bN&&(!G||G&&!J)&&(b['CustomObject']['Render'](),b['CustomObject']['AnimationRender']());bN&&(b['Font']['RenderPMIFont'](),b['Font']['RenderEdge']());bN&&b['Pick']['RenderPreselectEdge']();if(bN&&b['Configuration']['Model']['Selection']['Mode']===c['Enum']['SelectionVisibleMode']['BOUNDBOX']){let cv=!![],cw=new c['BBox'](),cx=b['Data']['GetSelection']();if(cx['length']>0x0){if(cv){let cz=b['Data']['GetBodies'](cx);cw=b['Data']['GetBBox'](cz),cv=![];}}let cy=b['CustomObject']['GetSelection']();if(cy['length']>0x0){if(cv)cw=b['CustomObject']['GetBoundBox'](cy);else{let cA=b['CustomObject']['GetBoundBox'](cy);cw['min']['min'](cA['min']),cw['max']['min'](cA['max']),cw['update']();}}if(cw['radius']>0x0){b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['BASIC2D']),e['disable'](e['BLEND']),e['disable'](e['DEPTH_TEST']);const cB=new c['Matrix4']()['copy'](b['Camera']['matMV']),cC=new c['Matrix4']()['copy'](b['Camera']['matMVP']);b['Shader']['SetGLLight'](),b['Shader']['SetClipping'](undefined),b['Shader']['SetMatrix'](cC,cB);let cD=new c['Color']()['copy'](b['Configuration']['Model']['Selection']['Color']),cE=cD['glColor']();b['Shader']['SetGLColor'](cE['r'],cE['g'],cE['b'],cE['a']),d['Util']['DrawBoundBox3D'](cw,b['Configuration']['Model']['Selection']['Thickness']),b['Shader']['EndShader'](),e['enable'](e['DEPTH_TEST']);}}if(bN&&a7&&b['useWebGL2']){e['enable'](e['DEPTH_TEST']),e['depthMask'](![]),e['enable'](e['BLEND']),e['blendFunc'](e['SRC_ALPHA'],e['ONE_MINUS_SRC_ALPHA']);let cF=!![];if(!b['Camera']['perspectiveView']&&aC){let cG=aD,cH=new c['Vector3']()['copy'](b['Camera']['pivot']),cI=b['Camera']['GetScreen1PixelLength'](cH);if(cI<cG)cF=![];}if(cF){if(ao){b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['TEXTURE2DCOLOR']);let cJ=aq;if(cJ===undefined)cJ=b['Data']['GetBBox']();let cK=ap,cL=as,cM=at;if(cJ['radius']>0x0){let cN=new c['Vector3'](0x1,0x0,0x0),cO=new c['Matrix4']()['copy'](b['Camera']['matMVP']);b['Shader']['SetMatrix'](cO,undefined);let cP=au['glColor']();b['Shader']['SetGLColor'](cP['r'],cP['g'],cP['b'],cP['a']);let cQ=b['Shader']['SetGLAlphaCloud']();cJ['max']['z']+=cL*0.75+cJ['max']['z'],cJ['min']['x']-=cL/0x2,cJ['max']['x']+=cL/0x2;if(cQ)b['RenderWGL']['Util_RenderCloud'](cJ,cL,cN,cM,cK);}b['Shader']['EndShader']();}if(av){b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['TEXTURE2DCOLOR']);let cR=ax;if(cR===undefined)cR=b['Data']['GetBBox']();let cS=aw,cT=az,cU=aA;if(cR['radius']>0x0){let cV=new c['Vector3'](0x1,0x0,0x0),cW=new c['Matrix4']()['copy'](b['Camera']['matMVP']);b['Shader']['SetMatrix'](cW,undefined);let cX=aB['glColor']();b['Shader']['SetGLColor'](cX['r'],cX['g'],cX['b'],cX['a']);let cY=b['Shader']['SetGLAlphaMist']();cR['max']['z']+=cT*0.05+cR['max']['z'],cR['min']['x']-=cT/0x2,cR['max']['x']+=cT/0x2;if(cY)b['RenderWGL']['Util_RenderMist'](cR,cT,cV,cU,cS);}b['Shader']['EndShader']();}}if(aa){b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['TEXTURE2DCOLOR']);let cZ=aj;if(cZ===undefined)cZ=b['Data']['GetBBox']();let d0=ab,d1=ad,d2=ae,d3=af;if(cZ['radius']>0x0){let d4=new c['Matrix4']();d4['makeRotationX'](d1*Math['PI']/0xb4);let d5=new c['Vector3'](0x0,0x0,-0x1);d5=d4['multiplyVector'](d5);let d6=new c['Matrix4']()['copy'](b['Camera']['matMVP']);b['Shader']['SetMatrix'](d6,undefined);let d7=new c['Color'](0x99,0xd9,0xea,0x96)['glColor']();b['Shader']['SetGLColor'](d7['r'],d7['g'],d7['b'],d7['a']);let d8=b['Shader']['SetGLAlphaRain']();cZ['max']['z']+=0x1e8480;if(d8)b['RenderWGL']['Util_RenderRain'](cZ,d2,d5,d3,d0);}b['Shader']['EndShader']();}else{if(ah){b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['TEXTURE2DCOLOR']);let d9=aj;if(d9===undefined)d9=b['Data']['GetBBox']();let da=ai,db=ak,dc=al,dd=am;if(d9['radius']>0x0){let de=new c['Matrix4']();de['makeRotationX'](db*Math['PI']/0xb4);let df=new c['Vector3'](0x0,0x0,-0x1);df=de['multiplyVector'](df);let dg=new c['Matrix4']()['copy'](b['Camera']['matMVP']);b['Shader']['SetMatrix'](dg,undefined);let dh=an['glColor']();b['Shader']['SetGLColor'](dh['r'],dh['g'],dh['b'],dh['a']);let di=b['Shader']['SetGLAlphaDot']();if(di)b['RenderWGL']['Util_RenderSnow'](d9,dc,df,dd,da);}b['Shader']['EndShader']();}}e['disable'](e['DEPTH_TEST']),e['depthMask'](!![]);}if(bN){bc(),e['enable'](e['DEPTH_TEST']),e['enable'](e['BLEND']),e['blendFunc'](e['SRC_ALPHA'],e['ONE_MINUS_SRC_ALPHA']);if(aS!==!![])be();else bf(),aS=![];e['disable'](e['DEPTH_TEST']),e['disable'](e['BLEND']);}b['Avatar']['Render'](),b['Shader']['EndFramebuffer'](),b['Avatar']['GLSLPreprocessing'](bN,bO),e['disable'](e['DEPTH_TEST']);{b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['MODELAFTER']),e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']);![]&&(b['Shader']['EndFramebuffer'](),b['Shader']['CopyFBDepthBuffer'](c['Enum']['FB_RENDER_TYPES']['MODELAFTER'],c['Enum']['FB_RENDER_TYPES']['MAIN']),b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['MODELAFTER']),b['CustomObject']['AnimationRender'](),b['Avatar']['Render']());if(b['Configuration']['Model']['Selection']['Mode']===c['Enum']['SelectionVisibleMode']['HIGHLIGHT_SHADED']){b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['BASIC3D']);if(aY)b['Shader']['SetGLCameraData']();e['enable'](e['BLEND']),e['disable'](e['DEPTH_TEST']);const dj=new c['Matrix4']()['copy'](b['Camera']['matMV']),dk=new c['Matrix4']()['copy'](b['Camera']['matMVP']);b['Shader']['SetClipping'](dj),b['Shader']['SetMatrix'](dk,dj);let dl=new c['Color']()['copy'](b['Configuration']['Model']['Selection']['Color']),dm=dl['glColor']();b['Shader']['SetGLColor'](dm['r'],dm['g'],dm['b'],dm['a']);for(let dn=0x0;dn<bO;dn++){let dp=b['Data']['Objects'][dn]['flag']['renderEnable'];b['Data']['Objects'][dn]['flag']['renderEnable']=!![],b['RenderWGL']['UpdateRenderProcessBySelectPickObject_v2'](b['Data']['Objects'][dn]),b['Data']['Objects'][dn]['flag']['renderEnable']=dp;}b['Shader']['EndShader']();{b['CustomObject']['SelectedRender'](c['Enum']['SHADER_TYPES']['BASIC3D']);}}e['clear'](e['DEPTH_BUFFER_BIT']),b['Control']['Render'](),b['Shader']['EndFramebuffer']();}b['Control']['GetMode']()===c['Enum']['CONTROL_STATE']['MARKUP']&&b['Pick']['EnableControlPicker']&&(b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['CANVASGL']),e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']),b['Pick']['RenderControlPicker'](),b['Shader']['EndFramebuffer']());b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['AFTEREFFECT']),e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']),b['Shader']['EndFramebuffer']();if(bO<=0x0){{b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['END']),e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']);let dq=b['Shader']['GetItemFramebuffer'](c['Enum']['FB_RENDER_TYPES']['MAIN']);dq!==undefined&&dq['msaa']?(b['Shader']['CopyFBColorBuffer'](c['Enum']['FB_RENDER_TYPES']['END'],c['Enum']['FB_RENDER_TYPES']['MAIN']),b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['END'])):bA(c['Enum']['SHADER_TYPES']['TEXTURE2D'],c['Enum']['FB_RENDER_TYPES']['MAIN']),b['Shader']['EndFramebuffer'](),bA(c['Enum']['SHADER_TYPES']['TEXTURE2D'],c['Enum']['FB_RENDER_TYPES']['END']);}return;}if(p||l||G){{let dr=b['Configuration']['Render']['Edge']['Thickness'];if(dr<0.0001)dr=0.0001;if(G&&H){b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['CUSTOMSAMPLING']),e['enable'](e['BLEND']),e['blendFunc'](e['SRC_ALPHA'],e['ONE_MINUS_SRC_ALPHA']),e['disable'](e['DEPTH_TEST']),e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']),b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['EDGE']);let ds=b['Shader']['GetColorIDTexture'](0xb);if(ds)bB(c['Enum']['SHADER_TYPES']['EDGE'],ds['texture'],ds['width']/dr,ds['height']/dr,new c['Color'](0xff,0xff,0xff,0xff),0xb);b['Shader']['EndFramebuffer'](),b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['AFTEREFFECT']),bA(c['Enum']['SHADER_TYPES']['TEXTURE2D'],c['Enum']['FB_RENDER_TYPES']['CUSTOMSAMPLING'],I),b['Shader']['EndFramebuffer']();}b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['CUSTOMSAMPLING']),e['enable'](e['BLEND']),e['blendFunc'](e['SRC_ALPHA'],e['ONE_MINUS_SRC_ALPHA']),e['disable'](e['DEPTH_TEST']),e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']),b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['EDGE']);{let dt=b['Shader']['GetColorIDTexture'](0x0);if(dt)bB(c['Enum']['SHADER_TYPES']['EDGE'],dt['texture'],dt['width']/dr,dt['height']/dr,new c['Color'](0xff,0xff,0xff,0xff));}b['Shader']['EndShader'](),b['Shader']['EndFramebuffer'](),b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['AFTEREFFECT']),b['Configuration']['Render']['Edge']&&(b['Configuration']['Render']['Edge']['Color']&&(s=b['Configuration']['Render']['Edge']['Color'])),bA(c['Enum']['SHADER_TYPES']['TEXTURE2D'],c['Enum']['FB_RENDER_TYPES']['CUSTOMSAMPLING'],s),b['Shader']['EndFramebuffer']();}if(![]){b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['CUSTOMSAMPLING']),e['enable'](e['BLEND']),e['blendFunc'](e['SRC_ALPHA'],e['ONE_MINUS_SRC_ALPHA']),e['disable'](e['DEPTH_TEST']),e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']),b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['EDGE']);{let du=b['Shader']['GetColorIDTexture'](0x1);bB(c['Enum']['SHADER_TYPES']['EDGE'],du['texture'],du['width'],du['height'],new c['Color'](0xff,0xff,0xff,0xff));}b['Shader']['EndShader'](),b['Shader']['EndFramebuffer'](),b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['AFTEREFFECT']);if(G)bA(c['Enum']['SHADER_TYPES']['TEXTURE2D'],c['Enum']['FB_RENDER_TYPES']['CUSTOMSAMPLING'],I);else bA(c['Enum']['SHADER_TYPES']['TEXTURE2D'],c['Enum']['FB_RENDER_TYPES']['CUSTOMSAMPLING'],t);b['Shader']['EndFramebuffer']();}e['disable'](e['BLEND']),e['disable'](e['DEPTH_TEST']);}if(r){if(b['Configuration']['Render']['GroupEdge']!==undefined){let dv=b['Configuration']['Render']['GroupEdge']['Thickness'];if(dv<0.0001)dv=0.0001;b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['CUSTOMSAMPLING']),e['enable'](e['BLEND']),e['blendFunc'](e['SRC_ALPHA'],e['ONE_MINUS_SRC_ALPHA']),e['disable'](e['DEPTH_TEST']),e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']),b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['EDGE']);{let dw=b['Shader']['GetColorIDTexture'](0x4);if(dw!==undefined)bB(c['Enum']['SHADER_TYPES']['EDGE'],dw['texture'],dw['width']/dv,dw['height']/dv,new c['Color'](0xff,0xff,0xff,0xff));}b['Shader']['EndShader'](),b['Shader']['EndFramebuffer'](),b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['AFTEREFFECT']),bA(c['Enum']['SHADER_TYPES']['TEXTURE2D'],c['Enum']['FB_RENDER_TYPES']['CUSTOMSAMPLING'],u),b['Shader']['EndFramebuffer']();}e['disable'](e['BLEND']),e['disable'](e['DEPTH_TEST']);}if(q||G){{b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['CUSTOMSAMPLING']),e['enable'](e['BLEND']),e['blendFunc'](e['SRC_ALPHA'],e['ONE_MINUS_SRC_ALPHA']),e['disable'](e['DEPTH_TEST']),e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']),b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['EDGE']);let dx=b['Configuration']['Render']['Edge']['Thickness'];if(dx<0.0001)dx=0.0001;{let dy=b['Shader']['GetColorIDTexture'](0x1);if(dy)bB(c['Enum']['SHADER_TYPES']['EDGE'],dy['texture'],dy['width']/dx,dy['height']/dx,new c['Color'](0xff,0xff,0xff,0xff));}b['Shader']['EndShader'](),b['Shader']['EndFramebuffer'](),b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['AFTEREFFECT']);b['Configuration']['Render']['Edge']&&(b['Configuration']['Render']['Edge']['CustomColor']&&(t=b['Configuration']['Render']['Edge']['CustomColor']));if(G)bA(c['Enum']['SHADER_TYPES']['TEXTURE2D'],c['Enum']['FB_RENDER_TYPES']['CUSTOMSAMPLING'],t);else bA(c['Enum']['SHADER_TYPES']['TEXTURE2D'],c['Enum']['FB_RENDER_TYPES']['CUSTOMSAMPLING'],t);b['Shader']['EndFramebuffer']();}e['disable'](e['BLEND']),e['disable'](e['DEPTH_TEST']);}if(x){b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['CUSTOMSAMPLING']),e['enable'](e['BLEND']),e['blendFunc'](e['SRC_ALPHA'],e['ONE_MINUS_SRC_ALPHA']),e['disable'](e['DEPTH_TEST']),e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']),b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['EDGE']);let dz=z;if(dz<0.0001)dz=0.0001;let dA=b['Shader']['GetColorIDTexture'](0x3);if(dA)bB(c['Enum']['SHADER_TYPES']['EDGE'],dA['texture'],dA['width']/dz,dA['height']/dz,new c['Color'](0xff,0xff,0xff,0xff));b['Shader']['EndShader'](),b['Shader']['EndFramebuffer'](),b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['AFTEREFFECT']),bA(c['Enum']['SHADER_TYPES']['TEXTURE2D'],c['Enum']['FB_RENDER_TYPES']['CUSTOMSAMPLING'],y),b['Shader']['EndFramebuffer']();}if(A){{b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['CUSTOMSAMPLING']),e['enable'](e['BLEND']),e['blendFunc'](e['SRC_ALPHA'],e['ONE_MINUS_SRC_ALPHA']),e['disable'](e['DEPTH_TEST']),e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']),b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['EDGE']);let dB=b['Shader']['GetColorIDTexture'](0x2);dB!==undefined&&bB(c['Enum']['SHADER_TYPES']['EDGE'],dB['texture'],dB['width'],dB['height'],new c['Color'](0xff,0xff,0xff,0xff)),b['Shader']['EndShader'](),b['Shader']['EndFramebuffer'](),b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['AFTEREFFECT']),bA(c['Enum']['SHADER_TYPES']['TEXTURE2D'],c['Enum']['FB_RENDER_TYPES']['CUSTOMSAMPLING'],C),b['Shader']['EndFramebuffer']();}e['disable'](e['BLEND']),e['disable'](e['DEPTH_TEST']);}{if(V){b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['CUSTOMSAMPLING']),e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']),e['enable'](e['BLEND']),e['blendFunc'](e['SRC_ALPHA'],e['ONE_MINUS_SRC_ALPHA']),e['disable'](e['DEPTH_TEST']);{let dC=b['Configuration']['Model']['Selection']['Thickness'];if(dC<0.0001)dC=0.0001;let dD=b['Shader']['GetItemFramebuffer'](c['Enum']['FB_RENDER_TYPES']['SELECTED']);bB(c['Enum']['SHADER_TYPES']['EDGE'],dD['targetTexture'][0x0],dD['width']/dC,dD['height']/dC,new c['Color'](0xff,0xff,0xff,0xff));}b['Shader']['EndFramebuffer'](),b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['AFTEREFFECT']);if(b['Configuration']['Model']['Selection']['LineColor']!==undefined)W=b['Configuration']['Model']['Selection']['LineColor'];bA(c['Enum']['SHADER_TYPES']['TEXTURE2D'],c['Enum']['FB_RENDER_TYPES']['CUSTOMSAMPLING'],W),b['Shader']['EndFramebuffer'](),e['disable'](e['BLEND']),e['disable'](e['DEPTH_TEST']);}}e['enable'](e['BLEND']),e['blendFunc'](e['SRC_ALPHA'],e['ONE_MINUS_SRC_ALPHA']);if(![]){if(a7&&b['useWebGL2']){if(aa){b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['CUSTOMAFTEREFFECT']),e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']),e['enable'](e['BLEND']),e['blendFunc'](e['SRC_ALPHA'],e['ONE_MINUS_SRC_ALPHA']),e['disable'](e['DEPTH_TEST']),b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['TEXTURE2D']);const dE=b['Util']['DegToRad'](0x2d),dF=b['Camera']['clientWidth']/b['Camera']['clientHeight'];let dG=new c['Matrix4']()['perspective'](dE,dF,0x0,0xa),dH=new c['Matrix4']();dH['elements']=dG;let dI=new c['Vector3'](0x0,0x0,-0.1),dJ=new c['Vector3'](0x0,0x0,0x0),dK=new c['Vector3'](0x0,0x1,0x0),dL=new c['Matrix4']()['copy'](b['Camera']['matMV']);dL['setPosition'](new c['Vector3']());let dM=new c['Matrix4']()['lookAt'](dI,dJ,dK);dM=new c['Matrix4']()['getInverse'](dM);let dN=-0x5,dO=0x3,dP=-0.001*dO,dQ=new c['Matrix4']();dQ['makeRotationZ'](dN*Math['PI']/0xb4);let dR=new c['Vector3'](0x0,0x0,0x1);dR=dL['multiplyVector'](dR),dR=dQ['multiplyVector'](dR);let dS=undefined;{let dW=b['CustomObject']['GetKey']()+'_Rain',dX=b['RenderProcessTime']-b['LastRenderProcessTime'],dY=b['Data']['ShapeAction']['GetAction'](dW,0x0);dY===undefined?(dY=b['Data']['ActionItem'](),dS=dY['transform'],dS['copy'](dQ),b['Data']['ShapeAction']['SetAction'](dW,0x0,dY)):(dS=dY['transform'],dR['multiplyScalar'](dP*dX),dS['translate'](dR['x'],dR['y'],dR['z']),dS['getTranslate']()['y']<-0x1&&dS['copy'](dQ));}let dT=new c['Matrix4']()['multiplyMatrices'](dS,dM),dU=new c['Matrix4']()['multiplyMatrices'](dH,dT);b['Shader']['SetMatrix'](dU,undefined),b['Shader']['SetGLColor'](0x0,0.5,0x1,0.4);let dV=b['Shader']['SetGLAlphaDot']();if(dV)b['RenderWGL']['Util_RenderScreenRain']();b['Shader']['EndShader'](),e['enable'](e['DEPTH_TEST']),b['Shader']['EndFramebuffer']();}else{if(ah){b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['CUSTOMAFTEREFFECT']),e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']),e['enable'](e['BLEND']),e['blendFunc'](e['SRC_ALPHA'],e['ONE_MINUS_SRC_ALPHA']),e['disable'](e['DEPTH_TEST']),b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['TEXTURE2D']);const dZ=b['Util']['DegToRad'](0x2d),e0=b['Camera']['clientWidth']/b['Camera']['clientHeight'];let e1=new c['Matrix4']()['perspective'](dZ,e0,0x0,0xa),e2=new c['Matrix4']();e2['elements']=e1;let e3=new c['Matrix4']()['copy'](b['Camera']['matMV']);e3['setPosition'](new c['Vector3']());let e4=new c['Vector3'](0x0,0x0,-0.1),e5=new c['Vector3'](0x0,0x0,0x0),e6=new c['Vector3'](0x0,0x0,0x1),e7=new c['Matrix4']()['lookAt'](e4,e5,e6);e7=new c['Matrix4']()['getInverse'](e7);let e8=new c['Matrix4']()['multiplyMatrices'](e3,e7),e9=new c['Matrix4']()['multiplyMatrices'](e2,e8);b['Shader']['SetMatrix'](e9,undefined),b['Shader']['SetGLColor'](0x1,0x1,0x1,0x1);let ea=b['Shader']['SetGLAlphaDot']();if(ea)b['RenderWGL']['Util_RenderScreenSnow']();b['Shader']['EndShader'](),e['enable'](e['DEPTH_TEST']),b['Shader']['EndFramebuffer']();}else{if(a9>0x0){let eb=b['Material']['GetMaterial'](a9);eb!==undefined&&(b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['CUSTOMAFTEREFFECT']),e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']),b['Shader']['SetGLMaterial'](a9),b['Shader']['SetMatrix'](new c['Matrix4'](),undefined),b['Shader']['SetGLColor'](0x1,0x1,0x1,0x1),b['RenderWGL']['Util_RenderQuad'](![]),b['Shader']['EndShader'](),b['Shader']['EndFramebuffer']());}}}}}{b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['UI']),e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']),bI(),bJ(),b['ViewCube']['Render'](),bi();let ec=b['MeshBlock']['DownloadCount'](),ed=b['MeshBlock']['DownloadDataNum'](),ee=b['MeshBlock']['DownloadDataPercent']();b['EventHandler']['dispatchEvent'](c['Enum']['EVENT_TYPES']['Progress']['Percentage'],{'total':ec,'current':ed,'percentage':ee['toFixed'](0x2)});if(b['Configuration']['Render']['Pivot']['Visible']&&b['Camera']['RenderPivot']){e['clear'](e['DEPTH_BUFFER_BIT']),e['enable'](e['DEPTH_TEST']);let ef=0xa;{let ei=new c['Matrix4']()['copy'](b['Camera']['matMVP']),ej=new c['Vector3']()['copy'](b['Camera']['pivot']),ek=b['Camera']['world2ScreenWithMatrix'](ei,ej),el=ek['add'](new c['Vector3'](ef,0x0,0x0));ej=b['Camera']['screen2WorldWithMatrix'](ei,el),ef=new c['Vector3']()['subVectors'](b['Camera']['pivot'],ej)['length']();}let eg=b['Configuration']['Render']['Pivot']['Color'],eh=eg['glColor']();b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['PHONG']),b['Shader']['SetGLDefaultLight'](),b['Shader']['SetClipping'](undefined),b['Shader']['SetMatrix'](b['Camera']['matMVP'],b['Camera']['matMV']),b['Shader']['SetGLColor'](eh['r'],eh['g'],eh['b'],eh['a']),d['Util']['DrawSphere3D'](b['Camera']['pivot'],ef),b['Shader']['EndShader'](),e['disable'](e['DEPTH_TEST']),e['disable'](e['BLEND']);}if(![]){if(bN&&b['Control']['_sub']===c['Enum']['MOUSE_CONTROL_SUB_TYPE']['ORBIT']){e['clear'](e['DEPTH_BUFFER_BIT']),e['enable'](e['DEPTH_TEST']);let em=0xa,en;{let eq=new c['Matrix4']()['copy'](b['Camera']['matMVP']),er=new c['Vector3']()['copy'](b['Camera']['pivot']),es=b['Camera']['world2ScreenWithMatrix'](eq,er),et=es['add'](new c['Vector3'](em,0x0,0x0));er=b['Camera']['screen2WorldWithMatrix'](eq,et),em=new c['Vector3']()['subVectors'](b['Camera']['pivot'],er)['length']();let eu=b['Renderer']['GetSizeWidth'](),ev=b['Renderer']['GetSizeHeight'](),ew=es;ew['x']=eu*0.5,ew['y']=ev*0.5,en=b['Camera']['screen2WorldWithMatrix'](eq,ew);}let eo=b['Configuration']['Render']['Pivot']['Color'],ep=eo['glColor']();b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['PHONG']),b['Shader']['SetGLDefaultLight'](),b['Shader']['SetClipping'](undefined),b['Shader']['SetMatrix'](b['Camera']['matMVP'],b['Camera']['matMV']),b['Shader']['SetGLColor'](ep['r'],ep['g'],ep['b'],ep['a']),d['Util']['DrawSphere3D'](en,em),b['Shader']['EndShader'](),e['disable'](e['DEPTH_TEST']),e['disable'](e['BLEND']);}}b['Shader']['EndFramebuffer']();}{if(![]){b['Shader']['EndFramebuffer'](),b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['SSS']),e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']),b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['RT']);{b['Shader']['SetMVPMatrix'](b['Camera']['matMV'],b['Camera']['viewMatrix'],b['Camera']['projectionMatrixSrc']);let ey=new c['Matrix4']()['copy'](b['Camera']['matMV']);b['Shader']['SetMatrix'](new c['Matrix4'](),ey),b['Shader']['SetGLCameraData'](),b['Shader']['SetGLLight'](),b['Shader']['SetResolutionData']();let ez=b['Shader']['GetPositionTexture']();b['Shader']['SetCurrentTexture']('u_PositionTexture',e['TEXTURE_2D'],ez['texture']);let eA=b['Shader']['GetNormalTexture']();b['Shader']['SetCurrentTexture']('u_NormalTexture',e['TEXTURE_2D'],eA['texture']),b['Shader']['CopyFBColorBuffer'](c['Enum']['FB_RENDER_TYPES']['CUSTOM'],c['Enum']['FB_RENDER_TYPES']['MAIN']);let eB=b['Shader']['GetFrameBufferTexture'](c['Enum']['FB_RENDER_TYPES']['CUSTOM']);b['Shader']['SetCurrentTexture']('u_ColorTexture',e['TEXTURE_2D'],eB['texture']),b['RenderWGL']['Util_RenderQuad'](![]);}b['Shader']['EndShader'](),b['Shader']['EndFramebuffer']();return;}let ex=b['Shader']['GetItemFramebuffer'](c['Enum']['FB_RENDER_TYPES']['MAIN']);{b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['END']),e['enable'](e['BLEND']),e['blendFunc'](e['SRC_ALPHA'],e['ONE_MINUS_SRC_ALPHA']),e['disable'](e['DEPTH_TEST']),e['clearColor'](0x1,0x1,0x1,0x1),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']);{if(ex!==undefined&&ex['msaa'])b['Shader']['EndFramebuffer'](),b['Shader']['CopyFBColorBuffer'](c['Enum']['FB_RENDER_TYPES']['END'],c['Enum']['FB_RENDER_TYPES']['MAIN']),b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['END']);else{if(b['CameraIndex']===0x0)bA(c['Enum']['SHADER_TYPES']['FXAA'],c['Enum']['FB_RENDER_TYPES']['MAIN']);else bA(c['Enum']['SHADER_TYPES']['TEXTURE2D'],c['Enum']['FB_RENDER_TYPES']['MAIN']);}}}if(K&&![]){b['Shader']['EndFramebuffer']();const eC=b['Renderer']['GetSizeWidth'](),eD=b['Renderer']['GetSizeHeight']();b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['PICK']);let eE=by(eC/0x2,eD/0x2);b['Shader']['EndFramebuffer'](),b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['SSS']),e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']),e['disable'](e['BLEND']);let eF=b['Camera']['GetCameraPos'](),eG;b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['SSS']);{b['Shader']['SetMVPMatrix'](b['Camera']['matMV'],b['Camera']['viewMatrix'],b['Camera']['projectionMatrixSrc']);let eJ=new c['Matrix4']()['copy'](b['Camera']['matMV']);b['Shader']['SetMatrix'](new c['Matrix4'](),eJ),b['Shader']['SetGLCameraData'](),b['Shader']['SetGLLight'](),b['Shader']['SetResolutionData']();let eK=b['Shader']['GetPositionTexture']();b['Shader']['SetCurrentTexture']('u_PositionTexture',e['TEXTURE_2D'],eK['texture']);let eL=b['Shader']['GetNormalTexture']();b['Shader']['SetCurrentTexture']('u_NormalTexture',e['TEXTURE_2D'],eL['texture']),b['Shader']['CopyFBColorBuffer'](c['Enum']['FB_RENDER_TYPES']['CUSTOM'],c['Enum']['FB_RENDER_TYPES']['MAIN']);let eM=b['Shader']['GetFrameBufferTexture'](c['Enum']['FB_RENDER_TYPES']['CUSTOM']);b['Shader']['SetCurrentTexture']('u_ColorTexture',e['TEXTURE_2D'],eM['texture']),b['RenderWGL']['Util_RenderQuad'](![]);}b['Shader']['EndShader'](),b['Shader']['EndFramebuffer'](),e['enable'](e['BLEND']),b['Shader']['CopyFBColorBuffer'](c['Enum']['FB_RENDER_TYPES']['CUSTOM'],c['Enum']['FB_RENDER_TYPES']['END']);let eH=b['Shader']['GetFrameBufferTexture'](c['Enum']['FB_RENDER_TYPES']['CUSTOM']),eI=b['Shader']['GetFrameBufferTexture'](c['Enum']['FB_RENDER_TYPES']['SSS']);b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['END']),bD(c['Enum']['SHADER_TYPES']['TEXTURE2D_SSAO'],eH['texture'],eI['texture'],![]),b['Shader']['EndFramebuffer']();if(![]){b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['END']);{let eN=b['Shader']['GetFrameBufferTexture'](c['Enum']['FB_RENDER_TYPES']['SSS']);if(eN)bz(0x1,c['Enum']['SHADER_TYPES']['TEXTURE2D'],eN['texture'],eN['width'],eN['height'],undefined,0x0);}}}if(L){b['Shader']['EndFramebuffer'](),b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['CUSTOM2']),e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']),e['disable'](e['BLEND']),bE(c['Enum']['SHADER_TYPES']['SSAO'],M),e['enable'](e['BLEND']),b['Shader']['EndFramebuffer'](),b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['CUSTOM']),e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']),e['enable'](e['BLEND']);{let eO=b['Shader']['GetFrameBufferTexture'](c['Enum']['FB_RENDER_TYPES']['CUSTOM2']);b['useWebGL2']?bC(c['Enum']['SHADER_TYPES']['BLUR'],eO['texture'],eO['width'],eO['height'],0x1,new c['Vector2'](0x1,0x0),0x1,new c['Color'](0xff,0xff,0xff,0xff),![]):bB(c['Enum']['SHADER_TYPES']['TEXTURE2D'],eO['texture'],eO['width'],eO['height'],new c['Color'](0xff,0xff,0xff,0xff));}b['Shader']['EndFramebuffer']();{b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['CUSTOM2']);let eP=b['Shader']['GetFrameBufferTexture'](c['Enum']['FB_RENDER_TYPES']['MAIN']);bB(c['Enum']['SHADER_TYPES']['TEXTURE2D'],eP['texture'],eP['width'],eP['height'],new c['Color'](0xff,0xff,0xff,0xff)),b['Shader']['EndFramebuffer']();let eQ=b['Shader']['GetFrameBufferTexture'](c['Enum']['FB_RENDER_TYPES']['CUSTOM2']),eR=b['Shader']['GetFrameBufferTexture'](c['Enum']['FB_RENDER_TYPES']['CUSTOM']);b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['END']),e['disable'](e['DEPTH_TEST']),e['enable'](e['BLEND']),bD(c['Enum']['SHADER_TYPES']['TEXTURE2D_SSAO'],eQ['texture'],eR['texture'],![]);}}{bA(c['Enum']['SHADER_TYPES']['TEXTURE2D'],c['Enum']['FB_RENDER_TYPES']['AFTEREFFECT']),bA(c['Enum']['SHADER_TYPES']['FXAA'],c['Enum']['FB_RENDER_TYPES']['MODELAFTER']);}if(![]){if(a7&&b['useWebGL2']){if(aa||ah)bA(c['Enum']['SHADER_TYPES']['FXAA'],c['Enum']['FB_RENDER_TYPES']['CUSTOMAFTEREFFECT']);else bA(c['Enum']['SHADER_TYPES']['TEXTURE2D'],c['Enum']['FB_RENDER_TYPES']['CUSTOMAFTEREFFECT']);}}if(p&&v){b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['CUSTOMSAMPLING']),e['enable'](e['BLEND']),e['blendFunc'](e['SRC_ALPHA'],e['ONE_MINUS_SRC_ALPHA']),e['disable'](e['DEPTH_TEST']),e['clearColor'](0x0,0x0,0x0,0x1),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']);{let eS=b['Shader']['GetColorIDTexture'](0x0);if(eS)bB(c['Enum']['SHADER_TYPES']['EDGE'],eS['texture'],eS['width'],eS['height'],new c['Color'](0xff,0xff,0xff,0xff));}b['Shader']['EndFramebuffer'](),b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['END']);{let eT=b['Shader']['GetFrameBufferTexture'](c['Enum']['FB_RENDER_TYPES']['CUSTOMSAMPLING']);if(eT)bz(0x0,c['Enum']['SHADER_TYPES']['TEXTURE2D'],eT['texture'],eT['width'],eT['height'],new c['Color'](0xff,0xff,0xff,0xff));}}if(q&&v){{b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['CUSTOMSAMPLING']),e['enable'](e['BLEND']),e['blendFunc'](e['SRC_ALPHA'],e['ONE_MINUS_SRC_ALPHA']),e['disable'](e['DEPTH_TEST']),e['clearColor'](0x0,0x0,0x0,0x1),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']),b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['EDGE']);{let eU=b['Shader']['GetColorIDTexture'](0x1);if(eU)bB(c['Enum']['SHADER_TYPES']['EDGE'],eU['texture'],eU['width'],eU['height'],new c['Color'](0xff,0xff,0xff,0xff));}b['Shader']['EndShader'](),b['Shader']['EndFramebuffer'](),b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['END']);{let eV=b['Shader']['GetFrameBufferTexture'](c['Enum']['FB_RENDER_TYPES']['CUSTOMSAMPLING']);if(eV)bz(0x1,c['Enum']['SHADER_TYPES']['TEXTURE2D'],eV['texture'],eV['width'],eV['height'],new c['Color'](0xff,0xff,0xff,0xff));}}e['disable'](e['BLEND']),e['disable'](e['DEPTH_TEST']);}if(x&&v){b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['CUSTOMSAMPLING']),e['enable'](e['BLEND']),e['blendFunc'](e['SRC_ALPHA'],e['ONE_MINUS_SRC_ALPHA']),e['disable'](e['DEPTH_TEST']),e['clearColor'](0x0,0x0,0x0,0x1),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']);{let eW=b['Shader']['GetColorIDTexture'](0x3);if(eW)bB(c['Enum']['SHADER_TYPES']['EDGE'],eW['texture'],eW['width'],eW['height'],new c['Color'](0xff,0xff,0xff,0xff));}b['Shader']['EndFramebuffer'](),b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['END']);{let eX=b['Shader']['GetFrameBufferTexture'](c['Enum']['FB_RENDER_TYPES']['CUSTOMSAMPLING']);if(eX)bz(0x0,c['Enum']['SHADER_TYPES']['TEXTURE2D'],eX['texture'],eX['width'],eX['height'],new c['Color'](0xff,0xff,0xff,0xff));}}if(r&&w){b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['CUSTOMSAMPLING']),e['enable'](e['BLEND']),e['blendFunc'](e['SRC_ALPHA'],e['ONE_MINUS_SRC_ALPHA']),e['disable'](e['DEPTH_TEST']),e['clearColor'](0x0,0x0,0x0,0x1),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']);{let eY=b['Shader']['GetColorIDTexture'](0x4);if(eY)bB(c['Enum']['SHADER_TYPES']['EDGE'],eY['texture'],eY['width'],eY['height'],new c['Color'](0xff,0xff,0xff,0xff));}b['Shader']['EndFramebuffer'](),b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['END']);{let eZ=b['Shader']['GetFrameBufferTexture'](c['Enum']['FB_RENDER_TYPES']['CUSTOMSAMPLING']);if(eZ)bz(0x0,c['Enum']['SHADER_TYPES']['TEXTURE2D'],eZ['texture'],eZ['width'],eZ['height'],new c['Color'](0xff,0xff,0xff,0xff));}{let f0=b['Shader']['GetColorIDTexture'](0x4);if(f0)bz(0x1,c['Enum']['SHADER_TYPES']['TEXTURE2D'],f0['texture'],f0['width'],f0['height'],new c['Color'](0xff,0xff,0xff,0xff));}}if(A&&D){b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['CUSTOMSAMPLING']),e['enable'](e['BLEND']),e['blendFunc'](e['SRC_ALPHA'],e['ONE_MINUS_SRC_ALPHA']),e['disable'](e['DEPTH_TEST']),e['clearColor'](0x0,0x0,0x0,0x1),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']);{let f1=b['Shader']['GetColorIDTexture'](0x2);if(f1)bB(c['Enum']['SHADER_TYPES']['EDGE'],f1['texture'],f1['width'],f1['height'],new c['Color'](0xff,0xff,0xff,0xff));}b['Shader']['EndShader'](),b['Shader']['EndFramebuffer'](),b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['END']);{let f2=b['Shader']['GetFrameBufferTexture'](c['Enum']['FB_RENDER_TYPES']['CUSTOMSAMPLING']);if(f2)bz(0x0,c['Enum']['SHADER_TYPES']['TEXTURE2D'],f2['texture'],f2['width'],f2['height'],new c['Color'](0xff,0xff,0xff,0xff),undefined,0x0);}e['disable'](e['BLEND']),e['disable'](e['DEPTH_TEST']);}if(L&&O){b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['CUSTOM']),e['clearColor'](0x0,0x0,0x0,0x1),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']),bE(c['Enum']['SHADER_TYPES']['SSAO'],M),b['Shader']['EndFramebuffer'](),b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['END']);{let f3=b['Shader']['GetFrameBufferTexture'](c['Enum']['FB_RENDER_TYPES']['CUSTOM']);bz(0x0,c['Enum']['SHADER_TYPES']['TEXTURE2D'],f3['texture'],f3['width'],f3['height'],new c['Color'](0xff,0xff,0xff,0xff));}{let f4=b['Shader']['GetNormalTexture']();bz(0x1,c['Enum']['SHADER_TYPES']['TEXTURE2D'],f4['texture'],f4['width'],f4['height'],undefined,0x0);}{let f5=b['Shader']['GetPositionTexture']();bz(0x2,c['Enum']['SHADER_TYPES']['TEXTURE2D'],f5['texture'],f5['width'],f5['height'],undefined,0x0);}}if(U){{let f6=b['Shader']['GetFrameBufferTexture'](c['Enum']['FB_RENDER_TYPES']['PRESELECT']);bz(0x0,c['Enum']['SHADER_TYPES']['TEXTURE2D'],f6['texture'],f6['width'],f6['height'],new c['Color'](0xff,0xff,0xff,0xff));}{b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['CUSTOM']),e['clearColor'](0x1,0x1,0x1,0x1),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']),b['Pick']['RenderPreselectEdge'](),b['Shader']['EndFramebuffer'](),b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['END']);let f7=b['Shader']['GetFrameBufferTexture'](c['Enum']['FB_RENDER_TYPES']['CUSTOM']);bz(0x1,c['Enum']['SHADER_TYPES']['TEXTURE2D'],f7['texture'],f7['width'],f7['height'],new c['Color'](0xff,0xff,0xff,0xff));}}if(T){let f8=b['Shader']['GetFrameBufferTexture'](c['Enum']['FB_RENDER_TYPES']['PICK']);bz(0x0,c['Enum']['SHADER_TYPES']['TEXTURE2D'],f8['texture'],f8['width'],f8['height'],undefined,new c['Color'](0xff,0xff,0xff,0xff));}if(![]){let f9=b['Shader']['GetFrameBufferTexture'](c['Enum']['FB_RENDER_TYPES']['COLOROBJECT']);bz(0x0,c['Enum']['SHADER_TYPES']['TEXTURE2D'],f9['texture'],f9['width'],f9['height'],undefined,0x0);}if(P&&R&&b['useWebGL2']){let fa=b['Shader']['GetPositionTexture'](0xa);if(fa)bz(0x0,c['Enum']['SHADER_TYPES']['TEXTURE2D'],fa['texture'],fa['width'],fa['height'],undefined,0x0);}if(S&&R&&b['useWebGL2']){{let fc=b['Shader']['GetPositionTexture'](0xa);if(fc)bz(0x0,c['Enum']['SHADER_TYPES']['TEXTURE2D'],fc['texture'],fc['width'],fc['height'],undefined,0x0);}{let fd=b['Shader']['GetPositionTexture'](0xb);if(fd)bz(0x1,c['Enum']['SHADER_TYPES']['TEXTURE2D'],fd['texture'],fd['width'],fd['height'],undefined,0x0);}{let fe=b['Shader']['GetPositionTexture'](0xc);if(fe)bz(0x2,c['Enum']['SHADER_TYPES']['TEXTURE2D'],fe['texture'],fe['width'],fe['height'],undefined,0x0);}}a7&&a8&&b['useWebGL2']&&(b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['TEXTURE2D']),b['Shader']['SetGLPerlinNoiseDebug'](),bz(0x0,c['Enum']['SHADER_TYPES']['TEXTURE2D'],undefined,0x400,0x400,undefined,0x0));{}e['disable'](e['DEPTH_TEST']),bA(c['Enum']['SHADER_TYPES']['TEXTURE2D'],c['Enum']['FB_RENDER_TYPES']['UI']),e['disable'](e['BLEND']);{b['Shader']['EndFramebuffer'](),bA(c['Enum']['SHADER_TYPES']['TEXTURE2D'],c['Enum']['FB_RENDER_TYPES']['END']);}}bG();if(bM['ViewEntityInfo']['ShowReview'])bb();if(b['Control']['GetMode']()===c['Enum']['CONTROL_STATE']['MARKUP']&&b['Pick']['EnableControlPicker']){const ff=b['Shader']['GetFrameBufferTexture'](c['Enum']['FB_RENDER_TYPES']['CANVASGL']);if(ff!==undefined){b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['CANVASGL']),b['Shader']['BindTargetTexture']();const fg=new Uint8Array(ff['width']*ff['height']*0x4);b['gl']['readPixels'](0x0,0x0,ff['width'],ff['height'],e['RGBA'],e['UNSIGNED_BYTE'],fg);const fh=document['createElement']('canvas');fh['width']=ff['width'],fh['height']=ff['height'];const fi=fh['getContext']('2d');let fj=fi['createImageData'](fh['width'],fh['height']);fj['data']['set'](fg),fi['putImageData'](fj,0x0,0x0);const fk=document['createElement']('canvas');fk['width']=ff['width'],fk['height']=ff['height'];const fl=fk['getContext']('2d');fl['translate'](0x0,fk['height']),fl['scale'](0x1,-0x1),fl['drawImage'](fh,0x0,0x0,fh['width'],fh['height']),f['drawImage'](fk,0x0,0x0,fk['width'],fk['height']),fh['remove'](),fk['remove'](),b['Shader']['EndFramebuffer']();}}d['enableDrawCall']&&bg();d['enableTimePanel']&&bh();b['Configuration']['Render']['Debug']['Enable']&&bg(!![]);if(b['Interface']['Watermark']!==undefined)b['Interface']['Watermark']['Render']();}function bm(){b['Shader']['CreateShaderData']();let bL=h['glColor']();b['MultiView'][b['CameraIndex']]['UseDefaultViewColor']===![]&&(bL=b['MultiView'][b['CameraIndex']]['MultiViewBGColor']['glColor']());e['clearColor'](bL['r'],bL['g'],bL['b'],bL['a']),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']),b5(),b6();let bM=b['Data']['ObjectsUpdateLength'];const bN=d['mainFramebufferClear'];for(let bO=0x0;bO<bM;bO++){b['Data']['Objects'][bO]['attribs']['a_index']['buffer']!==null&&(b['Data']['Objects'][bO]['flag']['renderEnable']=!![]);}{if(b['useWebGL2']===![])b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['PHONG']);else b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['PBR']);b['Shader']['SetGLLight'](!![]),e['disable'](e['BLEND']),e['enable'](e['DEPTH_TEST']);const bP=new c['Matrix4']();bP['copy'](b['Camera']['cameraMatrix']);const bQ=new c['Matrix4']()['multiplyMatrices'](b['Camera']['projectionMatrix'],bP);b['Shader']['SetMatrix'](bQ,bP),b['Shader']['SetClipping'](bP);if(!G){e['enable'](e['BLEND']),e['blendFunc'](e['SRC_ALPHA'],e['ONE_MINUS_SRC_ALPHA']);for(let bR=0x0;bR<bM;bR++){b['RenderWGL']['UpdateRenderProcessByObject_v2'](b['Data']['Objects'][bR],![]);}e['enable'](e['DEPTH_TEST']),e['depthMask'](!![]),e['enable'](e['BLEND']),e['blendFunc'](e['SRC_ALPHA'],e['ONE_MINUS_SRC_ALPHA']);for(let bS=0x0;bS<bM;bS++){b['RenderWGL']['UpdateRenderProcessByObject_v2'](b['Data']['Objects'][bS],!![]);}}b['Shader']['EndShader']();}}function bn(){let bL=h['glColor']();b['MultiView'][b['CameraIndex']]['UseDefaultViewColor']===![]&&(bgGLColor=b['MultiView'][b['CameraIndex']]['MultiViewBGColor']['glColor']()),e['clearColor'](bL['r'],bL['g'],bL['b'],bL['a']),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']),b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['END']),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']),e['disable'](e['DEPTH_TEST']),b6(),b['Shader']['EndFramebuffer'](),bA(c['Enum']['SHADER_TYPES']['TEXTURE2D'],c['Enum']['FB_RENDER_TYPES']['END']);}function bo(){let bL=h['glColor']();b['MultiView'][b['CameraIndex']]['UseDefaultViewColor']===![]&&(bgGLColor=b['MultiView'][b['CameraIndex']]['MultiViewBGColor']['glColor']()),e['clearColor'](bL['r'],bL['g'],bL['b'],bL['a']),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']),bA(c['Enum']['SHADER_TYPES']['TEXTURE2D'],c['Enum']['FB_RENDER_TYPES']['END']);}function bp(bL){g['occlusionCullingCount']=0x0;if(d['enableOcclusion']===![])return;if(b['useWebGL2']===![]){for(let bO=0x0;bO<bL;bO++){let bP=b['RenderWGL']['InitRenderPipeline'](b['Data']['Objects'][bO]);bP['renderEnableOcclusion']=!![];}return;}let bM=![];e['colorMask'](![],![],![],![]),e['depthMask'](![]),e['enable'](e['DEPTH_TEST']);let bN=new c['Color'](0xff,0xff,0xff,0xff);b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['BASIC2D']);for(let bQ=0x0;bQ<bL;bQ++){if(d['occlusionProcessMax']>0x0){if(d['occlusionProcessCount']>d['occlusionProcessMax']){bM=!![];break;}}b['RenderWGL']['UpdateRenderProcessByObjectOcclusion_v2'](b['Data']['Objects'][bQ],bN);}b['Shader']['EndShader'](),e['colorMask'](!![],!![],!![],!![]),e['depthMask'](!![]),e['disable'](e['DEPTH_TEST']);}function bq(bL,bM){if(bM<=0x0)return;if(b['useWebGL2']){if(b2){b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['PICK']),e['disable'](e['BLEND']),e['enable'](e['DEPTH_TEST']);bL&&(e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']));if(b0){b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['COLORMAPPICK']),b['Shader']['SetClipping'](b['Camera']['matMV']),b['Shader']['SetMatrix'](b['Camera']['matMVP'],b['Camera']['matMV']),b['Shader']['SetGLMaterial'](-0x1);if(b['Camera']['CameraIndex']===0x3)b['Shader']['SetGLIsolate'](0x0);else b['Shader']['SetGLIsolate'](0x1);if(b['Configuration']['Model']['Selection']['Kind']===c['Enum']['SelectionObject3DTypes']['ALL'])b['Shader']['SetGLSelectMode'](0x0);else{if(b['Configuration']['Model']['Selection']['Kind']===c['Enum']['SelectionObject3DTypes']['OPAQUE_OBJECT3D'])b['Shader']['SetGLSelectMode'](0x2);else{if(b['Configuration']['Model']['Selection']['Kind']===c['Enum']['SelectionObject3DTypes']['CUSTOMCOLOR_OBJECT3D'])b['Shader']['SetGLSelectMode'](0x3);}}let bN=e['getUniformLocation'](b['Shader']['currentProgram'],'uColorMapSize');bN&&e['uniform1f'](bN,b['ColorMap']['GetColorMapWidth']());for(let bO=0x0;bO<bM;bO++){b['RenderWGL']['UpdateRenderProcessByPickObject_v3'](b['Data']['Objects'][bO]);}b['Shader']['EndShader'](),b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['PICKING']),b['Shader']['SetClipping'](b['Camera']['matMV']);for(let bP=0x0;bP<bM;bP++){b['RenderWGL']['UpdateRenderProcessByPickObject_v3_t'](b['Data']['Objects'][bP]);}b['Shader']['EndShader']();}else{b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['PICKING']),b['Shader']['SetClipping'](b['Camera']['matMV']),b['Shader']['SetGLCameraData']();for(let bQ=0x0;bQ<bM;bQ++){b['RenderWGL']['UpdateRenderProcessByPickObject_v2'](b['Data']['Objects'][bQ]);}b['Shader']['EndShader']();}{b['CustomObject']['PickRender'](c['Enum']['SHADER_TYPES']['PICKING']);}b['Shader']['EndFramebuffer']();}{b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['PRESELECT']),e['disable'](e['BLEND']),e['enable'](e['DEPTH_TEST']),e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']);{b['Pick']['RenderPreselectEdgeColor']();}b['Shader']['EndFramebuffer']();}{b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['SELECTED']),e['disable'](e['BLEND']),e['enable'](e['DEPTH_TEST']);bL&&(e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']));if(b0){b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['COLORMAPPICK']),b['Shader']['SetClipping'](b['Camera']['matMV']),b['Shader']['SetGLCameraData'](),b['Shader']['SetMatrix'](b['Camera']['matMVP'],b['Camera']['matMV']),b['Shader']['SetGLMaterial'](-0x1);if(b['Camera']['CameraIndex']===0x3)b['Shader']['SetGLIsolate'](0x0);else b['Shader']['SetGLIsolate'](0x1);b['Shader']['SetGLSelectMode'](0x1);let bR=e['getUniformLocation'](b['Shader']['currentProgram'],'uColorMapSize');bR&&e['uniform1f'](bR,b['ColorMap']['GetColorMapWidth']());for(let bS=0x0;bS<bM;bS++){b['RenderWGL']['UpdateRenderProcessBySelectPickObject_v3'](b['Data']['Objects'][bS]);}b['Shader']['EndShader'](),b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['PICKING']),b['Shader']['SetClipping'](b['Camera']['matMV']),b['Shader']['SetGLCameraData']();for(let bT=0x0;bT<bM;bT++){b['RenderWGL']['UpdateRenderProcessBySelectPickObject_v3_t'](b['Data']['Objects'][bT]);}b['Shader']['EndShader']();}else{b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['PICKING']),b['Shader']['SetClipping'](b['Camera']['matMV']),b['Shader']['SetGLCameraData']();for(let bU=0x0;bU<bM;bU++){b['RenderWGL']['UpdateRenderProcessBySelectPickObject_v2'](b['Data']['Objects'][bU]);}b['Shader']['EndShader']();}b['Shader']['EndShader']();{b['CustomObject']['SelectedRender'](c['Enum']['SHADER_TYPES']['PICKING']);}}if(!![]){b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['PREPROCESSING']),e['disable'](e['BLEND']),e['enable'](e['DEPTH_TEST']);bL&&(e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']));{if(b0){b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['PREPROCESSING']),b['Shader']['SetGLCameraData'](),b['Shader']['SetMatrix'](b['Camera']['matMVP'],b['Camera']['matMV']),b['Shader']['SetMVPMatrix'](b['Camera']['matMV'],b['Camera']['viewMatrix'],b['Camera']['projectionMatrixSrc']),b['Shader']['SetGLMaterial'](-0x1),b['Shader']['SetClipping'](b['Camera']['matMV']);for(let bV=0x0;bV<bM;bV++){b['RenderWGL']['UpdateRenderProcessByColorID_v3'](b['Data']['Objects'][bV]);}for(let bW=0x0;bW<bM;bW++){b['RenderWGL']['UpdateRenderProcessByColorID_v3_t'](b['Data']['Objects'][bW]);}b['Shader']['EndShader']();}else{b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['PREPROCESSING']),b['Shader']['SetGLCameraData']();for(let bX=0x0;bX<bM;bX++){b['RenderWGL']['UpdateRenderProcessByColorID_v2'](b['Data']['Objects'][bX]);}b['Shader']['EndShader']();}}{b['CustomObject']['ColorIDRender'](c['Enum']['SHADER_TYPES']['PREPROCESSING']);}b['Shader']['EndFramebuffer']();}{b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['COLOROBJECT']),e['disable'](e['BLEND']),e['enable'](e['DEPTH_TEST']);bL&&(e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']));{if(b0){b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['COLORMAPPICK']),b['Shader']['SetClipping'](b['Camera']['matMV']),b['Shader']['SetGLCameraData'](),b['Shader']['SetMatrix'](b['Camera']['matMVP'],b['Camera']['matMV']),b['Shader']['SetGLMaterial'](-0x1);if(b['Camera']['CameraIndex']===0x3)b['Shader']['SetGLIsolate'](0x0);else b['Shader']['SetGLIsolate'](0x1);b['Shader']['SetGLSelectMode'](0x0);let bY=e['getUniformLocation'](b['Shader']['currentProgram'],'uColorMapSize');bY&&e['uniform1f'](bY,b['ColorMap']['GetColorMapWidth']());for(let bZ=0x0;bZ<bM;bZ++){b['RenderWGL']['UpdateRenderProcessByColorID_v3'](b['Data']['Objects'][bZ]);}b['Shader']['EndShader'](),b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['PICKING']),b['Shader']['SetClipping'](b['Camera']['matMV']);for(let c0=0x0;c0<bM;c0++){b['RenderWGL']['UpdateRenderProcessByColorID_v3_t'](b['Data']['Objects'][c0]);}b['Shader']['EndShader']();}else{b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['PICKING']),b['Shader']['SetClipping'](b['Camera']['matMV']);for(let c1=0x0;c1<bM;c1++){b['RenderWGL']['UpdateRenderProcessByColorID_v2'](b['Data']['Objects'][c1]);}b['Shader']['EndShader']();}}{let c2=new c['Color'](0x0,0x0,0x0,0xff);b['CustomObject']['OneColorRender'](c['Enum']['SHADER_TYPES']['BASIC2D'],c2);}{let c3=new c['Color'](0x0,0x0,0x0,0xff);b['Avatar']['OneColorRender'](c['Enum']['SHADER_TYPES']['ANIMATIONBASIC2D'],c3);}b['Shader']['EndFramebuffer']();}{b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['COLORCUSTOMOBJECT']),e['disable'](e['BLEND']),e['enable'](e['DEPTH_TEST']);bL&&(e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']));{let c4=new c['Color'](0x0,0x0,0x0,0xff);b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['BASIC2D']),b['Shader']['SetGLCameraData']();for(let c5=0x0;c5<bM;c5++){b['RenderWGL']['UpdateRenderProcessByObjectOneColor_v3'](b['Data']['Objects'][c5],c4);}b['Shader']['EndShader']();}{b['CustomObject']['ColorIDRender'](c['Enum']['SHADER_TYPES']['PICKING']);}{let c6=new c['Color'](0x0,0x0,0x0,0xff);b['Avatar']['OneColorRender'](c['Enum']['SHADER_TYPES']['ANIMATIONBASIC2D'],c6);}b['Shader']['EndFramebuffer']();}if(x){b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['CUSTOM_EDGE']),e['disable'](e['BLEND']),e['enable'](e['DEPTH_TEST']);bL&&(e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']));{b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['PICKING']),b['Shader']['SetClipping'](b['Camera']['matMV']);for(let c7=0x0;c7<bM;c7++){b['RenderWGL']['UpdateRenderProcessByCustomEdgeColorID_v2'](b['Data']['Objects'][c7]);}b['Shader']['EndShader']();}{}b['Shader']['EndFramebuffer']();}if(G&&H){b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['PREPROCESSING_DISABLE_DEPTH']),e['disable'](e['BLEND']),e['disable'](e['DEPTH_TEST']);bL&&(e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']));{b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['PREPROCESSING']),b['Shader']['SetGLCameraData']();for(let c8=0x0;c8<bM;c8++){b['RenderWGL']['UpdateRenderProcessByColorID_v2'](b['Data']['Objects'][c8]);}b['Shader']['EndShader']();}{b['CustomObject']['ColorIDRender'](c['Enum']['SHADER_TYPES']['PREPROCESSING']);}b['Shader']['EndFramebuffer']();}if(P){b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['PREPROCESSINGSHADOW']),e['enable'](e['DEPTH_TEST']);bL&&(e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']));{let c9=b['Camera']['GetCameraData']();if(![]){let ca=![];if(b['Shader']['ViewLightAsRotate'])ca=!![];let cb=new c['Vector3'](),cc=b['Data']['GetBBox'](),cd=new c['Vector3']()['copy'](cc['center']),ce=new c['Matrix4']()['copy'](b['Camera']['matMV']);ce['setPosition'](new c['Vector3']());let cf=new c['Vector3']()['copy'](cd)['applyMatrix4'](new c['Matrix4']()['copy'](b['Camera']['matMV'])),cg=new c['Vector3']()['copy'](b['Shader']['GetLightDirection']()),ch,ci,cj;cj=new c['Vector3']()['copy'](cg);!ca&&(cj=cj['applyMatrix4'](ce));ci=new c['Vector3'](0x0,0x1,0x0);!ca&&(ci=ci['applyMatrix4'](ce));ch=new c['Vector3']()['crossVectors'](ci,cj),ch['normalize'](),ci=new c['Vector3']()['crossVectors'](cj,ch),ci['normalize'](),cb=new c['Vector3']()['copy'](cf);let ck=new c['Matrix4']()['lookAt'](cb,new c['Vector3']()['addVectors'](cb,cj),ci),cl=new c['Matrix4']()['getInverse'](ck);b['Camera']['matShadowMV']=new c['Matrix4']()['multiplyMatrices'](cl,new c['Matrix4']()['copy'](b['Camera']['matMV']));{let cm=0.7,cn=cc['radius']*cm,co=cc['radius']*cm,cp=-cn/0x2,cq=cn/0x2,cr=-co/0x2,cs=co/0x2,ct=cc['radius']*-cm,cu=cc['radius']*cm,cv=new c['Matrix4']()['orthographic'](cp,cq,cr,cs,ct,cu);b['Camera']['matShadowProjection']=new c['Matrix4'](),b['Camera']['matShadowProjection']['elements']=cv;}}if(![]){let cw=![];if(b['Shader']['ViewLightAsRotate'])cw=!![];let cx=new c['Vector3'](),cy=b['Data']['GetBBox'](),cz=new c['Vector3']()['copy'](cy['center']),cA=new c['Matrix4']()['copy'](b['Camera']['matMV']);cA['setPosition'](new c['Vector3']());let cB=new c['Vector3']()['copy'](cz)['applyMatrix4'](new c['Matrix4']()['copy'](b['Camera']['matMV'])),cC=new c['Vector3']()['copy'](b['Shader']['GetLightDirection']()),cD,cE,cF;cF=new c['Vector3']()['copy'](cC);!cw&&(cF=cF['applyMatrix4'](cA));cE=new c['Vector3'](0x0,0x1,0x0);!cw&&(cE=cE['applyMatrix4'](cA));cD=new c['Vector3']()['crossVectors'](cE,cF),cD['normalize'](),cE=new c['Vector3']()['crossVectors'](cF,cD),cE['normalize'](),cx=new c['Vector3']()['copy'](cB);let cG=new c['Matrix4']()['lookAt'](cx,new c['Vector3']()['addVectors'](cx,cF),cE),cH=new c['Matrix4']()['getInverse'](cG);b['Camera']['matShadowMV']=new c['Matrix4']()['multiplyMatrices'](cH,new c['Matrix4']()['copy'](b['Camera']['matMV']));{let cI=2.2,cJ=cy['radius']*cI,cK=cy['radius']*cI,cL=-cJ/0x2,cM=cJ/0x2,cN=-cK/0x2,cO=cK/0x2,cP=cy['radius']*-cI,cQ=cy['radius']*cI,cR=new c['Matrix4']()['orthographic'](cL,cM,cN,cO,cP,cQ);b['Camera']['matShadowProjection']=new c['Matrix4'](),b['Camera']['matShadowProjection']['elements']=cR;}}if(!S||!b['Camera']['perspectiveView']){let cS=![];if(b['Shader']['ViewLightAsRotate'])cS=!![];let cT=new c['Vector3'](),cU=b['Data']['GetBBox'](),cV=new c['Vector3']()['copy'](cU['center']),cW=new c['Matrix4']()['copy'](b['Camera']['matMV']);cW['setPosition'](new c['Vector3']());if(b['DemoType']===0x7){cV=new c['Vector3'](0x8bd,0x18f1c,-0x320);let d4=0x249f0;cU['min']['set'](cV['x']-d4,cV['y']-d4,cV['z']-0x249f0),cU['max']['set'](cV['x']+d4,cV['y']+d4,cV['z']+0x249f0),cU['update'](),cV['copy'](cU['center']);}let cX=new c['Vector3']()['copy'](cV)['applyMatrix4'](new c['Matrix4']()['copy'](b['Camera']['matMV'])),cY=new c['Vector3']()['copy'](b['Shader']['GetLightDirection']()),cZ,d0,d1;d1=new c['Vector3']()['copy'](cY);cS&&(d1=d1['applyMatrix4'](cW));d0=new c['Vector3'](0x0,0x1,0x0);cS&&(d0=d0['applyMatrix4'](cW));cZ=new c['Vector3']()['crossVectors'](d0,d1),cZ['normalize'](),d0=new c['Vector3']()['crossVectors'](d1,cZ),d0['normalize'](),cT=new c['Vector3']()['copy'](cX);let d2=new c['Matrix4']()['lookAt'](cT,new c['Vector3']()['addVectors'](cT,d1),d0),d3=new c['Matrix4']()['getInverse'](d2);b['Camera']['matShadowMV']=new c['Matrix4']()['multiplyMatrices'](d3,new c['Matrix4']()['copy'](b['Camera']['matMV']));if(!![]){let d5=new c['BBox']();{let dd=[new c['Vector3'](cU['min']['x'],cU['min']['y'],cU['min']['z']),new c['Vector3'](cU['min']['x'],cU['min']['y'],cU['max']['z']),new c['Vector3'](cU['min']['x'],cU['max']['y'],cU['min']['z']),new c['Vector3'](cU['min']['x'],cU['max']['y'],cU['max']['z']),new c['Vector3'](cU['max']['x'],cU['min']['y'],cU['min']['z']),new c['Vector3'](cU['max']['x'],cU['min']['y'],cU['max']['z']),new c['Vector3'](cU['max']['x'],cU['max']['y'],cU['min']['z']),new c['Vector3'](cU['max']['x'],cU['max']['y'],cU['max']['z'])];for(let de=0x0;de<0x8;++de){dd[de]['applyMatrix4'](b['Camera']['matShadowMV']),de==0x0?(d5['min']['copy'](dd[de]),d5['max']['copy'](dd[de])):(d5['min']['min'](dd[de]),d5['max']['max'](dd[de]));}d5['update']();}let d6=d5['min']['x']-d5['center']['x'],d7=d5['max']['x']-d5['center']['x'],d8=d5['min']['y']-d5['center']['y'],d9=d5['max']['y']-d5['center']['y'],da=d5['min']['z']-d5['center']['z'],db=d5['max']['z']-d5['center']['z'],dc=new c['Matrix4']()['orthographic'](d6,d7,d8,d9,da,db);b['Camera']['matShadowProjection']=new c['Matrix4'](),b['Camera']['matShadowProjection']['elements']=dc;}if(![]){let df=new c['BBox']();{let dp=[new c['Vector3'](-0x1,-0x1,0x0),new c['Vector3'](0x1,-0x1,0x0),new c['Vector3'](-0x1,0x1,0x0),new c['Vector3'](0x1,0x1,0x0),new c['Vector3'](-0x1,-0x1,0x1),new c['Vector3'](0x1,-0x1,0x1),new c['Vector3'](-0x1,0x1,0x1),new c['Vector3'](0x1,0x1,0x1)],dq=new c['Matrix4']()['getInverse'](b['Camera']['matMVP']);for(let dr=0x0;dr<0x8;++dr){dp[dr]['applyMatrix4'](dq),dr==0x0?(df['min']['copy'](dp[dr]),df['max']['copy'](dp[dr])):(df['min']['min'](dp[dr]),df['max']['max'](dp[dr]));}df['update']();}let dg=new c['BBox']();{let ds=[new c['Vector3'](df['min']['x'],df['min']['y'],df['min']['z']),new c['Vector3'](df['min']['x'],df['min']['y'],df['max']['z']),new c['Vector3'](df['min']['x'],df['max']['y'],df['min']['z']),new c['Vector3'](df['min']['x'],df['max']['y'],df['max']['z']),new c['Vector3'](df['max']['x'],df['min']['y'],df['min']['z']),new c['Vector3'](df['max']['x'],df['min']['y'],df['max']['z']),new c['Vector3'](df['max']['x'],df['max']['y'],df['min']['z']),new c['Vector3'](df['max']['x'],df['max']['y'],df['max']['z'])];for(let dt=0x0;dt<0x8;++dt){ds[dt]['applyMatrix4'](d2),dt==0x0?(dg['min']['copy'](ds[dt]),dg['max']['copy'](ds[dt])):(dg['min']['min'](ds[dt]),dg['max']['max'](ds[dt]));}dg['update']();}let dh=dg['min']['x']-dg['center']['x'],di=dg['max']['x']-dg['center']['x'],dj=dg['min']['y']-dg['center']['y'],dk=dg['max']['y']-dg['center']['y'],dl=dg['min']['z']-dg['center']['z'],dm=dg['max']['z']-dg['center']['z'],dn=new c['Matrix4']()['orthographic'](dh,di,dj,dk,dl,dm);b['Camera']['matShadowProjection']=new c['Matrix4'](),b['Camera']['matShadowProjection']['elements']=dn;}}if(S&&b['Camera']['perspectiveView']){let du=![],dv=![],dw=![],dx=![],dy=![];const dz=b['Camera']['clientWidth']/b['Camera']['clientHeight'];if(b['Camera']['far']<0x4e20){S=![],b['Shader']['UpdateShader'](),b['MeshBlock']['Reset'](),b['Renderer']['Render']();return;}else{if(b['Camera']['far']<0xc350){const dA=new c['Matrix4']()['perspective'](b['Util']['DegToRad'](b['Camera']['fieldOfView']),dz,0x1,0x4e20);let dB=br(dA);const dC=new c['Matrix4']()['perspective'](b['Util']['DegToRad'](b['Camera']['fieldOfView']),dz,0x4e20,b['Camera']['far']);let dD=br(dC);b['Camera']['matShadowMV1']=dB[0x0],b['Camera']['matShadowProjection1']=dB[0x1],b['Camera']['matShadowMV2']=dD[0x0],b['Camera']['matShadowProjection2']=dD[0x1],du=!![],dv=!![],dw=![],dx=![],dy=![];}else{if(b['Camera']['far']<0x30d40){const dE=new c['Matrix4']()['perspective'](b['Util']['DegToRad'](b['Camera']['fieldOfView']),dz,0x1,0x4e20);let dF=br(dE);const dG=new c['Matrix4']()['perspective'](b['Util']['DegToRad'](b['Camera']['fieldOfView']),dz,0x4e20,0xc350);let dH=br(dG);const dI=new c['Matrix4']()['perspective'](b['Util']['DegToRad'](b['Camera']['fieldOfView']),dz,0xc350,b['Camera']['far']);let dJ=br(dI);b['Camera']['matShadowMV1']=dF[0x0],b['Camera']['matShadowProjection1']=dF[0x1],b['Camera']['matShadowMV2']=dH[0x0],b['Camera']['matShadowProjection2']=dH[0x1],b['Camera']['matShadowMV3']=dJ[0x0],b['Camera']['matShadowProjection3']=dJ[0x1],du=!![],dv=!![],dw=!![],dx=![],dy=![];}else{if(b['Camera']['far']<0xf4240){const dK=new c['Matrix4']()['perspective'](b['Util']['DegToRad'](b['Camera']['fieldOfView']),dz,0x1,0x4e20);let dL=br(dK);const dM=new c['Matrix4']()['perspective'](b['Util']['DegToRad'](b['Camera']['fieldOfView']),dz,0x4e20,0xc350);let dN=br(dM);const dO=new c['Matrix4']()['perspective'](b['Util']['DegToRad'](b['Camera']['fieldOfView']),dz,0xc350,0x30d40);let dP=br(dO);const dQ=new c['Matrix4']()['perspective'](b['Util']['DegToRad'](b['Camera']['fieldOfView']),dz,0x30d40,b['Camera']['far']);let dR=br(dQ);b['Camera']['matShadowMV1']=dL[0x0],b['Camera']['matShadowProjection1']=dL[0x1],b['Camera']['matShadowMV2']=dN[0x0],b['Camera']['matShadowProjection2']=dN[0x1],b['Camera']['matShadowMV3']=dP[0x0],b['Camera']['matShadowProjection3']=dP[0x1],b['Camera']['matShadowMV4']=dR[0x0],b['Camera']['matShadowProjection4']=dR[0x1],du=!![],dv=!![],dw=!![],dx=!![],dy=![];}else{du=!![],dv=!![],dw=!![],dx=!![],dy=!![];let dS=b['Camera']['far']*1.5;const dT=new c['Matrix4']()['perspective'](b['Util']['DegToRad'](b['Camera']['fieldOfView']),dz,0x1,0x4e20);let dU=br(dT);const dV=new c['Matrix4']()['perspective'](b['Util']['DegToRad'](b['Camera']['fieldOfView']),dz,0x4e20,0xc350);let dW=br(dV);const dX=new c['Matrix4']()['perspective'](b['Util']['DegToRad'](b['Camera']['fieldOfView']),dz,0xc350,0x30d40);let dY=br(dX);const dZ=new c['Matrix4']()['perspective'](b['Util']['DegToRad'](b['Camera']['fieldOfView']),dz,0x30d40,0xf4240);let e0=br(dZ);const e1=new c['Matrix4']()['perspective'](b['Util']['DegToRad'](b['Camera']['fieldOfView']),dz,0xf4240,b['Camera']['far']);let e2=br(e1);b['Camera']['matShadowMV1']=dU[0x0],b['Camera']['matShadowProjection1']=dU[0x1],b['Camera']['matShadowMV2']=dW[0x0],b['Camera']['matShadowProjection2']=dW[0x1],b['Camera']['matShadowMV3']=dY[0x0],b['Camera']['matShadowProjection3']=dY[0x1],b['Camera']['matShadowMV4']=e0[0x0],b['Camera']['matShadowProjection4']=e0[0x1],b['Camera']['matShadowMV5']=e2[0x0],b['Camera']['matShadowProjection5']=e2[0x1];}}}}if(S){e['enable'](e['CULL_FACE']),e['cullFace'](e['BACK']);let e3=d['enableOcclusion'];d['enableOcclusion']=![],b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['PREPROCESSINGSHADOW']),b['Shader']['SetGLCameraData'](),b['Shader']['SetGLMaterial'](-0x1);{let e4=new c['Matrix4']()['copy'](b['Camera']['matShadowMV1']);const e5=new c['Matrix4']()['copy'](e4),e6=new c['Matrix4']()['multiplyMatrices'](b['Camera']['matShadowProjection1'],e4);b['Shader']['SetMatrix'](e6,e5);for(let e7=0x0;e7<bM;e7++){b['RenderWGL']['UpdateRenderProcessByColorIDByMatrix_v3'](b['Data']['Objects'][e7]);}b['Shader']['EndFramebuffer']();}if(dv){let e8=new c['Matrix4']()['copy'](b['Camera']['matShadowMV2']);b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['PREPROCESSINGSHADOW2']);bL&&(e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']));const e9=new c['Matrix4']()['copy'](e8),ea=new c['Matrix4']()['multiplyMatrices'](b['Camera']['matShadowProjection2'],e8);b['Shader']['SetMatrix'](ea,e9);for(let eb=0x0;eb<bM;eb++){b['RenderWGL']['UpdateRenderProcessByColorIDByMatrix_v3'](b['Data']['Objects'][eb]);}b['Shader']['EndFramebuffer']();}if(dw){let ec=new c['Matrix4']()['copy'](b['Camera']['matShadowMV3']);b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['PREPROCESSINGSHADOW3']);bL&&(e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']));const ed=new c['Matrix4']()['copy'](ec),ee=new c['Matrix4']()['multiplyMatrices'](b['Camera']['matShadowProjection3'],ec);b['Shader']['SetMatrix'](ee,ed);for(let ef=0x0;ef<bM;ef++){b['RenderWGL']['UpdateRenderProcessByColorIDByMatrix_v3'](b['Data']['Objects'][ef]);}b['Shader']['EndFramebuffer']();}if(dx){let eg=new c['Matrix4']()['copy'](b['Camera']['matShadowMV4']);b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['PREPROCESSINGSHADOW4']);bL&&(e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']));const eh=new c['Matrix4']()['copy'](eg),ei=new c['Matrix4']()['multiplyMatrices'](b['Camera']['matShadowProjection4'],eg);b['Shader']['SetMatrix'](ei,eh);for(let ej=0x0;ej<bM;ej++){b['RenderWGL']['UpdateRenderProcessByColorIDByMatrix_v3'](b['Data']['Objects'][ej]);}b['Shader']['EndFramebuffer']();}if(dy){let ek=new c['Matrix4']()['copy'](b['Camera']['matShadowMV5']);b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['PREPROCESSINGSHADOW5']);bL&&(e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']));const el=new c['Matrix4']()['copy'](ek),em=new c['Matrix4']()['multiplyMatrices'](b['Camera']['matShadowProjection5'],ek);b['Shader']['SetMatrix'](em,el);for(let en=0x0;en<bM;en++){b['RenderWGL']['UpdateRenderProcessByColorIDByMatrix_v3'](b['Data']['Objects'][en]);}b['Shader']['EndFramebuffer']();}b['Shader']['EndShader'](),e['disable'](e['CULL_FACE']),d['enableOcclusion']=e3;}}b['Camera']['CameraUpdateWithCameraData'](c9);}if(b['Camera']['matShadowMV']!==undefined){let eo=new c['Matrix4']()['copy'](b['Camera']['matShadowMV']),ep=new c['Matrix4']()['multiplyMatrices'](b['Camera']['matShadowProjection'],eo),eq=d['enableOcclusion'];d['enableOcclusion']=![],b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['PREPROCESSINGSHADOW']),b['Shader']['SetGLCameraData'](),b['Shader']['SetClipping'](eo);for(let er=0x0;er<bM;er++){b['RenderWGL']['UpdateRenderProcessByColorIDByMatrix_v2'](b['Data']['Objects'][er],b['Camera']['matShadowProjection'],eo);}b['Shader']['EndShader'](),d['enableOcclusion']=eq;{}if(ao){let es=new c['Matrix4']()['copy'](b['Camera']['matMV']),et=new c['Matrix4']()['copy'](b['Camera']['matMVP']);b['Camera']['matMV']['copy'](eo),b['Camera']['matMVP']['copy'](ep),b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['PREPROCESSINGSHADOW']),b['Shader']['SetGLCameraData'](),b['Shader']['SetClipping'](undefined);let eu=aq;if(eu===undefined)eu=b['Data']['GetBBox']();let ev=ap,ew=as,ex=at;if(eu['radius']>0x0){let ey=new c['Vector3'](0x1,0x0,0x0),ez=new c['Matrix4']()['copy'](b['Camera']['matMVP']);b['Shader']['SetMatrix'](ez,undefined);let eA=b['Shader']['SetGLAlphaCloud']();eu['max']['z']+=ew*0.75+eu['max']['z'],eu['min']['x']-=ew/0x2,eu['max']['x']+=ew/0x2;if(eA){let eB=b['gl']['getUniformLocation'](b['Shader']['currentProgram'],'useTexture');b['gl']['uniform1i'](eB,0x1);let eC=b['gl']['getUniformLocation'](b['Shader']['currentProgram'],'uTiling'),eD=b['gl']['getUniformLocation'](b['Shader']['currentProgram'],'uOffset');if(eC!==null)b['gl']['uniform2f'](eC,0x1,0x1);if(eD!==null)b['gl']['uniform2f'](eD,0x0,0x0);b['RenderWGL']['Util_RenderCloud'](eu,ew,ey,ex,ev);}}b['Shader']['EndShader'](),b['Camera']['matMV']['copy'](es),b['Camera']['matMVP']['copy'](et);}}b['Shader']['EndFramebuffer']();}if(r){b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['COLOROBJECTGROUP']),e['disable'](e['BLEND']),e['enable'](e['DEPTH_TEST']);bL&&(e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']));if(![]){let eE=b['Group']['GetList'](),eF=new c['Color'](0x0,0x0,0x1,0xff);b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['BASIC3D']),b['Shader']['SetClipping'](b['Camera']['matMV']);for(let eG=0x0;eG<eE['length'];eG++){if(eE[eG]['effect']===![])continue;eF['new']();let eH=eF['glColor']();b['Shader']['SetGLColor'](eH['r'],eH['g'],eH['b'],eH['a']);for(let eI=0x0;eI<bM;eI++){b['RenderWGL']['UpdateRenderProcessByGroupIdx'](b['Data']['Objects'][eI],eG);}}{let eJ=new c['Color'](0x0,0x0,0x0,0xff),eK=eJ['glColor']();b['Shader']['SetGLColor'](eK['r'],eK['g'],eK['b'],eK['a']);for(let eL=0x0;eL<bM;eL++){b['RenderWGL']['UpdateRenderProcessByGroupIdx'](b['Data']['Objects'][eL],-0x1);}b['Shader']['EndShader']();}b['Shader']['EndShader']();}else{let eM=b['Group']['GetList']();if(eM['length']>0x0){let eN=new c['Color'](0x0,0x0,0x1,0xff);b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['BASIC3D']),b['Shader']['SetClipping'](b['Camera']['matMV']);let eO=new c['Color'](0x0,0x0,0x0,0xff),eP=[];for(let eQ=0x0;eQ<eM['length'];eQ++){eN['new'](),eP[eQ]=new c['Color']()['copy'](eN);}for(let eR=0x0;eR<bM;eR++){b['RenderWGL']['UpdateRenderProcessByGroupColor'](b['Data']['Objects'][eR],eM,eP,eO);}b['Shader']['EndShader']();}}b['Shader']['EndFramebuffer']();}if(0x0){b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['NORMAL']),e['disable'](e['BLEND']),e['enable'](e['DEPTH_TEST']);bL&&(e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']));{b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['NORMAL']);for(let eS=0x0;eS<bM;eS++){b['RenderWGL']['UpdateRenderProcessByObjectOneColor_v2'](b['Data']['Objects'][eS]);}b['Shader']['EndShader']();}{}b['Shader']['EndFramebuffer']();}}else{{b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['DEPTH']),e['disable'](e['BLEND']),e['enable'](e['DEPTH_TEST']);bL&&(e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']));{b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['DEPTH']),b['Shader']['SetGLCameraData']();for(let eT=0x0;eT<bM;eT++){b['RenderWGL']['UpdateRenderProcessByPickObject_v2'](b['Data']['Objects'][eT]);}b['Shader']['EndShader']();}b['Shader']['EndFramebuffer'](),e['disable'](e['BLEND']),e['disable'](e['DEPTH_TEST']);}{b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['PICK']),e['disable'](e['BLEND']),e['enable'](e['DEPTH_TEST']);bL&&(e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']));{b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['PICKING']),b['Shader']['SetClipping'](b['Camera']['matMV']);for(let eU=0x0;eU<bM;eU++){b['RenderWGL']['UpdateRenderProcessByPickObject_v2'](b['Data']['Objects'][eU]);}b['Shader']['EndShader']();}{b['CustomObject']['PickRender'](c['Enum']['SHADER_TYPES']['PICKING']);}b['Shader']['EndFramebuffer']();}{b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['PRESELECT']),e['disable'](e['BLEND']),e['enable'](e['DEPTH_TEST']),e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']);if(![]){let eV=new c['Color'](0x0,0x0,0x0,0x0);b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['BASIC2D']);for(let eW=0x0;eW<bM;eW++){b['RenderWGL']['UpdateRenderProcessByObjectOneColor_v2'](b['Data']['Objects'][eW],eV);}b['Shader']['EndShader'](),b['CustomObject']['OneColorRender'](c['Enum']['SHADER_TYPES']['BASIC2D'],eV);}{b['Pick']['RenderPreselectEdgeColor']();}b['Shader']['EndFramebuffer']();}{b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['SELECTED']),e['disable'](e['BLEND']),e['enable'](e['DEPTH_TEST']);bL&&(e['clearColor'](0x0,0x0,0x0,0x1),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']));b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['PICKING']),b['Shader']['SetClipping'](b['Camera']['matMV']);for(let eX=0x0;eX<bM;eX++){b['RenderWGL']['UpdateRenderProcessBySelectPickObject_v2'](b['Data']['Objects'][eX]);}b['Shader']['EndShader']();{b['CustomObject']['SelectedRender'](c['Enum']['SHADER_TYPES']['PICKING']);}}{b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['COLOROBJECT']),e['disable'](e['BLEND']),e['enable'](e['DEPTH_TEST']);bL&&(e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']));{b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['PICKING']);for(let eY=0x0;eY<bM;eY++){b['RenderWGL']['UpdateRenderProcessByColorID_v2'](b['Data']['Objects'][eY]);}b['Shader']['EndShader']();}{let eZ=new c['Color'](0x0,0x0,0x0,0xff);b['CustomObject']['OneColorRender'](c['Enum']['SHADER_TYPES']['BASIC2D'],eZ);}b['Shader']['EndFramebuffer']();}{b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['COLORCUSTOMOBJECT']),e['disable'](e['BLEND']),e['enable'](e['DEPTH_TEST']);bL&&(e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']));{let f0=new c['Color'](0x0,0x0,0x0,0xff);b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['BASIC2D']);for(let f1=0x0;f1<bM;f1++){b['RenderWGL']['UpdateRenderProcessByObjectOneColor_v2'](b['Data']['Objects'][f1],f0);}b['Shader']['EndShader']();}{b['CustomObject']['ColorIDRender'](c['Enum']['SHADER_TYPES']['PICKING']);}b['Shader']['EndFramebuffer']();}if(0x1){b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['NORMAL']),e['disable'](e['BLEND']),e['enable'](e['DEPTH_TEST']);bL&&(e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']));{b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['NORMAL']);for(let f2=0x0;f2<bM;f2++){b['RenderWGL']['UpdateRenderProcessByObjectOneColor_v2'](b['Data']['Objects'][f2]);}b['Shader']['EndShader']();}{}b['Shader']['EndFramebuffer']();}if(0x1){b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['POSITION']),e['disable'](e['BLEND']),e['enable'](e['DEPTH_TEST']);bL&&(e['clearColor'](0x0,0x0,0x0,0x0),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']));{b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['POSITION']);for(let f3=0x0;f3<bM;f3++){b['RenderWGL']['UpdateRenderProcessByObjectOneColor_v2'](b['Data']['Objects'][f3]);}b['Shader']['EndShader']();}{}b['Shader']['EndFramebuffer']();}}}function br(bL){const bM=b['Camera']['clientWidth']/b['Camera']['clientHeight'];let bN=new c['Matrix4']();bN['elements']=bL;const bO=new c['Matrix4']()['copy'](b['Camera']['viewMatrix']);bN['multiply'](bO)['multiplyScalar'](0x1);let bP=b['Camera']['GetFrustumCornersWorldSpace'](bN),bQ=new c['Vector3']();for(let cd=0x0;cd<0x8;cd++){bQ['add'](bP[cd]);}bQ['multiplyScalar'](0x1/0x8);let bR=![];if(b['Shader']['ViewLightAsRotate'])bR=!![];let bS=new c['Matrix4']()['copy'](b['Camera']['matMV']);bS['setPosition'](new c['Vector3']());let bT=b['Data']['GetBBox'](),bU=new c['Vector3']()['copy'](bT['center']),bV=new c['Matrix4'](),bW=new c['Vector3']()['copy'](b['Shader']['GetLightDirection']()),bX,bY,bZ;bZ=new c['Vector3']()['copy'](bW);!bR&&(bZ=bZ['applyMatrix4'](bS));bY=new c['Vector3'](0x0,0x1,0x0);!bR&&(bY=bY['applyMatrix4'](bS));bX=new c['Vector3']()['crossVectors'](bY,bZ),bX['normalize'](),bY=new c['Vector3']()['crossVectors'](bZ,bX),bY['normalize']();let c0=new c['Vector3']()['copy'](bQ)['applyMatrix4'](new c['Matrix4']()['copy'](b['Camera']['matMV'])),c1=new c['Matrix4']()['lookAt'](c0,new c['Vector3']()['addVectors'](c0,bZ),bY),c2=new c['Matrix4']()['getInverse'](c1),c3=new c['Matrix4']()['multiplyMatrices'](c2,new c['Matrix4']()['copy'](b['Camera']['matMV'])),c4=Number['POSITIVE_INFINITY'],c5=Number['NEGATIVE_INFINITY'],c6=Number['POSITIVE_INFINITY'],c7=Number['NEGATIVE_INFINITY'],c8=Number['POSITIVE_INFINITY'],c9=Number['NEGATIVE_INFINITY'];for(let ce=0x0;ce<0x8;ce++){let cf=new c['Matrix4']()['copy'](c3);const cg=cf['multiplyVector'](bP[ce]);c4=Math['min'](c4,cg['x']),c5=Math['max'](c5,cg['x']),c6=Math['min'](c6,cg['y']),c7=Math['max'](c7,cg['y']),c8=Math['min'](c8,cg['z']),c9=Math['max'](c9,cg['z']);}const ca=0xa;c8<0x0?c8*=ca:c8/=ca;c9<0x0?c9/=ca:c9*=ca;let cb=new c['Matrix4']()['orthographic'](c4,c5,c6,c7,c8,c9),cc=new c['Matrix4']();return cc['elements']=cb,[c3,cc];}function bs(){let bL=b['Data']['ObjectsUpdateLength'];if(b['Renderer']['GetEnableColorMap']())b['ColorMap']['InitList']();for(let bM=0x0;bM<bL;bM++){b['Data']['Objects'][bM]['flag']['renderEnable']=![];let bN=b['RenderWGL']['GetPipeline'](b['Data']['Objects'][bM]['uuid']);if(bN!==undefined)bN['renderEnableOcclusion']=![];if(!b['Data']['Objects'][bM]['flag']['renderEnable']&&!b['Data']['Objects'][bM]['flag']['cache']&&(bN!==undefined&&bN['queryInProgress']===![])){b['Renderer']['ReleaseDataByCache'](b['Data']['Objects'][bM]);if(b['Renderer']['GetEnableColorMap']())b['ColorMap']['AddReleaseList'](b['Data']['Objects'][bM]);}else{if(b['Renderer']['GetEnableColorMap']())b['ColorMap']['AddReferenceList'](b['Data']['Objects'][bM]);}}if(b['Renderer']['GetEnableColorMap']()){for(let bO=bL;bO<b['Data']['Objects']['length'];bO++){b['ColorMap']['AddReferenceList'](b['Data']['Objects'][bO]);}b['ColorMap']['ReleaseColorMap']();}}function bt(){let bL=b['Data']['ObjectsUpdateLength'];for(let bM=0x0;bM<bL;bM++){b['Data']['Objects'][bM]['flag']['renderEnable']=![];let bN=b['RenderWGL']['GetPipeline'](b['Data']['Objects'][bM]['uuid']);if(bN!==undefined)bN['renderEnableOcclusion']=![];}}this['IsRenderUpdate']=function(){if(d['RenderEvent'])return!![];if(a7){if(!d['mainFramebufferClear'])return b['ViewRefresh'](![]),![];return!![];}if(d['useNoteEffect'])return!![];if(d['enableOcclusion']){if(d['occlusionProcessCount']>0x0)return!![];}return![];};function bu(bL,bM,bN){if(bN===undefined){if(b2)bN=c['Enum']['FB_RENDER_TYPES']['PICK'];else bN=c['Enum']['FB_RENDER_TYPES']['COLOROBJECT'];}b['Shader']['BeginFramebuffer'](bN),b['Shader']['BindTargetTexture']();const bO=bL,bP=b['Camera']['clientHeight']-bM,bQ=new Uint8Array(0x4);e['readPixels'](bO,bP,0x1,0x1,e['RGBA'],e['UNSIGNED_BYTE'],bQ);const bR=bQ[0x0]+(bQ[0x1]<<0x8)+(bQ[0x2]<<0x10)+bQ[0x3]*0x1000000;b['Shader']['EndFramebuffer']();if(bR===0x0)return undefined;let bS=b['Data']['GetBodyByColorIdx'](bR);return bS;}function bv(bL,bM){b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['PICK']),b['Shader']['BindTargetTexture']();const bN=bL,bO=b['Camera']['clientHeight']-bM,bP=new Uint8Array(0x4);e['readPixels'](bN,bO,0x1,0x1,e['RGBA'],e['UNSIGNED_BYTE'],bP);const bQ=bP[0x0]+(bP[0x1]<<0x8)+(bP[0x2]<<0x10)+bP[0x3]*0x1000000;b['Shader']['EndFramebuffer']();if(bQ===0x0)return undefined;let bR=b['CustomObject']['GetObjectByColorIdx'](bQ);if(bR===undefined)return undefined;return bR[0x1];}function bw(bL,bM){if(b2)b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['PICK']);else b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['COLOROBJECT']);b['Shader']['BindTargetTexture']();const bN=bL,bO=b['Camera']['clientHeight']-bM,bP=new Uint8Array(0x4);e['readPixels'](bN,bO,0x1,0x1,e['RGBA'],e['UNSIGNED_BYTE'],bP);const bQ=bP[0x0]+(bP[0x1]<<0x8)+(bP[0x2]<<0x10)+bP[0x3]*0x1000000;b['Shader']['EndFramebuffer']();if(bQ===0x0)return undefined;let bR=b['CustomObject']['GetObjectByColorIdx'](bQ);return bR;}function bx(bL,bM){b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['PRESELECT']),b['Shader']['BindTargetTexture']();let bN=0x9,bO=Math['floor'](bN*0.5);const bP=bL,bQ=b['Camera']['clientHeight']-bM,bR=bP-bO,bS=bQ-bO;if(!![]){let bU=undefined,bV=bN*bN;const bW=new Uint8Array(bV*0x4);e['readPixels'](bR,bS,bN,bN,e['RGBA'],e['UNSIGNED_BYTE'],bW),b['Shader']['EndFramebuffer']();for(let bX=0x0;bX<bV;bX++){const bY=bW[bX*0x4+0x0]+(bW[bX*0x4+0x1]<<0x8)+(bW[bX*0x4+0x2]<<0x10)+bW[bX*0x4+0x3]*0x1000000;if(bY===0x0)continue;if(bU!==undefined){if(bU['id']===bY)continue;}let bZ=b['Pick']['GetPreselectDataByID'](bY);if(bU===undefined)bU=bZ;}return bU;}let bT=undefined;for(let c0=0x0;c0<=bO;c0++){for(let c1=0x0;c1<=bO;c1++){const c2=new Uint8Array(0x4);e['readPixels'](bR+c0,bS+c1,0x1,0x1,e['RGBA'],e['UNSIGNED_BYTE'],c2);const c3=c2[0x0]+(c2[0x1]<<0x8)+(c2[0x2]<<0x10)+c2[0x3]*0x1000000;if(c3===0x0)continue;if(bT!==undefined){if(bT['id']===c3)continue;}let c4=b['Pick']['GetPreselectDataByID'](c3);if(bT===undefined)bT=c4;else bT['pickKind']!==c4['pickKind']&&((bT['pickKind']===c['Enum']['PRESELECT_PICK_KIND']['EDGE']||bT['pickKind']===c['Enum']['PRESELECT_PICK_KIND']['CIRCLE'])&&((c4['pickKind']!==c['Enum']['PRESELECT_PICK_KIND']['EDGE']||c4['pickKind']!==c['Enum']['PRESELECT_PICK_KIND']['CIRCLE'])&&(bT=c4)));}}return b['Shader']['EndFramebuffer'](),bT;}function by(bL,bM){if(b['useWebGL2']){let bN=b['Shader']['GetPositionTexture']();if(bN){b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['PREPROCESSING']),e['readBuffer'](e['COLOR_ATTACHMENT1']);const bO=bL,bP=b['Camera']['clientHeight']-bM,bQ=new Float32Array(0x4);e['readPixels'](bO,bP,0x1,0x1,e['RGBA'],e['FLOAT'],bQ),e['readBuffer'](e['COLOR_ATTACHMENT0']),b['Shader']['EndFramebuffer']();const bR=new c['Matrix4']()['copy'](b['Camera']['matMV']),bS=new c['Matrix4']()['getInverse'](bR);let bT=new c['Vector3'](bQ[0x0],bQ[0x1],bQ[0x2]),bU=bS['multiplyVector'](bT);if(bU['x']===0x0&&bU['y']===0x0&&bU['z']===0x0)return undefined;return bU;}}else{b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['DEPTH']),b['Shader']['BindTargetTexture']();const bV=bL,bW=b['Camera']['clientHeight']-bM,bX=new Uint8Array(0x4);e['readPixels'](bV,bW,0x1,0x1,e['RGBA'],e['UNSIGNED_BYTE'],bX),b['Shader']['EndFramebuffer']();if(bX[0x0]===0x0&&bX[0x1]===0x0&&bX[0x2]===0x0)return undefined;let bY=new c['Matrix4']()['copy'](b['Camera']['matMVP']);if(![]){let bZ=new c['Vector3']();bZ['x']=bL,bZ['y']=bM;let c0=bX[0x2];if(b['Camera']['perspectiveView'])bZ['z']=c0/0xff;else bZ['z']=c0/0xff*0x2-0x1;let c1=b['Camera']['screen2WorldWithMatrix'](bY,bZ);return c1;}else{let c2=new c['Vector3'](),c3=bX[0x0]+bX[0x1]*0x100+bX[0x2]*0x10000;c2['x']=bL,c2['y']=bM;const c4=0xffffff;if(b['Camera']['perspectiveView'])c2['z']=c3/c4;else c2['z']=c3/c4*0x2-0x1;let c5=b['Camera']['screen2WorldWithMatrix'](bY,c2);return c5;}}return undefined;}function bz(bL,bM,bN,bO,bP,bQ,bR){b['Shader']['BeginShader'](bM);{b['Shader']['SetMatrix'](new c['Matrix4'](),undefined);if(bQ===undefined)b['Shader']['SetGLColor'](0x1,0x1,0x1,0x1);else{let bZ=bQ['glColor']();b['Shader']['SetGLColor'](bZ['r'],bZ['g'],bZ['b'],bZ['a']);}if(bR===undefined)bR=0x0;let bS;if(bL===0x0)bS=[0.25,0.35,0.5,0.75,0.35,0.5,0.25,0.85,0.5,0.75,0.85,0.5];else{if(bL===0x1)bS=[0.25,-0.225,0.5,0.75,-0.225,0.5,0.25,0.225,0.5,0.75,0.225,0.5];else bL===0x2&&(bS=[0.25,-0.85,0.5,0.75,-0.85,0.5,0.25,-0.35,0.5,0.75,-0.35,0.5]);}let bT=[0x0,0x0,0x1,0x0,0x0,0x1,0x1,0x1],bU=e['createBuffer']();e['bindBuffer'](e['ARRAY_BUFFER'],bU),e['bufferData'](e['ARRAY_BUFFER'],new Float32Array(bS),e['STATIC_DRAW']);let bV=e['createBuffer']();e['bindBuffer'](e['ARRAY_BUFFER'],bV),e['bufferData'](e['ARRAY_BUFFER'],new Float32Array(bT),e['STATIC_DRAW']);if(bN!==undefined)b['Shader']['SetCurrentTexture']('u_Texture',e['TEXTURE_2D'],bN);let bW=e['getUniformLocation'](b['Shader']['currentProgram'],'uTexScale');bW&&e['uniform2f'](bW,bO,bP);let bX=e['getUniformLocation'](b['Shader']['currentProgram'],'uSigma');bX&&e['uniform1f'](bX,0x1);let bY=e['getUniformLocation'](b['Shader']['currentProgram'],'uLevel');bY&&e['uniform1f'](bY,bR),e['bindBuffer'](e['ARRAY_BUFFER'],bU),e['vertexAttribPointer'](b['Shader']['positionAttributeLocation'],0x3,e['FLOAT'],![],0x0,0x0),e['bindBuffer'](e['ARRAY_BUFFER'],bV),e['vertexAttribPointer'](b['Shader']['uvAttributeLocation'],0x2,e['FLOAT'],![],0x0,0x0),e['drawArrays'](e['TRIANGLE_STRIP'],0x0,0x4),e['deleteBuffer'](bU),e['deleteBuffer'](bV),e['bindTexture'](e['TEXTURE_2D'],null);}b['Shader']['EndShader']();}function bA(bL,bM,bN,bO,bP){let bQ=b['Shader']['GetItemFramebuffer'](bM);if(bQ===undefined)return;bB(bL,bQ['targetTexture'][0x0],bQ['width'],bQ['height'],bN,bO,bP);}function bB(bL,bM,bN,bO,bP,bQ,bR){b['Shader']['BeginShader'](bL);{b['Shader']['SetMatrix'](new c['Matrix4'](),undefined);if(bP===undefined)b['Shader']['SetGLColor'](0x1,0x1,0x1,0x1);else{let bU=bP['glColor']();b['Shader']['SetGLColor'](bU['r'],bU['g'],bU['b'],bU['a']);}b['Shader']['SetCurrentTexture']('u_Texture',e['TEXTURE_2D'],bM);let bS=e['getUniformLocation'](b['Shader']['currentProgram'],'uTexScale');bS&&e['uniform2f'](bS,bN,bO);let bT=e['getUniformLocation'](b['Shader']['currentProgram'],'uSigma');bT&&e['uniform1f'](bT,0x1);if(bL===c['Enum']['SHADER_TYPES']['EDGE']){let bV=e['getUniformLocation'](b['Shader']['currentProgram'],'ubUseStipple');bV&&e['uniform1f'](bV,0x0);}if(bQ!==undefined){if(bQ===0xb){let bW=e['getUniformLocation'](b['Shader']['currentProgram'],'ubUseStipple');bW&&e['uniform1f'](bW,0x1);}}b['RenderWGL']['Util_RenderQuad'](bR),e['bindTexture'](e['TEXTURE_2D'],null);}b['Shader']['EndShader']();}function bC(bL,bM,bN,bO,bP,bQ,bR,bS,bT){b['Shader']['BeginShader'](bL);{b['Shader']['SetMatrix'](new c['Matrix4'](),undefined);if(bS===undefined)b['Shader']['SetGLColor'](0x1,0x1,0x1,0x1);else{let bY=bS['glColor']();b['Shader']['SetGLColor'](bY['r'],bY['g'],bY['b'],bY['a']);}b['Shader']['SetCurrentTexture']('u_Texture',e['TEXTURE_2D'],bM);let bU=e['getUniformLocation'](b['Shader']['currentProgram'],'uTexScale');bU&&e['uniform2f'](bU,bN,bO);let bV=e['getUniformLocation'](b['Shader']['currentProgram'],'uDirection');bV&&e['uniform2f'](bV,bQ['x'],bQ['y']);let bW=e['getUniformLocation'](b['Shader']['currentProgram'],'uSigma');bW&&e['uniform1f'](bW,bR);let bX=e['getUniformLocation'](b['Shader']['currentProgram'],'uBlurType');bX&&e['uniform1i'](bX,bP),b['RenderWGL']['Util_RenderQuad'](bT),e['bindTexture'](e['TEXTURE_2D'],null);}b['Shader']['EndShader']();}function bD(bL,bM,bN,bO){b['Shader']['BeginShader'](bL);{b['Shader']['SetMatrix'](new c['Matrix4'](),undefined),b['Shader']['SetCurrentTexture']('u_Texture',e['TEXTURE_2D'],bM),b['Shader']['SetCurrentTexture']('u_subTexture',e['TEXTURE_2D'],bN);let bP=e['getUniformLocation'](b['Shader']['currentProgram'],'uTexScale');bP&&e['uniform2f'](bP,e['canvas']['width'],e['canvas']['height']),b['RenderWGL']['Util_RenderQuad'](bO),e['bindTexture'](e['TEXTURE_2D'],null);}b['Shader']['EndShader']();}function bE(bL,bM,bN,bO){b['Shader']['BeginShader'](bL);{b['Shader']['SetMatrix'](new c['Matrix4'](),undefined),b['Shader']['SetGLCameraData'](),b['Shader']['SetGLNoiseData']();let bP=b['Shader']['GetPositionTexture'](),bQ=b['Shader']['GetNormalTexture']();b['Shader']['SetCurrentTexture']('u_PositionTexture',e['TEXTURE_2D'],bP['texture']),b['Shader']['SetCurrentTexture']('u_NormalTexture',e['TEXTURE_2D'],bQ['texture']);let bR=b['Data']['GetBBox'](),bS=new c['Matrix4']()['copy'](b['Camera']['matMV']),bT=bS['getTranslate']()['length'](),bU=e['getUniformLocation'](b['Shader']['currentProgram'],'uBias');bU&&(bM>0x0?e['uniform1f'](bU,Math['min'](bM,0x3e8)):e['uniform1f'](bU,Math['min'](bR['radius']*0.0001,0x3e8)));let bV=e['getUniformLocation'](b['Shader']['currentProgram'],'uSigma');if(bV){if(bM>0x0){let bW=Math['min'](0x1388,bM);e['uniform1f'](bV,bW);}else e['uniform1f'](bV,Math['min'](bR['radius']*0x1,0x1388));}b['RenderWGL']['Util_RenderQuad'](bO),e['bindTexture'](e['TEXTURE_2D'],null);}b['Shader']['EndShader']();}function bF(){if(b['Data']['ObjectsBBox']===undefined)return;aO=[],aO[0x0]=[],aO[0x1]=[];let bL=0x0,bM=0x0;e['enable'](e['DEPTH_TEST']),e['enable'](e['BLEND']),e['blendFunc'](e['SRC_ALPHA'],e['ONE_MINUS_SRC_ALPHA']);const bN=new c['Matrix4']()['copy'](b['Camera']['matMV']),bO=new c['Matrix4']()['copy'](b['Camera']['matMVP']);let bP=new c['Vector3'](b['Data']['ObjectsBBox']['min']['x'],b['Data']['ObjectsBBox']['min']['y'],b['Data']['ObjectsBBox']['min']['z']),bQ=new c['Vector3'](b['Data']['ObjectsBBox']['max']['x'],b['Data']['ObjectsBBox']['max']['y'],b['Data']['ObjectsBBox']['min']['z']),bR=new c['Vector3']((bP['x']+bQ['x'])/0x2,(bP['y']+bQ['y'])/0x2,(bP['z']+bQ['z'])/0x2),bS=new c['Vector3']()['copy'](bR)['sub'](bP)['length']();bS*=aH;let bT=0x0,bU=0x0,bV=new c['Vector3'](bP['x']-bS*aG,bP['y']-bS*aG,bP['z']),bW=new c['Vector3'](bQ['x']+bS*aG,bQ['y']+bS*aG,bP['z']);{e['cullFace'](e['FRONT']),b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['BASIC2D']),b['Shader']['SetMatrix'](bO,bN),b['Shader']['SetGLLight'](),b['Shader']['SetClipping'](undefined);if(aI===undefined)b['Shader']['SetGLColor'](0x1,0x1,0x1,0x1);else{let bZ=aI['glColor']();b['Shader']['SetGLColor'](bZ['r'],bZ['g'],bZ['b'],bZ['a']);}let bX=[bV['x'],bV['y'],bV['z']-bT,bW['x'],bV['y'],bV['z']-bT,bV['x'],bW['y'],bV['z']-bT,bW['x'],bW['y'],bV['z']-bT],bY=e['createBuffer']();e['bindBuffer'](e['ARRAY_BUFFER'],bY),e['bufferData'](e['ARRAY_BUFFER'],new Float32Array(bX),e['STATIC_DRAW']),e['bindBuffer'](e['ARRAY_BUFFER'],bY),e['vertexAttribPointer'](b['Shader']['positionAttributeLocation'],0x3,e['FLOAT'],![],0x0,0x0),e['drawArrays'](e['TRIANGLE_STRIP'],0x0,0x4),e['deleteBuffer'](bY),b['Shader']['EndShader'](),e['cullFace'](e['FRONT_AND_BACK']);}{let c0=aJ;if(!aK){let ca=new c['Matrix4']()['copy'](b['Camera']['projectionMatrix']),cb=b['Camera']['world2ScreenWithMatrix'](ca,new c['Vector3']()['copy'](bR)),cc=b['Camera']['screen2WorldWithMatrix'](ca,new c['Vector3']()['copy'](cb)),cd=b['Camera']['screen2WorldWithMatrix'](ca,new c['Vector3'](cb['x']+aL,cb['y'],cb['z'])),ce=new c['Vector3']()['copy'](cd)['sub'](cc)['length'](),cf=Math['floor'](ce)-Math['floor'](ce)%aJ;c0=Math['max'](c0,cf);}b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['BASIC2D']),b['Shader']['SetMatrix'](bO,bN),b['Shader']['SetClipping'](undefined);if(aI===undefined)b['Shader']['SetGLColor'](0x1,0x1,0x1,0x1);else{let cg=aM['glColor']();b['Shader']['SetGLColor'](cg['r'],cg['g'],cg['b'],cg['a']);}let c1=e['createBuffer']();e['bindBuffer'](e['ARRAY_BUFFER'],c1),e['vertexAttribPointer'](b['Shader']['positionAttributeLocation'],0x3,e['FLOAT'],![],0x0,0x0);let c2=0x7530,c3=0x0,c4=[],c5=Math['floor'](Math['floor'](bV['x'])/c0);c5++;let c6=Math['floor'](Math['floor'](bW['x'])/c0),c7=c6-c5;for(let ch=c5;ch<=c6;ch++){c4[c3+0x0]=ch*c0,c4[c3+0x1]=bV['y'],c4[c3+0x2]=bV['z']-bU,c3+=0x3,c4[c3+0x0]=ch*c0,c4[c3+0x1]=bW['y'],c4[c3+0x2]=bW['z']-bU,c3+=0x3;{aO[0x0][bL+0x0]=new c['Vector3'](c4[c3-0x6],c4[c3-0x5],c4[c3-0x4]),aO[0x0][bL+0x1]=new c['Vector3'](c4[c3-0x3],c4[c3-0x2],c4[c3-0x1]);}bL+=0x2,c3+0x6>c2&&(e['bindBuffer'](e['ARRAY_BUFFER'],c1),e['bufferData'](e['ARRAY_BUFFER'],new Float32Array(c4),e['STATIC_DRAW']),e['drawArrays'](e['LINES'],0x0,c3/0x3),c3=0x0);}c3>0x0&&(e['bindBuffer'](e['ARRAY_BUFFER'],c1),e['bufferData'](e['ARRAY_BUFFER'],new Float32Array(c4),e['STATIC_DRAW']),e['drawArrays'](e['LINES'],0x0,c3/0x3));c3=0x0,c4=[];let c8=Math['floor'](Math['floor'](bV['y'])/c0);c8++;let c9=Math['floor'](Math['floor'](bW['y'])/c0);for(let ci=c8;ci<=c9;ci++){c4[c3+0x0]=bV['x'],c4[c3+0x1]=ci*c0,c4[c3+0x2]=bV['z']-bU,c3+=0x3,c4[c3+0x0]=bW['x'],c4[c3+0x1]=ci*c0,c4[c3+0x2]=bW['z']-bU,c3+=0x3;{aO[0x1][bM+0x0]=new c['Vector3'](c4[c3-0x6],c4[c3-0x5],c4[c3-0x4]),aO[0x1][bM+0x1]=new c['Vector3'](c4[c3-0x3],c4[c3-0x2],c4[c3-0x1]);}bM+=0x2,c3+0x6>c2&&(e['bindBuffer'](e['ARRAY_BUFFER'],c1),e['bufferData'](e['ARRAY_BUFFER'],new Float32Array(c4),e['STATIC_DRAW']),e['drawArrays'](e['LINES'],0x0,c3/0x3),c3=0x0);}c3>0x0&&(e['bindBuffer'](e['ARRAY_BUFFER'],c1),e['bufferData'](e['ARRAY_BUFFER'],new Float32Array(c4),e['STATIC_DRAW']),e['drawArrays'](e['LINES'],0x0,c3/0x3)),e['deleteBuffer'](c1),b['Shader']['EndShader']();}}function bG(){if(!aF||!aN)return;let bL=new c['Matrix4']()['copy'](b['Camera']['matMVP']),bM=0xa,bN=0x2;f['font']=bM+'pt\x20Arial',f['fillStyle']='rgba(0,\x200,\x200,\x201.0)';for(let bO=0x0;bO<0x2;bO++){for(let bP=0x0;bP<aO[bO]['length'];bP+=0x2){let bQ,bR,bS,bT;bQ=new c['Vector3']()['copy'](aO[bO][bP+0x0]),bR=new c['Vector3']()['copy'](aO[bO][bP+0x1]);if(ba(bR,aP))continue;bS=d['Util']['GetScreenPositionByMatrix'](bL,bQ),bT=d['Util']['GetScreenPositionByMatrix'](bL,bR);let bU=new c['Vector2']()['subVectors'](bT,bS);bU['normalize']();let bV='';if(bO===0x0)bV+=aO[bO][bP+0x0]['x'];else{if(bO===0x1)bV+=aO[bO][bP+0x0]['y'];}const bW=b['Renderer']['Util']['GetTextMetricsByText'](f,bV,bM);let bX=bW['width']+bN*0x2,bY=bW['height']+bN*0x2,bZ=new c['Vector2']()['addVectors'](bT,new c['Vector2']()['copy'](bU)['multiplyScalar'](bX));f['fillText'](bV,bZ['x'],bZ['y']+(bW['ascent']*0x0+bW['ascent']+bN*0x0));}}}function bH(){e['disable'](e['DEPTH_TEST']),e['enable'](e['BLEND']),e['blendFunc'](e['SRC_ALPHA'],e['ONE_MINUS_SRC_ALPHA']);if(!b['Clipping']['IsClipping']())return;let bL=b['Clipping']['Get']();if(!bL['visible'])return;const bM=new c['Matrix4']()['copy'](b['Camera']['matMVP']);b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['BASIC2D']),b['Shader']['SetMatrix'](bM,undefined);for(let bN=0x0;bN<bL['planes']['length'];bN++){let bO=bL['planes'][bN]['style']['color']['glColor']();b['Shader']['SetGLColor'](bO['r'],bO['g'],bO['b'],bO['a']);if(bL['planes'][bN]['vertex']['length']<0x3)continue;let bP=[bL['planes'][bN]['vertex'][0x0]['x'],bL['planes'][bN]['vertex'][0x0]['y'],bL['planes'][bN]['vertex'][0x0]['z'],bL['planes'][bN]['vertex'][0x1]['x'],bL['planes'][bN]['vertex'][0x1]['y'],bL['planes'][bN]['vertex'][0x1]['z'],bL['planes'][bN]['vertex'][0x2]['x'],bL['planes'][bN]['vertex'][0x2]['y'],bL['planes'][bN]['vertex'][0x2]['z'],bL['planes'][bN]['vertex'][0x3]['x'],bL['planes'][bN]['vertex'][0x3]['y'],bL['planes'][bN]['vertex'][0x3]['z']],bQ=undefined;bL['planes'][bN]['visible']['plane']&&(bQ=e['createBuffer'](),e['bindBuffer'](e['ARRAY_BUFFER'],bQ),e['bufferData'](e['ARRAY_BUFFER'],new Float32Array(bP),e['STATIC_DRAW']),e['vertexAttribPointer'](b['Shader']['positionAttributeLocation'],0x3,e['FLOAT'],![],0x0,0x0),e['drawArrays'](e['TRIANGLE_STRIP'],0x0,0x4));if(bL['planes'][bN]['style']['lineTickness']>0x0&&bL['planes'][bN]['visible']['line']){if(bL['planes'][bN]['style']['lineTickness']<0x1){let bR=e['createBuffer'](),bS=[0x0,0x1,0x3,0x2];bO=bL['planes'][bN]['style']['lineColor']['glColor'](),b['Shader']['SetGLColor'](bO['r'],bO['g'],bO['b'],bO['a']),e['bindBuffer'](e['ELEMENT_ARRAY_BUFFER'],bR),e['bufferData'](e['ELEMENT_ARRAY_BUFFER'],new Uint16Array(bS),e['STATIC_DRAW']),e['drawElements'](e['LINE_LOOP'],bS['length'],e['UNSIGNED_SHORT'],0x0),e['deleteBuffer'](bR);}else{let bT=[0x0,0x1,0x3,0x2,0x0],bU=[];for(let bX=0x0;bX<bT['length'];bX++){let bY=b['Camera']['world2ScreenWithMatrix'](bM,bL['planes'][bN]['vertex'][bT[bX]]);bU[bX]=bY;}let bV=[];for(let bZ=0x0;bZ<bT['length']-0x1;bZ++){let c0=b['MeshProcess']['GetLine'](bU[bZ],bU[bZ+0x1],bL['planes'][bN]['style']['lineTickness']);for(let c1=0x0;c1<c0['vertices']['length'];c1++){let c2=b['Camera']['screen2WorldWithMatrix'](bM,c0['vertices'][c1]);bV['push'](c2['x']),bV['push'](c2['y']),bV['push'](c2['z']);}}bO=bL['planes'][bN]['style']['lineColor']['glColor'](),b['Shader']['SetGLColor'](bO['r'],bO['g'],bO['b'],bO['a']);let bW=b['gl']['createBuffer']();b['gl']['bindBuffer'](b['gl']['ARRAY_BUFFER'],bW),b['gl']['bufferData'](b['gl']['ARRAY_BUFFER'],new Float32Array(bV),b['gl']['STATIC_DRAW']),b['gl']['vertexAttribPointer'](b['Shader']['positionAttributeLocation'],0x3,b['gl']['FLOAT'],![],0x0,0x0),b['gl']['drawArrays'](b['gl']['TRIANGLES'],0x0,bV['length']/0x3),e['deleteBuffer'](bW);}}if(bQ!==undefined)e['deleteBuffer'](bQ);}b['Shader']['EndShader']();}function bI(){e['enable'](e['DEPTH_TEST']),e['enable'](e['BLEND']),b['Handle']['Render']();}function bJ(){if(!b['Configuration']['Render']['CoordinateAxis']['Visible']||!b['MultiView'][b['CameraIndex']]['ViewEntityInfo']['ShowCoordinateAxis'])return;const bL=new c['Matrix4']()['copy'](b['Camera']['cameraMatrix']);bL['setPosition'](new c['Vector3']());let bM=new c['Vector2'](0.05,0.05);bM['x']=b['Camera']['clientWidth']*bM['x'],bM['y']=b['Camera']['clientHeight']-b['Camera']['clientWidth']*bM['y'];b['Configuration']['Render']['CoordinateAxis']['Position']!==undefined&&(bM=new c['Vector2'](b['Configuration']['Render']['CoordinateAxis']['Position']['Horizontal'],b['Configuration']['Render']['CoordinateAxis']['Position']['Vertical']),bM['x']=b['Camera']['clientWidth']*bM['x'],bM['y']=b['Camera']['clientHeight']*bM['y']);const bN=b['Camera']['clientWidth']*(b['Configuration']['Render']['CoordinateAxis']['Length']===undefined?0.035:b['Configuration']['Render']['CoordinateAxis']['Length']);let bO=new c['Vector3'](bM['x'],bM['y'],0x0),bP=new c['Vector3'](0x1,0x0,0x0);bP=bP['applyMatrix4'](bL),bP['y']*=-0x1;let bQ=new c['Vector3'](0x0,0x1,0x0);bQ=bQ['applyMatrix4'](bL),bQ['y']*=-0x1;let bR=new c['Vector3'](0x0,0x0,0x1);bR=bR['applyMatrix4'](bL),bR['y']*=-0x1;let bS,bT,bU;bS=new c['Vector3']()['copy'](bO);let bV=bN,bW=bN/0x8,bX=bN*1.2,bY=bN/0x10;b['Shader']['BeginShader'](c['Enum']['SHADER_TYPES']['PHONGUTIL']),b['gl']['enable'](b['gl']['DEPTH_TEST']),b['Shader']['SetGLDefaultLight'](),b['Shader']['SetClipping'](undefined),b['Shader']['SetMatrix'](b['Camera']['screenProjectionMatrix'],new c['Matrix4']());{let c1=new c['Color'](0xff,0x0,0x0,0xff),c2=new c['Vector3']()['addVectors'](bS,new c['Vector3']()['copy'](bP)['multiplyScalar'](bV)),c3=new c['Vector3']()['addVectors'](bS,new c['Vector3']()['copy'](bP)['multiplyScalar'](bX)),c4=c1['glColor']();b['Shader']['SetGLColor'](c4['r'],c4['g'],c4['b'],c4['a']),d['Util']['DrawCylinder3D'](bS,c2,bY),d['Util']['DrawCone3D'](c2,c3,bW);let c5=new c['Vector3']()['addVectors'](bS,new c['Vector3']()['copy'](bP)['multiplyScalar'](bX+0xa));if(b['useNorthDisplay']===![])b['Renderer']['Util']['DrawText2D'](f,'X',c5,c1);}{let c6=new c['Color'](0x0,0xff,0x0,0xff),c7=new c['Vector3']()['addVectors'](bS,new c['Vector3']()['copy'](bQ)['multiplyScalar'](bV)),c8=new c['Vector3']()['addVectors'](bS,new c['Vector3']()['copy'](bQ)['multiplyScalar'](bX)),c9=c6['glColor']();b['Shader']['SetGLColor'](c9['r'],c9['g'],c9['b'],c9['a']),d['Util']['DrawCylinder3D'](bS,c7,bY),d['Util']['DrawCone3D'](c7,c8,bW);let ca=new c['Vector3']()['addVectors'](bS,new c['Vector3']()['copy'](bQ)['multiplyScalar'](bX+0xa));if(b['useNorthDisplay']===![])b['Renderer']['Util']['DrawText2D'](f,'Y',ca,c6);else b['Renderer']['Util']['DrawText2D'](f,'N',ca,c6);}{let cb=new c['Color'](0x64,0x64,0xff,0xff),cc=new c['Vector3']()['addVectors'](bS,new c['Vector3']()['copy'](bR)['multiplyScalar'](bV)),cd=new c['Vector3']()['addVectors'](bS,new c['Vector3']()['copy'](bR)['multiplyScalar'](bX)),ce=cb['glColor']();b['Shader']['SetGLColor'](ce['r'],ce['g'],ce['b'],ce['a']),d['Util']['DrawCylinder3D'](bS,cc,bY),d['Util']['DrawCone3D'](cc,cd,bW);let cf=new c['Vector3']()['addVectors'](bS,new c['Vector3']()['copy'](bR)['multiplyScalar'](bX+0x8));if(b['useNorthDisplay']===![])d['Util']['DrawText2D'](f,'Z',cf,cb);}let bZ=new c['Color'](0x7f,0x7f,0x7f,0xff),c0=bZ['glColor']();b['Shader']['SetGLColor'](c0['r'],c0['g'],c0['b'],c0['a']),d['Util']['DrawSphere3D'](bS,bY*2.5),b['Shader']['EndShader']();};this['SetData']=function(){let bL=b['Data']['ObjectsUpdateLength'],bM=b['Data']['Objects']['length'];for(let bO=bL;bO<bM;++bO){b['Renderer']['SetDataByObject'](b['Data']['Objects'][bO]);}b['Renderer']['Render'](),b['Data']['ObjectsUpdateLength']=b['Data']['Objects']['length'];let bN=bM-bL;if(bN>0x0)for(let bP=0x0;bP<b['MultiView']['length'];bP++){if(!b['MultiView'][bP]['Visible']())continue;for(let bQ=bL;bQ<bM;++bQ){b['MultiView'][bP]['ObjectRenderEnable'][bQ]=!![];}}},this['SetDataByObject']=function(bL){let bM=bL['tag'][0x0],bN=bM['color'],bO=![];bL['attribs']['a_index']['buffer']===null&&bL['attribs']['a_index']['array']['length']>0x0&&(bL['attribs']['a_index']['buffer']=e['createBuffer'](),e['bindBuffer'](e['ELEMENT_ARRAY_BUFFER'],bL['attribs']['a_index']['buffer']),e['bufferData'](e['ELEMENT_ARRAY_BUFFER'],new Uint16Array(bL['attribs']['a_index']['array']),e['STATIC_DRAW']),bO=!![]);bL['attribs']['a_position']['buffer']===null&&bL['attribs']['a_position']['array']['length']>0x0&&(bL['attribs']['a_position']['buffer']=e['createBuffer'](),e['bindBuffer'](e['ARRAY_BUFFER'],bL['attribs']['a_position']['buffer']),e['bufferData'](e['ARRAY_BUFFER'],new Float32Array(bL['attribs']['a_position']['array']),e['STATIC_DRAW']),bO=!![]);bL['attribs']['a_normal']['buffer']===null&&bL['attribs']['a_normal']['array']['length']>0x0&&(bL['attribs']['a_normal']['buffer']=e['createBuffer'](),e['bindBuffer'](e['ARRAY_BUFFER'],bL['attribs']['a_normal']['buffer']),e['bufferData'](e['ARRAY_BUFFER'],new Float32Array(bL['attribs']['a_normal']['array']),e['STATIC_DRAW']),bO=!![]);if(b['UV_DEBUG'])bL['attribs']['a_uv']['buffer']===null&&bL['attribs']['a_uv']['array']['length']>0x0&&(bL['attribs']['a_uv']['buffer']=e['createBuffer'](),e['bindBuffer'](e['ARRAY_BUFFER'],bL['attribs']['a_uv']['buffer']),e['bufferData'](e['ARRAY_BUFFER'],new Float32Array(bL['attribs']['a_uv']['array']),e['STATIC_DRAW']),bO=!![]);bL['attribs']['a_color']['buffer']===null&&bL['attribs']['a_color']['array']['length']>0x0&&(bL['attribs']['a_color']['buffer']=e['createBuffer'](),e['bindBuffer'](e['ARRAY_BUFFER'],bL['attribs']['a_color']['buffer']),e['bufferData'](e['ARRAY_BUFFER'],new Uint8Array(bL['attribs']['a_color']['array']),e['STATIC_DRAW']),bO=!![]);if(b0){bL['attribs']['a_tInd']['buffer']===null&&bL['attribs']['a_tInd']['array']['length']>0x0&&(bL['attribs']['a_tInd']['buffer']=e['createBuffer'](),e['bindBuffer'](e['ARRAY_BUFFER'],bL['attribs']['a_tInd']['buffer']),e['bufferData'](e['ARRAY_BUFFER'],new Uint32Array(bL['attribs']['a_tInd']['array']),e['STATIC_DRAW']),bO=!![]);let bP=b['ColorMap']['GetColorMapTexture']();bP!=undefined&&(b['ColorMap']['SetCurrentColorMapInfo'](bL['id_file']),b['ColorMap']['SetColorMapArray_Obj'](bL));}if(bL['attribs']['a_matrixIndex']!==undefined){if(bL['attribs']['a_matrixIndex']['buffer']===null&&bL['attribs']['a_position']['array']['length']>0x0&&(bL['attribs']['a_matrixIndex']['array']['length']>0x0||b['DemoType']===0x2)){bL['attribs']['a_matrixIndex']['buffer']=e['createBuffer'](),e['bindBuffer'](e['ARRAY_BUFFER'],bL['attribs']['a_matrixIndex']['buffer']);if(b['DemoType']===0x2){bL['attribs']['a_matrixIndex']['array']=new Uint16Array(bL['attribs']['a_position']['array']['length']);let bQ=new c['Matrix4']();for(let bR=0x0;bR<bL['tag']['length'];bR++){let bS=b['Data']['ShapeAction']['GetAction'](bL['id_file'],bL['tag'][bR]['origin_id']);bS===undefined&&(bS=b['Data']['ActionItem']());let bT=-0x1;b['Shader']['HasObjectMatrix'](bL['tag'][bR]['bodyId'])&&(bT=b['Shader']['GetObjectMatrixIndex'](bL['tag'][bR]['bodyId']));if(bT<0x0){bT=b['Shader']['AddUpdateMatrixDataByIndex'](bL['uuid']),b['Shader']['SetObjectMatrixIndex'](bL['tag'][bR]['bodyId'],bT);if(bS['instance']['equals'](bQ)===![])b['Shader']['ChangeUpdateMatrixData'](bL['uuid'],bT,bS['instance']);}bT===0x0&&b['Shader']['ChangeUpdateMatrixData'](bL['uuid'],bT,bQ);let bU=bL['tag'][bR]['m_triIdx']+bL['tag'][bR]['m_nTris'];for(let bV=bL['tag'][bR]['m_triIdx'];bV<bU;bV++){let bW=bL['attribs']['a_index']['array'][bV];bL['attribs']['a_matrixIndex']['array'][bW*0x3+0x0]=bT;}bS['transformIdx']=bT,b['Data']['ShapeAction']['SetAction'](bL['id_file'],bL['tag'][bR]['origin_id'],bS);}}e['bufferData'](e['ARRAY_BUFFER'],new Uint16Array(bL['attribs']['a_matrixIndex']['array']),e['STATIC_DRAW']),bO=!![];}}bO&&(bL['flag']['updateProcess']=!![]);},this['ReleaseDataByCache']=function(bL){if(bL['flag']['cache'])return;b['RenderWGL']['ReleaseDataByObject'](bL);return;bL['attribs']['a_index']['buffer']!==null&&(e['deleteBuffer'](bL['attribs']['a_index']['buffer']),bL['attribs']['a_index']['buffer']=null,bL['attribs']['a_index']['array']=[]);bL['attribs']['a_position']['buffer']!==null&&(e['deleteBuffer'](bL['attribs']['a_position']['buffer']),bL['attribs']['a_position']['buffer']=null,bL['attribs']['a_position']['array']=[]);bL['attribs']['a_normal']['buffer']!==null&&(e['deleteBuffer'](bL['attribs']['a_normal']['buffer']),bL['attribs']['a_normal']['buffer']=null,bL['attribs']['a_normal']['array']=[]);if(b['UV_DEBUG'])bL['attribs']['a_uv']['buffer']!==null&&(e['deleteBuffer'](bL['attribs']['a_uv']['buffe']),bL['attribs']['a_uv']['buffer']=null,bL['attribs']['a_uv']['array']=[]);bL['attribs']['a_color']['buffer']!==null&&(e['deleteBuffer'](bL['attribs']['a_color']['buffer']),bL['attribs']['a_color']['buffer']=null,bL['attribs']['a_color']['array']=[]),bL['attribs']['a_matrixIndex']!==undefined&&(bL['attribs']['a_matrixIndex']['buffer']===null&&(e['deleteBuffer'](bL['attribs']['a_matrixIndex']['buffer']),bL['attribs']['a_matrixIndex']['buffer']=null,bL['attribs']['a_matrixIndex']['array']=[])),bL['attribs']['sub']['a_wireframe']['buffer']!==null&&(e['deleteBuffer'](bL['attribs']['sub']['a_wireframe']['buffer']),bL['attribs']['sub']['a_wireframe']['buffer']=null);},this['Render']=function(){d['RenderEvent']=!![];},this['Renderer']=function(){d['RenderEvent']&&(b9(),d['RenderEvent']=![]);},this['InitRenderProcess']=function(){b5();},this['RemoveGLBuffer']=function(bL){d['RenderEvent']=![];let bM=b['Data']['ObjectsUpdateLength'];for(let bN=0x0;bN<bM;bN++){let bO=b['Data']['Objects'][bN],bP=b['RenderWGL']['GetPipeline'](bO['uuid']);bP!==undefined&&bP['query']!==undefined&&e['deleteQuery'](bP['query']);if(!bO['flag']['cache'])continue;b['RenderWGL']['RemoveGLBuffer'](bO);if(!bL||bO['attribs']['a_index']['array']['length']<=0x0)continue;d['SetDataByObject'](bO);}},this['PickingCallback']=function(bL,bM,bN,bO,bP){if(b['useFramebuffer']){if(bO!==undefined){let bQ=bu(bL,bM);if(bQ!==undefined)return bO(bN,bQ),!![];}if(bP!==undefined){let bR=bw(bL,bM);if(bR!==undefined)return bP(bN,bR[0x0],bR[0x1]),!![];}}else{if(bO!==undefined){let bS=renderPickObject(bL,bM);if(bS!==undefined)return bO(bN,bS),!![];}}return![];},this['ObjectIDCallback']=function(bL,bM,bN,bO,bP){if(b['useFramebuffer']){if(bO!==undefined){let bQ=bu(bL,bM,c['Enum']['FB_RENDER_TYPES']['COLOROBJECT']);if(bQ!==undefined)return bO(bN,bQ),!![];}}else{if(bO!==undefined){let bR=renderPickObject(bL,bM);if(bR!==undefined)return bO(bN,bR),!![];}}return![];},this['Picking']=function(bL,bM){if(b['useFramebuffer'])return bu(bL,bM);else return renderPickObject(bL,bM);},this['PickingByCustomObject']=function(bL,bM){if(b['useFramebuffer'])return bw(bL,bM);else return undefined;},this['PickingPreselectData']=function(bL,bM){return bx(bL,bM);},this['PickPositionObject']=function(bL,bM){return by(bL,bM);},this['Resize']=function(){b3(e['canvas']),b3(f['canvas']),b['gl']['viewport'](0x0,0x0,b['Camera']['clientWidth'],b['Camera']['clientHeight']);},this['GetSizeWidth']=function(){return b['Camera']['clientWidth'];},this['GetSizeHeight']=function(){return b['Camera']['clientHeight'];},this['MainFBClear']=function(bL){if(bL===undefined||bL===!![])b['MeshBlock']['Crash']();d['mainFramebufferClear']=!![];for(let bM=0x0;bM<b['MultiView']['length'];bM++){if(!b['MultiView'][bM]['Visible']())continue;if(!b['MultiView'][bM]['ViewEntityInfo']['isFramebufferClear'])continue;b['MultiView'][bM]['BeginUpdateFramebuffer']();}},this['GetDrawInfo']=function(){return g;},this['SetXrayMode']=function(bL){bL?d['SetRenderMode'](c['Enum']['RENDER_MODES']['Xray']):d['SetRenderMode'](c['Enum']['RENDER_MODES']['Smooth']);},this['GetXrayMode']=function(){return l;},this['SetSelectionXrayMode']=function(bL){d['SetSelectionXrayMode'](bL);},this['GetFlatMode']=function(){return F;},this['GetXrayModeColor']=function(){return m;},this['GetPlasticMode']=function(){return n;},this['GetPlasticModeColor']=function(){return o;},this['SetPlasticModeColor']=function(bL){o['copy'](bL);},this['SetRenderMode']=function(bL){E=bL,b['Tree']['SetEnableEffectModeObject'](undefined,!![]);let bM=F,bN=X;switch(bL){case c['Enum']['RENDER_MODES']['Smooth']:{F=![],l=![],G=![],H=![],n=![],X=![],Y=![];}break;case c['Enum']['RENDER_MODES']['Flat']:{F=!![],l=![],G=![],H=![],n=![],X=![],Y=![];}break;case c['Enum']['RENDER_MODES']['Xray']:{F=![],l=!![],G=![],H=![],n=![],X=![],Y=![];}break;case c['Enum']['RENDER_MODES']['WireFrame']:{F=![],l=![],G=![],H=![],n=![],X=![],Y=!![],b['Data']['UpdateObjectsFlagProcess']();}break;case c['Enum']['RENDER_MODES']['HiddenLine']:{F=![],l=![],G=!![],H=![],n=![],X=![],Y=![];}break;case c['Enum']['RENDER_MODES']['HiddenLineDashed']:{F=![],l=![],G=!![],H=!![],n=![],X=![],Y=![];}break;case c['Enum']['RENDER_MODES']['Plastic']:{F=![],l=![],G=![],H=![],n=!![],X=![],Y=![];}break;case c['Enum']['RENDER_MODES']['GrayScale']:{F=![],l=![],G=![],H=![],n=![],X=!![],Y=![];}break;default:{F=![],l=![],G=![],H=![],n=![],X=![],Y=![];}break;}(bM!==F||bN!==X)&&b['Shader']['UpdateShader'](),b['MeshBlock']['Reset'](),b['Renderer']['Render']();},this['SetPhongShading']=function(bL){if(b1===bL)return;b1=bL,b['Shader']['UpdateShader'](),b['MeshBlock']['Reset'](),b['Renderer']['Render']();},this['GetRenderMode']=function(){return E;},this['SetSelectionXrayMode']=function(bL){if(bL===undefined)return;b['Tree']['SetEnableEffectModeObject'](undefined,![]),b['Tree']['SetEnableEffectModeObject'](bL,!![]);},this['SetHiddenLineMode']=function(bL){bL?d['SetRenderMode'](c['Enum']['RENDER_MODES']['HiddenLine']):d['SetRenderMode'](c['Enum']['RENDER_MODES']['Smooth']);},this['SetCustomObjectInHiddenLineMode']=function(bL){J=bL;},this['SetGraySacleMode']=function(bL){bL?d['SetRenderMode'](c['Enum']['RENDER_MODES']['GrayScale']):d['SetRenderMode'](c['Enum']['RENDER_MODES']['Smooth']);},this['GetGraySacleMode']=function(){return X;},this['SetWireframeMode']=function(bL){bL?d['SetRenderMode'](c['Enum']['RENDER_MODES']['WireFrame']):d['SetRenderMode'](c['Enum']['RENDER_MODES']['Smooth']);},this['GetWireframeMode']=function(){return Y;},this['SetEnvironmentMode']=function(bL,bM){if(a0===bL)return;a0=bL,b['Shader']['UpdateShader'](),(bM===undefined||bM)&&(b['MeshBlock']['Reset'](),b['Renderer']['Render']());},this['GetEnvironmentMode']=function(){return a0;},this['UseSkyTexture']=function(){if(a0)return!![];if(Z)return!![];return![];},this['SetViewUnderControlMode']=function(bL){aE=bL;},this['GetViewUnderControlMode']=function(bL){return aE;},this['SetHDR']=function(bL){if(b['Shader']['UseHDR']===bL)return;b['Shader']['UseHDR']=bL,b['Shader']['UpdateShader'](),b['MeshBlock']['Reset'](),b['Renderer']['Render']();},this['GetHDR']=function(){return b['Shader']['UseHDR'];},this['SetShadowMode']=function(bL){if(P===bL)return;P=bL,b['Shader']['UpdateShader'](),b['MeshBlock']['Reset'](),b['Renderer']['Render']();},this['GetShadowMode']=function(){return P;},this['SetCCShadowMode']=function(bL){if(S===bL)return;S=bL,b['Shader']['UpdateShader'](),b['MeshBlock']['Reset'](),b['Renderer']['Render']();},this['GetCCShadowMode']=function(){return S;},this['GetLogDepthMode']=function(){return aY;},this['SetLogDepthMode']=function(bL){if(aY===bL)return;aY=bL;},this['SetShadowRatio']=function(bL){Q=bL;},this['GetShadowRatio']=function(){return Q;},this['SetSSAOEffect']=function(bL,bM){bM!==undefined&&(M=bM);if(L===bL)return;L=bL;if(L&&bM===undefined){}b['Renderer']['Render']();},this['SetSSSEffect']=function(bL){if(K===bL)return;K=bL,b['Renderer']['Render']();},this['GetSSAOEffect']=function(){return L;},this['SetUseEdgeEffect']=function(bL){p=bL,b['Renderer']['Render']();},this['GetUseEdgeEffect']=function(){return p;},this['SetUseCustomEdgeEffect']=function(bL){q=bL,b['Renderer']['Render']();},this['GetUseCustomEdgeEffect']=function(){return q;},this['SetGroupEdgeEffect']=function(bL){if(r!==bL){let bM=b['Group']['GroupList']();if(bM!==undefined){for(let bN=0x0;bN<bM['length'];bN++){let bO=b['Group']['Get'](bM[bN]);for(let bP=0x0;bP<bO['length'];bP++){let bQ=b['Data']['ModelFileManager']['GetFileKeyByNodeID'](bO[bP]),bR=b['Data']['GetOriginNodeID'](bQ,bO[bP]),bS=b['Data']['ShapeAction']['GetAction'](bQ,bR);bL?bS['groupIdx']=bN:bS['groupIdx']=-0x1;}}b['Data']['UpdateObjectsFlagProcess']();}}r=bL;},this['SetUseSelectModelEdgeEffect']=function(bL){V=bL,b['Renderer']['Render']();},this['SetUseModelObjectCustomEdgeEffect']=function(bL){x=bL,b['Renderer']['Render']();},this['GetUseModelObjectCustomEdgeEffect']=function(){return x;},this['SetModelObjectCustomEdgeColor']=function(bL){y['copy'](bL);},this['SetModelObjectCustomEdgeThickness']=function(bL){z=bL;},this['SetAvatarEdgeEffect']=function(bL,bM){A=bL;if(bL&&bM!==undefined)B=bM;b['Renderer']['Render']();},this['GetAvatarEdgeEffect']=function(){return A;},this['GetAvatarEdgeTypeEffect']=function(){return B;},this['SetGroundPlane']=function(bL){if(aF===bL)return;aF=bL,b['MeshBlock']['Reset'](),b['Renderer']['Render']();},this['GetGroundPlane']=function(){return aF;},this['SetEnableSkyBox']=function(bL){Z=bL,b['Shader']['UpdateShader'](),b['ViewRefresh']();},this['SetEnableFog']=function(bL){a1=bL,b['Shader']['UpdateShader'](),b['ViewRefresh']();},this['GetEnableFog']=function(){return a1;},this['SetFogNearFar']=function(bL,bM){bL!==undefined&&(a3=bL);bM!==undefined&&(a4=bM);if(a3>a4)a3=a4;if(a4<a4)a4=a3;},this['GetFogNearFar']=function(){return[a3,a4];},this['SetFogCenter']=function(bL){a2=bL;},this['GetFogCenter']=function(){return a2;},this['SetFogColor']=function(bL){a5=bL;},this['GetFogColor']=function(){return a5;},this['SetRepeatRender']=function(bL){a7=bL;},this['GetRepeatRender']=function(bL){a7=bL;},this['SetEnableWeatherRain']=function(bL){if(bL)aa=!![],ah=![];else aa&&(aa=![],ah=![]);},this['GetEnableWeatherRain']=function(){return aa;},this['SetWeatherRainDrawCount']=function(bL){ab=bL;},this['GetWeatherRainDrawCount']=function(){return ab;},this['SetWeatherRainDrawArea']=function(bL){ac=bL;},this['GetWeatherRainOpion']=function(){return{'angle':ad,'length':ae,'speed':af,'color':new c['Color']()['copy'](ag)};},this['SetWeatherRainOpion']=function(bL){ad=bL['angle'],ae=bL['length'],af=bL['speed'],ag['copy'](bL['color']);},this['SetEnableWeatherSnow']=function(bL){if(bL)aa=![],ah=!![];else ah&&(aa=![],ah=![]);},this['GetEnableWeatherSnow']=function(){return aa;},this['SetWeatherSnowDrawCount']=function(bL){ai=bL;},this['GetWeatherSnowDrawCount']=function(){return ai;},this['SetWeatherSnowDrawArea']=function(bL){aj=bL;},this['GetWeatherSnowOpion']=function(){return{'angle':ak,'size':al,'speed':am,'color':new c['Color']()['copy'](an)};},this['SetWeatherSnowOpion']=function(bL){ak=bL['angle'],al=bL['size'],am=bL['speed'],an['copy'](bL['color']);},this['SetEnableWeatherCloud']=function(bL){bL?ao=!![]:ao=![];},this['GetEnableWeatherCloud']=function(){return ao;},this['SetWeatherCloudDrawCount']=function(bL){ap=bL;},this['GetWeatherCloudDrawCount']=function(){return ap;},this['SetWeatherCloudDrawArea']=function(bL){CloudEffectDrawArea=bL;},this['GetWeatherCloudOpion']=function(){return{'angle':ar,'size':as,'speed':at,'color':new c['Color']()['copy'](au)};},this['SetWeatherCloudOpion']=function(bL){ar=bL['angle'],as=bL['size'],at=bL['speed'],au['copy'](bL['color']);},this['SetEnableWeatherMist']=function(bL){bL?av=!![]:av=![];},this['GetEnableWeatherMist']=function(){return av;},this['SetWeatherMistDrawCount']=function(bL){aw=bL;},this['GetWeatherMistDrawCount']=function(){return aw;},this['SetWeatherMistDrawArea']=function(bL){MistEffectDrawArea=bL;},this['GetWeatherMistOpion']=function(){return{'angle':ay,'size':az,'speed':aA,'color':new c['Color']()['copy'](aB)};},this['SetWeatherMistOpion']=function(bL){ay=bL['angle'],az=bL['size'],aA=bL['speed'],aB['copy'](bL['color']);},this['IsLock']=function(){return k>0x0?!![]:![];},this['Lock']=function(){k++;},this['Unlock']=function(bL){bL===undefined?k--:k=bL;if(k<0x0)k=0x0;},this['ClearProcess']=function(bL){if(bL===undefined){d['occlusionProcessCount']=0x0;let bM=b['Data']['ObjectsUpdateLength'];for(let bN=bM-0x1;bN>=0x0;bN--){let bO=b['Data']['Objects'][bN];if(!bO['flag']['cache'])continue;bO['flag']['cache']=![],b['Renderer']['ReleaseDataByCache'](bO);}}else for(let bP=0x0;bP<bL['length'];bP++){let bQ=b['Data']['ModelFileManager']['GetFileAreaData'](bL[bP]['Key'],bL[bP]['Url']);if(bQ!==undefined)for(let bR=0x0;bR<bQ['length'];bR++){let bS=bQ[bR];if(b['IsUseRenderCache']()){if(bS['flag']['cache']){b['CurrentRenderMeshBlockCacheNum']--;if(b['CurrentRenderMeshBlockCacheNum']<0x0)b['CurrentRenderMeshBlockCacheNum']=0x0;}}bS['flag']['cache']=![],b['Renderer']['ReleaseDataByCache'](bS),b['RenderWGL']['DeletePipeline'](bS['uuid']);}}},this['UpdateCache']=function(){if(!b['IsUseRenderCache']())return;let bL=b['Data']['ObjectsUpdateLength'],bM=b['Configuration']['Render']['Cache']['LimitCount']*0x1,bN=0x0;for(let bO=0x0;bO<bL;bO++){if(b['Data']['Objects'][bO]['flag']['cache']===![])continue;let bP=b['Data']['Objects'][bO]['id_file'],bQ=b['Data']['Objects'][bO]['link'],bR=undefined,bS=b['Data']['ModelFileManager']['GetFileInfo'](bP);if(bS===undefined)continue;if(!bS['IsFileHeader'])bR=!![];else{let bT=b['Data']['ModelFileManager']['GetFileAreaData'](bP,bQ);bT!==undefined&&(bR=bT['cache']);}bR!==undefined&&!bR&&(b['Data']['Objects'][bO]['flag']['cache']=![],b['Renderer']['ReleaseDataByCache'](b['Data']['Objects'][bO]));}},this['SetBackColor']=function(bL,bM,bN){i=bL,j=bM;b['Configuration']['Render']['Background']!==undefined&&(b['Configuration']['Render']['Background']['OneColor']=bL,b['Configuration']['Render']['Background']['TwoColor']=bM);if(bN===undefined||bN===!![])d['Render']();},this['GetBackColor']=function(){let bL={'bg1Color':new c['Color']()['copy'](i),'bg2Color':new c['Color']()['copy'](j)};return bL;},this['SetEdgeEffectColor']=function(bL){s=bL,d['Render']();},this['SetOcclusionCulling']=function(bL){if(b['useWebGL2']===![])return;d['enableOcclusion']=bL,b['Data']['UpdateObjectsFlagProcess'](),b['MeshBlock']['Reset'](),b['Renderer']['Render']();};function bK(bL,bM,bN){b['Shader']['BeginFramebuffer'](bL),b['Shader']['BindTargetTexture']();let bO=b['Shader']['GetItemFramebuffer'](bL),bP=new Uint8Array(bO['width']*bO['height']*0x4);e['readPixels'](0x0,0x0,bO['width'],bO['height'],e['RGBA'],e['UNSIGNED_BYTE'],bP);let bQ=document['createElement']('canvasBuffer');bQ['width']=bM,bQ['height']=bN;let bR=bQ['getContext']('2d'),bS=bR['createImageData'](bM,bN);bS['data']['set'](bP),bR['putImageData'](bS,0x0,0x0);let bT=new Image();return bT['src']=bQ['toDataURL'](),bT;}this['SaveImageFromBuffer']=function(bL){let bM=new c['Color'](0xff,0xff,0xff,0xff);b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['CUSTOM']),e['clearColor'](0x0,0x0,0x0,0x1),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']),bA(c['Enum']['SHADER_TYPES']['FXAA'],bL,bM,0x0,!![]),b['Shader']['BindTargetTexture']();let bN=b['Shader']['GetItemFramebuffer'](c['Enum']['FB_RENDER_TYPES']['CUSTOM']),bO=new Uint8Array(bN['width']*bN['height']*0x4);e['readPixels'](0x0,0x0,bN['width'],bN['height'],e['RGBA'],e['UNSIGNED_BYTE'],bO),b['Shader']['EndFramebuffer'](),b['Util']['SaveImageData'](bO,bN['width'],bN['height']);},this['GetImageDataFromBuffer']=function(bL){let bM=new c['Color'](0xff,0xff,0xff,0xff);e['enable'](e['BLEND']),e['blendFunc'](e['SRC_ALPHA'],e['ONE_MINUS_SRC_ALPHA']),b['Shader']['BeginFramebuffer'](c['Enum']['FB_RENDER_TYPES']['CUSTOM']),e['clearColor'](0x1,0x1,0x1,0x1),e['clear'](e['COLOR_BUFFER_BIT']|e['DEPTH_BUFFER_BIT']),bA(c['Enum']['SHADER_TYPES']['TEXTURE2D'],bL,bM,0x0,!![]),b['Shader']['BindTargetTexture']();let bN=b['Shader']['GetItemFramebuffer'](c['Enum']['FB_RENDER_TYPES']['CUSTOM']),bO=new Uint8Array(bN['width']*bN['height']*0x4);return e['readPixels'](0x0,0x0,bN['width'],bN['height'],e['RGBA'],e['UNSIGNED_BYTE'],bO),b['Shader']['EndFramebuffer'](),e['blendFunc'](e['SRC_ALPHA'],e['ONE_MINUS_SRC_ALPHA']),e['disable'](e['BLEND']),{'data':bO,'width':bN['width'],'height':bN['height']};},this['UseViewDistanceEffect']=function(bL,bM){aC=bL,aD=bM;},this['SetRenderOrbit']=function(bL){aS=bL;},this['GetRenderOrbit']=function(){return aQ;},this['SetVisibleOrbitControl']=function(bL){aQ=bL;},this['SetOrbitControlOver']=function(bL){aR=bL;},this['GetOrbitControlOver']=function(){return aR;},this['SetOrbitOutColor']=function(bL){aU=bL,d['Render']();},this['SetOrbitInColor']=function(bL){aV=bL,d['Render']();},this['SetOrbitThickness']=function(bL){aW=bL,d['Render']();},this['SetEnableOrbitDot']=function(bL){aX=bL,d['Render']();},this['SetOrbitMousePos']=function(bL){aT=bL;},this['GetOrbitMousePos']=function(){return aT;},this['GetEnableColorMap']=function(){return b0;},this['SetEnableColorMap']=function(bL){b0=bL,d['Render']();};};export default Renderer;