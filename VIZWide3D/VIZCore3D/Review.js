class Review{constructor(a,b){let c=this;this['EnableViewReviewMove']=!![],this['GetSnapshotList']=[],this['EnableClippingNoteReview']=![];function d(){let R={'rect':new b['Rect'](),'position':[],'text':[]};return R;}this['Init']=function(){},this['Clear']=function(){},this['GetReviewItemTag']=function(R){if(R===b['Enum']['REVIEW_TYPES']['RK_SURFACE_NOTE']){let S={'text':'','radius':0xa,'style':{'font':{'face':'Arial','size':0xc,'color':new b['Color']()},'background':{'enable':!![],'color':new b['Color']()}}};return S;}else{if(R===b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_X_AXIS_DISTANCE']||R===b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_Y_AXIS_DISTANCE']||R===b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_Z_AXIS_DISTANCE']){let T={'vertex_position':undefined};return T;}else{if(R===b['Enum']['REVIEW_TYPES']['RK_MEASURE_X_AXIS_DISTANCE']||R===b['Enum']['REVIEW_TYPES']['RK_MEASURE_Y_AXIS_DISTANCE']||R===b['Enum']['REVIEW_TYPES']['RK_MEASURE_Z_AXIS_DISTANCE']){let U={'target_2_support_position':undefined};return U;}else{if(R===b['Enum']['REVIEW_TYPES']['RK_SNAPSHOT']){let V={'title':'','description':'','cameraId':-0x1,'thumbnail':undefined,'selectedIds':[],'drawitem':[],'section':[]};return V;}}}};return undefined;};function e(R){if(R===undefined)return;let S=function(U){let V=U['split']('\x0d\x0a');if(V['length']===0x1)V=U['split']('\x0a');return V;},T=function(U,V){if(V['style']===undefined)return;if(V['style']['font']!==undefined){if(V['style']['font']['size']!==undefined)U['style']['font']['size']=V['style']['font']['size'];if(V['style']['font']['color']!==undefined){let W=a['Util']['GetColorByHex'](V['style']['font']['color']);if(W)U['style']['font']['color']['copy'](W);}}if(V['style']['border']!==undefined){if(V['style']['border']['enable']!==undefined)U['style']['border']['enable']=V['style']['border']['enable'];if(V['style']['border']['color']!==undefined){let X=a['Util']['GetColorByHex'](V['style']['border']['color']);if(X)U['style']['border']['color']['copy'](X);}}if(V['style']['background']!==undefined){if(V['style']['background']['enable']!==undefined)U['style']['background']['enable']=V['style']['background']['enable'];if(V['style']['background']['color']!==undefined){let Y=a['Util']['GetColorByHex'](V['style']['background']['color']);if(Y)U['style']['background']['color']['copy'](Y);}}if(V['style']['arrow']!==undefined){if(V['style']['arrow']['size']!==undefined)U['style']['arrow']['size']=V['style']['arrow']['size'];if(V['style']['arrow']['color']!==undefined){let Z=a['Util']['GetColorByHex'](V['style']['arrow']['color']);Z&&(U['style']['arrow']['color']['copy'](Z),U['style']['point']['color']['copy'](Z));}}if(V['style']['line']!==undefined){if(V['style']['line']['thickness']!==undefined)U['style']['line']['thickness']=V['style']['line']['thickness'];if(V['style']['line']['color']!==undefined){let a0=a['Util']['GetColorByHex'](V['style']['line']['color']);if(a0)U['style']['line']['color']['copy'](a0);}}if(V['style']['surface']!==undefined){if(V['style']['surface']['color']!==undefined){let a1=a['Util']['GetColorByHex'](V['style']['surface']['color']);if(a1)U['style']['triangle']['color']['copy'](a1);}}};if(R['note'])for(let U=0x0;U<R['note']['length'];U++){let V=R['note'][U],W=a['Data']['ReviewItem']();W['origin_id']=V['id'];if(V['kind']===undefined)continue;if(typeof V['kind']!=='string')continue;if(V['title']===undefined)V['title']='';if(V['kind']['localeCompare']('RK_2D_NOTE')===0x0){W['itemType']=b['Enum']['REVIEW_TYPES']['RK_2D_NOTE'];let X=S(V['title']);W['text']['value']['push'](...X);const Y=a['Renderer']['GetSizeWidth'](),Z=a['Renderer']['GetSizeHeight']();let a0=new b['Vector3'](V['text_position']['x'],V['text_position']['y'],V['text_position']['z']);W['text']['position']=new b['Vector3'](a0['x']*Y,a0['y']*Z,0x0);}else{if(V['kind']['localeCompare']('RK_3D_NOTE')===0x0){W['itemType']=b['Enum']['REVIEW_TYPES']['RK_3D_NOTE'];let a1=S(V['title']);W['text']['value']['push'](...a1),W['text']['position']=new b['Vector3'](V['text_position']['x'],V['text_position']['y'],V['text_position']['z']);}else{if(V['kind']['localeCompare']('RK_SURFACE_NOTE')===0x0){W['itemType']=b['Enum']['REVIEW_TYPES']['RK_SURFACE_NOTE'];let a2=S(V['title']);W['text']['value']['push'](...a2),W['text']['position']=new b['Vector3'](V['text_position']['x'],V['text_position']['y'],V['text_position']['z']),W['drawitem']['position']['push'](new b['Vector3'](V['target_position']['x'],V['target_position']['y'],V['target_position']['z']));if(V['symbol']!==undefined){W['tag']=c['GetReviewItemTag'](b['Enum']['REVIEW_TYPES']['RK_SURFACE_NOTE']),W['tag']['text']=V['symbol']['text'],W['tag']['radius']=V['symbol']['radius'];if(V['symbol']['color']!==undefined){let a3=a['Util']['GetColorByHex'](V['symbol']['color']);if(a3)W['tag']['style']['font']['color']['copy'](a3);}if(V['symbol']['bgcolor']!==undefined){let a4=a['Util']['GetColorByHex'](V['symbol']['bgcolor']);if(a4)W['tag']['style']['background']['color']['copy'](a4);}}}else continue;}}T(W,V);if(V['visible']!==undefined)W['visible']=V['visible'];a['Data']['Reviews']['push'](W);}if(R['measure'])for(let a5=0x0;a5<R['measure']['length'];a5++){let a6=R['measure'][a5],a7=a['Data']['ReviewItem']();a7['origin_id']=a6['id'];if(a6['kind']===undefined)continue;if(typeof a6['kind']!=='string')continue;a7['itemRealType']=a6['kind'];if(a6['kind']['localeCompare']('RK_MEASURE_POS')===0x0){a7['itemType']=b['Enum']['REVIEW_TYPES']['RK_MEASURE_POS'];let a8=S(a6['title']);a7['text']['value']['push'](...a8),a7['text']['position']=new b['Vector3'](a6['text_position']['x'],a6['text_position']['y'],a6['text_position']['z']),a7['drawitem']['position']['push'](new b['Vector3'](a6['target_position']['x'],a6['target_position']['y'],a6['target_position']['z']));}else{if(a6['kind']['localeCompare']('RK_MEASURE_EDGE_LENGTH')===0x0||a6['kind']['localeCompare']('RK_MEASURE_DISTANCE')===0x0||a6['kind']['localeCompare']('RK_MEASURE_POINT_DISTANCE')===0x0){a7['itemType']=b['Enum']['REVIEW_TYPES']['RK_MEASURE_DISTANCE'];let a9=S(a6['title']);a7['text']['value']['push'](...a9),a7['text']['position']=new b['Vector3'](a6['text_position']['x'],a6['text_position']['y'],a6['text_position']['z']),a7['drawitem']['position']['push'](new b['Vector3'](a6['target_1_position']['x'],a6['target_1_position']['y'],a6['target_1_position']['z'])),a7['drawitem']['position']['push'](new b['Vector3'](a6['target_2_position']['x'],a6['target_2_position']['y'],a6['target_2_position']['z']));}else{if(a6['kind']['localeCompare']('RK_MEASURE_ANGLE')===0x0){a7['itemType']=b['Enum']['REVIEW_TYPES']['RK_MEASURE_ANGLE'];let aa=S(a6['title']);a7['text']['value']['push'](...aa),a7['text']['position']=new b['Vector3'](a6['text_position']['x'],a6['text_position']['y'],a6['text_position']['z']),a7['drawitem']['position']['push'](new b['Vector3'](a6['base_position']['x'],a6['base_position']['y'],a6['base_position']['z'])),a7['drawitem']['position']['push'](new b['Vector3'](a6['target_1_position']['x'],a6['target_1_position']['y'],a6['target_1_position']['z'])),a7['drawitem']['position']['push'](new b['Vector3'](a6['target_2_position']['x'],a6['target_2_position']['y'],a6['target_2_position']['z']));}else{if(a6['kind']['localeCompare']('RK_MEASURE_SURFACE_ANGLE')===0x0){a7['itemType']=b['Enum']['REVIEW_TYPES']['RK_MEASURE_ANGLE'];let ab=S(a6['title']);a7['text']['value']['push'](...ab),a7['text']['position']=new b['Vector3'](a6['text_position']['x'],a6['text_position']['y'],a6['text_position']['z']),a7['drawitem']['position']['push'](new b['Vector3'](a6['angular_point_position']['x'],a6['angular_point_position']['y'],a6['angular_point_position']['z'])),a7['drawitem']['position']['push'](new b['Vector3'](a6['surface_1_base_position']['x'],a6['surface_1_base_position']['y'],a6['surface_1_base_position']['z'])),a7['drawitem']['position']['push'](new b['Vector3'](a6['surface_2_base_position']['x'],a6['surface_2_base_position']['y'],a6['surface_2_base_position']['z'])),a7['drawitem']['position']['push'](new b['Vector3'](a6['surface_1_normal']['x'],a6['surface_1_normal']['y'],a6['surface_1_normal']['z'])),a7['drawitem']['position']['push'](new b['Vector3'](a6['surface_2_normal']['x'],a6['surface_2_normal']['y'],a6['surface_2_normal']['z']));}else{if(a6['kind']['localeCompare']('RK_MEASURE_X_AXIS_POINT_DISTANCE')===0x0){a7['itemType']=b['Enum']['REVIEW_TYPES']['RK_MEASURE_X_AXIS_DISTANCE'];let ac=S(a6['title']);a7['text']['value']['push'](...ac),a7['text']['position']=new b['Vector3'](a6['text_position']['x'],a6['text_position']['y'],a6['text_position']['z']),a7['drawitem']['position']['push'](new b['Vector3'](a6['target_1_position']['x'],a6['target_1_position']['y'],a6['target_1_position']['z'])),a7['drawitem']['position']['push'](new b['Vector3'](a6['target_2_position']['x'],a6['target_2_position']['y'],a6['target_2_position']['z'])),a7['tag']=c['GetReviewItemTag'](a7['itemType']),a7['tag']['target_2_support_position']=a6['target_2_support_position'];}else{if(a6['kind']['localeCompare']('RK_MEASURE_Y_AXIS_POINT_DISTANCE')===0x0){a7['itemType']=b['Enum']['REVIEW_TYPES']['RK_MEASURE_Y_AXIS_DISTANCE'];let ad=S(a6['title']);a7['text']['value']['push'](...ad),a7['text']['position']=new b['Vector3'](a6['text_position']['x'],a6['text_position']['y'],a6['text_position']['z']),a7['drawitem']['position']['push'](new b['Vector3'](a6['target_1_position']['x'],a6['target_1_position']['y'],a6['target_1_position']['z'])),a7['drawitem']['position']['push'](new b['Vector3'](a6['target_2_position']['x'],a6['target_2_position']['y'],a6['target_2_position']['z'])),a7['tag']=c['GetReviewItemTag'](a7['itemType']),a7['tag']['target_2_support_position']=a6['target_2_support_position'];}else{if(a6['kind']['localeCompare']('RK_MEASURE_Z_AXIS_POINT_DISTANCE')===0x0){a7['itemType']=b['Enum']['REVIEW_TYPES']['RK_MEASURE_Z_AXIS_DISTANCE'];let ae=S(a6['title']);a7['text']['value']['push'](...ae),a7['text']['position']=new b['Vector3'](a6['text_position']['x'],a6['text_position']['y'],a6['text_position']['z']),a7['drawitem']['position']['push'](new b['Vector3'](a6['target_1_position']['x'],a6['target_1_position']['y'],a6['target_1_position']['z'])),a7['drawitem']['position']['push'](new b['Vector3'](a6['target_2_position']['x'],a6['target_2_position']['y'],a6['target_2_position']['z'])),a7['tag']=c['GetReviewItemTag'](a7['itemType']),a7['tag']['target_2_support_position']=a6['target_2_support_position'];}else{if(a6['kind']['localeCompare']('RK_MEASURE_LINKED_AREA')===0x0){a7['itemType']=b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKEDAREA'];let af=S(a6['title']);a7['text']['value']['push'](...af),a7['text']['position']=new b['Vector3'](a6['text_position']['x'],a6['text_position']['y'],a6['text_position']['z']);for(let ag=0x0;ag<a6['vertex_position']['length'];ag++){a7['drawitem']['position']['push'](new b['Vector3'](a6['vertex_position'][ag]['x'],a6['vertex_position'][ag]['y'],a6['vertex_position'][ag]['z']));}}else{if(a6['kind']['localeCompare']('RK_MEASURE_LINKED_DISTANCE')===0x0){a7['itemType']=b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_DISTANCE'];let ah=S(a6['title']);a7['text']['value']['push'](...ah),a7['text']['position']=new b['Vector3'](a6['text_position']['x'],a6['text_position']['y'],a6['text_position']['z']);for(let ai=0x0;ai<a6['vertex_position']['length'];ai++){a7['drawitem']['position']['push'](new b['Vector3'](a6['vertex_position'][ai]['x'],a6['vertex_position'][ai]['y'],a6['vertex_position'][ai]['z']));}}else{if(a6['kind']['localeCompare']('RK_MEASURE_X_AXIS_LINKED_DISTANCE')===0x0){a7['itemType']=b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_X_AXIS_DISTANCE'];let aj=S(a6['title']);a7['text']['value']['push'](...aj),a7['text']['position']=new b['Vector3'](a6['text_position']['x'],a6['text_position']['y'],a6['text_position']['z']);for(let ak=0x0;ak<a6['vertex_position']['length'];ak++){ak===0x0?(a7['drawitem']['position']['push'](new b['Vector3'](a6['vertex_position'][ak]['target_1_position']['x'],a6['vertex_position'][ak]['target_1_position']['y'],a6['vertex_position'][ak]['target_1_position']['z'])),a7['drawitem']['position']['push'](new b['Vector3'](a6['vertex_position'][ak]['target_2_position']['x'],a6['vertex_position'][ak]['target_2_position']['y'],a6['vertex_position'][ak]['target_2_position']['z']))):a7['drawitem']['position']['push'](new b['Vector3'](a6['vertex_position'][ak]['target_2_position']['x'],a6['vertex_position'][ak]['target_2_position']['y'],a6['vertex_position'][ak]['target_2_position']['z']));}a7['tag']=c['GetReviewItemTag'](a7['itemType']),a7['tag']['vertex_position']=a6['vertex_position'];}else{if(a6['kind']['localeCompare']('RK_MEASURE_Y_AXIS_LINKED_DISTANCE')===0x0){a7['itemType']=b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_Y_AXIS_DISTANCE'];let al=S(a6['title']);a7['text']['value']['push'](...al),a7['text']['position']=new b['Vector3'](a6['text_position']['x'],a6['text_position']['y'],a6['text_position']['z']);for(let am=0x0;am<a6['vertex_position']['length'];am++){am===0x0?(a7['drawitem']['position']['push'](new b['Vector3'](a6['vertex_position'][am]['target_1_position']['x'],a6['vertex_position'][am]['target_1_position']['y'],a6['vertex_position'][am]['target_1_position']['z'])),a7['drawitem']['position']['push'](new b['Vector3'](a6['vertex_position'][am]['target_2_position']['x'],a6['vertex_position'][am]['target_2_position']['y'],a6['vertex_position'][am]['target_2_position']['z']))):a7['drawitem']['position']['push'](new b['Vector3'](a6['vertex_position'][am]['target_2_position']['x'],a6['vertex_position'][am]['target_2_position']['y'],a6['vertex_position'][am]['target_2_position']['z']));}a7['tag']=c['GetReviewItemTag'](a7['itemType']),a7['tag']['vertex_position']=a6['vertex_position'];}else{if(a6['kind']['localeCompare']('RK_MEASURE_Z_AXIS_LINKED_DISTANCE')===0x0){a7['itemType']=b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_Z_AXIS_DISTANCE'];let an=S(a6['title']);a7['text']['value']['push'](...an),a7['text']['position']=new b['Vector3'](a6['text_position']['x'],a6['text_position']['y'],a6['text_position']['z']);for(let ao=0x0;ao<a6['vertex_position']['length'];ao++){ao===0x0?(a7['drawitem']['position']['push'](new b['Vector3'](a6['vertex_position'][ao]['target_1_position']['x'],a6['vertex_position'][ao]['target_1_position']['y'],a6['vertex_position'][ao]['target_1_position']['z'])),a7['drawitem']['position']['push'](new b['Vector3'](a6['vertex_position'][ao]['target_2_position']['x'],a6['vertex_position'][ao]['target_2_position']['y'],a6['vertex_position'][ao]['target_2_position']['z']))):a7['drawitem']['position']['push'](new b['Vector3'](a6['vertex_position'][ao]['target_2_position']['x'],a6['vertex_position'][ao]['target_2_position']['y'],a6['vertex_position'][ao]['target_2_position']['z']));}a7['tag']=c['GetReviewItemTag'](a7['itemType']),a7['tag']['vertex_position']=a6['vertex_position'];}else{if(a6['kind']['localeCompare']('RK_MEASURE_CUSTOM_AXIS_DISTANCE')===0x0){a7['itemType']=b['Enum']['REVIEW_TYPES']['RK_MEASURE_CUSTOM_AXIS_DISTANCE'];let ap=S(a6['title']);a7['text']['value']['push'](...ap),a7['text']['position']=new b['Vector3'](a6['text_position']['x'],a6['text_position']['y'],a6['text_position']['z']),a7['drawitem']['position']['push'](new b['Vector3'](a6['target_1_position']['x'],a6['target_1_position']['y'],a6['target_1_position']['z'])),a7['drawitem']['position']['push'](new b['Vector3'](a6['target_2_position']['x'],a6['target_2_position']['y'],a6['target_2_position']['z'])),a7['drawitem']['position']['push'](new b['Vector3'](a6['axis_direction']['x'],a6['axis_direction']['y'],a6['axis_direction']['z']));}else continue;}}}}}}}}}}}}T(a7,a6);if(a6['visible']!==undefined)a7['visible']=a6['visible'];a['Data']['Reviews']['push'](a7);}if(R['snapShot'])for(let aq=0x0;aq<R['snapShot']['length'];aq++){let ar=R['snapShot'][aq],as=a['Data']['CameraDataItem']();if(ar['perspective']!==undefined)as['perspectiveView']=ar['perspective'];if(ar['cameraMatrix']!==undefined)as['matrix_camera']['setArray'](ar['cameraMatrix']);if(ar['cameraZoom']!==undefined)as['zoom']=ar['cameraZoom'];if(ar['cameraDistance']!==undefined)as['distance']=ar['cameraDistance'];if(ar['thumbnail']!==undefined)as['thumbnail']=ar['thumbnail'];if(ar['cameraDepth']!==undefined)as['CameraDepth']=ar['cameraDepth'];if(ar['cameraPivot']!==undefined)as['pivot']=ar['cameraPivot'];if(ar['title']!==undefined)as['title']=ar['title'];ar['cameraMin']&&ar['cameraMax']&&(as['cameraMin']['set'](ar['cameraMin']['x'],ar['cameraMin']['y'],ar['cameraMin']['z']),as['cameraMax']['set'](ar['cameraMax']['x'],ar['cameraMax']['y'],ar['cameraMax']['z']));a['Camera']['SetBackup'](as);let at=a['Interface']['Review']['Snapshot']['New']();at['tag']['thumbnail']=as['thumbnail'],at['tag']['cameraId']=as['id'],at['origin_id']=ar['id'];if(ar['title']!==undefined)at['tag']['title']=ar['title'];if(ar['description']!==undefined)at['tag']['description']=ar['description'];ar['selectedIds']!==undefined&&(at['tag']['selectedIds']=ar['selectedIds']);if(ar['drawitem']!==undefined){at['tag']['drawitem']=[];for(let au=0x0;au<ar['drawitem']['length'];au++){let av=ar['drawitem'][au],aw=a['Data']['ReviewItem']();T(aw,av),aw['itemType']=b['Enum']['REVIEW_TYPES']['RK_SKETCH'],aw['drawitem']=av['drawitem'],at['tag']['drawitem']['push'](aw);}}if(ar['section']!==undefined){let ax,ay,az;ax=new b['Vector3'](0x1,0x0,0x0),ay=new b['Vector3'](0x0,0x1,0x0),az=new b['Vector3'](0x0,0x0,0x1);for(let aA=0x0;aA<ar['section']['length'];aA++){let aB=a['Data']['ClipItem'](),aC=ar['section'][aA]['enable'];if(!aC)continue;if(ar['section'][aA]['type']===0x0){if(ar['section'][aA]['plane'][0x0]['clip']===0x0)continue;if(Math['abs'](ax['dot'](ar['section'][aA]['plane'][0x0]['normal']))>0.9999)aB['itemType']=b['Enum']['CLIPPING_MODES']['X'];else{if(Math['abs'](ay['dot'](ar['section'][aA]['plane'][0x0]['normal']))>0.9999)aB['itemType']=b['Enum']['CLIPPING_MODES']['Y'];else{if(Math['abs'](az['dot'](ar['section'][aA]['plane'][0x0]['normal']))>0.9999)aB['itemType']=b['Enum']['CLIPPING_MODES']['Z'];else continue;}}aB['clip']=ar['section'][aA]['clip'],aB['enable']=ar['section'][aA]['enable'];let aD=a['Data']['ClipPlane']();aD['normal']['set'](ar['section'][aA]['plane'][0x0]['normal']['x'],ar['section'][aA]['plane'][0x0]['normal']['y'],ar['section'][aA]['plane'][0x0]['normal']['z']),aD['center']['set'](ar['section'][aA]['plane'][0x0]['center']['x'],ar['section'][aA]['plane'][0x0]['center']['y'],ar['section'][aA]['plane'][0x0]['center']['z']),aB['planes'][0x0]=aD;}else{if(ar['section'][aA]['type']===0x1){aB['itemType']=b['Enum']['CLIPPING_MODES']['BOX'];for(let aE=0x0;aE<ar['section'][aA]['plane']['length'];aE++){let aF=a['Data']['ClipPlane']();aF['normal']['set'](ar['section'][aA]['plane'][aE]['normal']['x'],ar['section'][aA]['plane'][aE]['normal']['y'],ar['section'][aA]['plane'][aE]['normal']['z']),aF['center']['set'](ar['section'][aA]['plane'][aE]['center']['x'],ar['section'][aA]['plane'][aE]['center']['y'],ar['section'][aA]['plane'][aE]['center']['z']),aB['planes'][aE]=aF;}}else{if(ar['section'][aA]['type']===0x2)continue;else{if(ar['section'][aA]['sectionType']===0x3)continue;else continue;}}}at['tag']['section']['push'](aB);break;}}T(as,ar);if(ar['visible']!==undefined)as['visible']=ar['visible'];a['Interface']['Review']['Snapshot']['AddItem'](at);}a['EventHandler']['dispatchEvent'](b['Enum']['EVENT_TYPES']['Review']['Changed'],a['Data']['Reviews']),a['Renderer']['Render']();}this['ParseJSON']=function(R){e(R);},this['GetReviewType']=R=>{let S=-0x1;switch(R){case b['Enum']['REVIEW_TYPES']['RK_SURFACE_NOTE']:case b['Enum']['REVIEW_TYPES']['RK_2D_NOTE']:case b['Enum']['REVIEW_TYPES']['RK_3D_NOTE']:case b['Enum']['REVIEW_TYPES']['RK_TOOLTIP_NOTE']:case b['Enum']['REVIEW_TYPES']['RK_HEADER_NOTE']:case b['Enum']['REVIEW_TYPES']['RK_IMAGE_NOTE']:case b['Enum']['REVIEW_TYPES']['RK_CUSTOM']:{S=0x0;}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_POS']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_DISTANCE']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_ANGLE']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_OBJECTMINDISTANCE']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_NORMALDISTANCE']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_HORIZONTALITYDISTANCE']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_ORTHOMINDISTANCE']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_X_AXIS_DISTANCE']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_Y_AXIS_DISTANCE']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_Z_AXIS_DISTANCE']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_XY_AXIS_DISTANCE']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_YZ_AXIS_DISTANCE']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_ZX_AXIS_DISTANCE']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_SMART_AXIS_DISTANCE']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKEDAREA']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_SURFACEDISTANCE']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_DISTANCE']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_AXIS_DISTANCE']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_X_AXIS_DISTANCE']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_Y_AXIS_DISTANCE']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_Z_AXIS_DISTANCE']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_ONE_POINT_FIXED_DISTANCE']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_CUSTOM_AXIS_DISTANCE']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_CYLINDER_PLANE_DISTANCE']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_CYLINDER_CYLINDER_CROSS_POINT']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_NORMAL_PLANE_CROSS_POINT']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_BOUNDBOX']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_PICKITEM']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_CIRCLE_RADIUS']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_CIRCLE_DIAMETER']:{S=0x1;}break;case b['Enum']['REVIEW_TYPES']['RK_SNAPSHOT']:{S=0x2;}break;case b['Enum']['REVIEW_TYPES']['RK_PATH']:case b['Enum']['REVIEW_TYPES']['RK_SKETCH']:{S=0x3;}break;default:{S=-0x1;}}return S;},this['AddFile']=function(R,S){let T=a['Data']['FileData']();return T['Url']=R,T['DataType']=-0x1,a['Loader']['LoadReview'](T,function(U){if(U===null){S!==undefined&&S(![]);return;}e(U),S!==undefined&&S(!![]);},undefined),T;},this['ExportJSON']=function(){let R={'note':[],'measure':[],'snapShot':[]},S=function(){let Y={};return Y;},T=function(Y,Z){if(Y['style']===undefined)return;Z['style']={};if(Y['style']['font']!==undefined){Z['style']['font']={};if(Y['style']['font']['size']!==undefined)Z['style']['font']['size']=Y['style']['font']['size'];Y['style']['font']['color']!==undefined&&(Z['style']['font']['color']=Y['style']['font']['color']['toHexARGB']());}if(Y['style']['border']!==undefined){Z['style']['border']={};if(Y['style']['border']['enable']!==undefined)Z['style']['border']['enable']=Y['style']['border']['enable'];Y['style']['border']['color']!==undefined&&(Z['style']['border']['color']=Y['style']['border']['color']['toHexARGB']());}if(Y['style']['background']!==undefined){Z['style']['background']={};if(Y['style']['background']['enable']!==undefined)Z['style']['background']['enable']=Y['style']['background']['enable'];Y['style']['background']['color']!==undefined&&(Z['style']['background']['color']=Y['style']['background']['color']['toHexARGB']());}if(Y['style']['arrow']!==undefined){Z['style']['arrow']={};if(Y['style']['arrow']['size']!==undefined)Z['style']['arrow']['size']=Y['style']['arrow']['size'];Y['style']['arrow']['color']!==undefined&&(Z['style']['arrow']['color']=Y['style']['arrow']['color']['toHexARGB']());}if(Y['style']['line']!==undefined){Z['style']['line']={};if(Y['style']['line']['thickness']!==undefined)Z['style']['line']['thickness']=Y['style']['line']['thickness'];Y['style']['line']['color']!==undefined&&(Z['style']['line']['color']=Y['style']['line']['color']['toHexARGB']());}Y['style']['triangle']!==undefined&&(Z['style']['surface']={},Y['style']['triangle']['color']!==undefined&&(Z['style']['surface']['color']=Y['style']['triangle']['color']['toHexARGB']()));},U=function(Y,Z,a0){Z[Y]={};if(Array['isArray'](a0)){Z[Y]=[];for(let a1=0x0;a1<a0['length'];a1++){Z[Y]['push']({'x':a0[a1]['x'],'y':a0[a1]['y'],'z':a0[a1]['z']});}}else Z[Y]['x']=a0['x'],Z[Y]['y']=a0['y'],Z[Y]['z']=a0['z'];},V=function(Y,Z){switch(Y['itemType']){case b['Enum']['REVIEW_TYPES']['RK_2D_NOTE']:{Z['kind']='RK_2D_NOTE';}break;case b['Enum']['REVIEW_TYPES']['RK_3D_NOTE']:{Z['kind']='RK_3D_NOTE';}break;case b['Enum']['REVIEW_TYPES']['RK_SURFACE_NOTE']:{Z['kind']='RK_SURFACE_NOTE';}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_POS']:{Z['kind']='RK_MEASURE_POS';}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_DISTANCE']:{Z['kind']='RK_MEASURE_DISTANCE',Y['itemRealType']!==undefined&&(Z['kind']=Y['itemRealType']);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_ANGLE']:{Z['kind']='RK_MEASURE_ANGLE',Y['itemRealType']!==undefined&&(Z['kind']=Y['itemRealType']);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_X_AXIS_DISTANCE']:{Z['kind']='RK_MEASURE_X_AXIS_POINT_DISTANCE';}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_Y_AXIS_DISTANCE']:{Z['kind']='RK_MEASURE_Y_AXIS_POINT_DISTANCE';}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_Z_AXIS_DISTANCE']:{Z['kind']='RK_MEASURE_Z_AXIS_POINT_DISTANCE';}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKEDAREA']:{Z['kind']='RK_MEASURE_LINKED_AREA';}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_DISTANCE']:{Z['kind']='RK_MEASURE_LINKED_DISTANCE';}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_X_AXIS_DISTANCE']:{Z['kind']='RK_MEASURE_X_AXIS_LINKED_DISTANCE';}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_Y_AXIS_DISTANCE']:{Z['kind']='RK_MEASURE_Y_AXIS_LINKED_DISTANCE';}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_Z_AXIS_DISTANCE']:{Z['kind']='RK_MEASURE_Z_AXIS_LINKED_DISTANCE';}break;case b['Enum']['REVIEW_TYPES']['RK_SKETCH']:{Z['kind']='RK_SKETCH';}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_CUSTOM_AXIS_DISTANCE']:{Z['kind']='RK_MEASURE_CUSTOM_AXIS_DISTANCE';}break;default:break;}},W=function(Y){let Z=S();Z['id']=Y['id'],Z['title']=Y['text']['value']['join']('\x0d\x0a'),V(Y,Z),T(Y,Z);switch(Y['itemType']){case b['Enum']['REVIEW_TYPES']['RK_2D_NOTE']:{if(Y['text']['position']!==undefined){const a0=a['Renderer']['GetSizeWidth'](),a1=a['Renderer']['GetSizeHeight']();let a2=new b['Vector3']()['copy'](Y['text']['position']);a2['x']=a2['x']/a0,a2['y']=a2['y']/a1,U('text_position',Z,a2);}}break;case b['Enum']['REVIEW_TYPES']['RK_3D_NOTE']:{Y['text']['position']!==undefined&&U('text_position',Z,Y['text']['position']);}break;case b['Enum']['REVIEW_TYPES']['RK_SURFACE_NOTE']:{Y['text']['position']!==undefined&&U('text_position',Z,Y['text']['position']);Y['drawitem']['position']!==undefined&&U('target_position',Z,Y['drawitem']['position'][0x0]);if(Y['tag']!==undefined){Z['symbol']={},Z['symbol']['text']=Y['tag']['text'],Z['symbol']['radius']=Y['tag']['radius'];if(Y['tag']['style']!==undefined){if(Y['tag']['style']['font']!==undefined&&Y['tag']['style']['font']['color']!==undefined)Z['symbol']['color']=Y['tag']['style']['font']['color']['toHexARGB']();if(Y['tag']['style']['background']!==undefined&&Y['tag']['style']['background']['color']!==undefined)Z['symbol']['bgcolor']=Y['tag']['style']['background']['color']['toHexARGB']();}}}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_POS']:{Y['text']['position']!==undefined&&U('text_position',Z,Y['text']['position']),Y['drawitem']['position']!==undefined&&U('target_position',Z,Y['drawitem']['position'][0x0]);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_DISTANCE']:{Y['text']['position']!==undefined&&U('text_position',Z,Y['text']['position']),Y['drawitem']['position']!==undefined&&(Y['drawitem']['position']['length']!==undefined&&Y['drawitem']['position']['length']===0x2?(U('target_1_position',Z,Y['drawitem']['position'][0x0]),U('target_2_position',Z,Y['drawitem']['position'][0x1])):U('target_position',Z,Y['drawitem']['position']));}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_ANGLE']:{Y['text']['position']!==undefined&&U('text_position',Z,Y['text']['position']);if(Y['itemRealType']!==undefined){if(Y['itemRealType']['localeCompare']('RK_MEASURE_ANGLE')===0x0)Y['drawitem']['position']['length']!==undefined&&Y['drawitem']['position']['length']===0x3?(U('base_position',Z,Y['drawitem']['position'][0x0]),U('target_1_position',Z,Y['drawitem']['position'][0x1]),U('target_2_position',Z,Y['drawitem']['position'][0x2])):U('target_position',Z,Y['drawitem']['position']);else Y['itemRealType']['localeCompare']('RK_MEASURE_SURFACE_ANGLE')===0x0&&(Y['drawitem']['position']['length']!==undefined&&Y['drawitem']['position']['length']===0x5?(U('angular_point_position',Z,Y['drawitem']['position'][0x0]),U('surface_1_base_position',Z,Y['drawitem']['position'][0x1]),U('surface_2_base_position',Z,Y['drawitem']['position'][0x2]),U('surface_1_normal',Z,Y['drawitem']['position'][0x3]),U('surface_2_normal',Z,Y['drawitem']['position'][0x4])):U('target_position',Z,Y['drawitem']['position']));}else Y['drawitem']['position']!==undefined&&(Y['drawitem']['position']['length']!==undefined&&Y['drawitem']['position']['length']===0x3?(U('base_position',Z,Y['drawitem']['position'][0x0]),U('target_1_position',Z,Y['drawitem']['position'][0x1]),U('target_2_position',Z,Y['drawitem']['position'][0x2])):U('target_position',Z,Y['drawitem']['position'][0x0]));}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_X_AXIS_DISTANCE']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_Y_AXIS_DISTANCE']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_Z_AXIS_DISTANCE']:{Y['text']['position']!==undefined&&U('text_position',Z,Y['text']['position']),Y['drawitem']['position']!==undefined&&(Y['drawitem']['position']['length']!==undefined&&Y['drawitem']['position']['length']===0x2?(U('target_1_position',Z,Y['drawitem']['position'][0x0]),U('target_2_position',Z,Y['drawitem']['position'][0x1])):U('target_position',Z,Y['drawitem']['position'])),Y['tag']!==undefined&&(Z['target_2_support_position']=Y['tag']['target_2_support_position']);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKEDAREA']:{Y['text']['position']!==undefined&&U('text_position',Z,Y['text']['position']),Y['drawitem']['position']!==undefined&&(Y['drawitem']['position']['length']!==undefined?U('vertex_position',Z,Y['drawitem']['position']):U('target_position',Z,Y['drawitem']['position']));}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_DISTANCE']:{Y['text']['position']!==undefined&&U('text_position',Z,Y['text']['position']),Y['drawitem']['position']!==undefined&&(Y['drawitem']['position']['length']!==undefined?U('vertex_position',Z,Y['drawitem']['position']):U('target_position',Z,Y['drawitem']['position']));}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_X_AXIS_DISTANCE']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_Y_AXIS_DISTANCE']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_Z_AXIS_DISTANCE']:{Y['text']['position']!==undefined&&U('text_position',Z,Y['text']['position']);if(Y['tag']!==undefined)Z['vertex_position']=Y['tag'];else{if(Y['drawitem']['position']!==undefined){if(Y['drawitem']['position']['length']!==undefined){Z['vertex_position']=[];for(let a3=0x1;a3<Y['drawitem']['position']['length'];a3++){let a4={'text_position':{},'target_1_position':{},'target_2_position':{},'target_2_support_position':{}};a4['text_position']['x']=Y['drawitem']['position'][a3-0x1]['x'],a4['text_position']['y']=Y['drawitem']['position'][a3-0x1]['y'],a4['text_position']['z']=Y['drawitem']['position'][a3-0x1]['z'],a4['target_1_position']['x']=Y['drawitem']['position'][a3-0x1]['x'],a4['target_1_position']['y']=Y['drawitem']['position'][a3-0x1]['y'],a4['target_1_position']['z']=Y['drawitem']['position'][a3-0x1]['z'],a4['target_2_position']['x']=Y['drawitem']['position'][a3]['x'],a4['target_2_position']['y']=Y['drawitem']['position'][a3]['y'],a4['target_2_position']['z']=Y['drawitem']['position'][a3]['z'],Y['itemType']===b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_X_AXIS_DISTANCE']&&(a4['target_2_support_position']['x']=Y['drawitem']['position'][a3]['x'],a4['target_2_support_position']['y']=Y['drawitem']['position'][0x0]['y'],a4['target_2_support_position']['z']=Y['drawitem']['position'][0x0]['z']),Y['itemType']===b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_Y_AXIS_DISTANCE']&&(a4['target_2_support_position']['x']=Y['drawitem']['position'][0x0]['x'],a4['target_2_support_position']['y']=Y['drawitem']['position'][a3]['y'],a4['target_2_support_position']['z']=Y['drawitem']['position'][0x0]['z']),Y['itemType']===b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_Z_AXIS_DISTANCE']&&(a4['target_2_support_position']['x']=Y['drawitem']['position'][0x0]['x'],a4['target_2_support_position']['y']=Y['drawitem']['position'][0x0]['y'],a4['target_2_support_position']['z']=Y['drawitem']['position'][a3]['z']),Z['vertex_position']['push'](a4);}}else U('target_position',Z,Y['drawitem']['position']);}}}break;case b['Enum']['REVIEW_TYPES']['RK_SNAPSHOT']:{let a5=a['Camera']['GetCameraData'](Y['tag']['cameraId']),a6=S();Y['origin_id']!==undefined?a6['id']=Y['origin_id']:a6['id']=i,a6['Perspective']=a5['perspectiveView'],a6['CameraMatrix']=a5['matrix_camera']['elements'],a6['CameraDistance']=a5['distance'],a6['CameraZoom']=a5['zoom'],a6['Thumbnail']=Y['tag']['thumbnail'],a6['CameraDepth']=a5['CameraDepth'],a6['CameraPivot']=a5['CameraPivot'],a6['title']=Y['tag']['title'],a6['description']=Y['tag']['description'],a6['drawitem']=Y['tag']['drawitem'],a6['selectedIds']=Y['tag']['selectedIds'],a6['section']=Y['tag']['section'];}break;case b['Enum']['REVIEW_TYPES']['RK_SKETCH']:{console['log'](Y);}break;default:break;}return Z;};for(let Y=0x0;Y<a['Data']['Reviews']['length'];Y++){let Z=a['Data']['Reviews'][Y],a0=S();Z['origin_id']!==undefined?a0['id']=Z['origin_id']:a0['id']=Y;a0['title']=Z['text']['value']['join']('\x0d\x0a'),V(Z,a0),T(Z,a0),a0['visible']=Z['visible'];switch(Z['itemType']){case b['Enum']['REVIEW_TYPES']['RK_2D_NOTE']:{if(Z['text']['position']!==undefined){const a1=a['Renderer']['GetSizeWidth'](),a2=a['Renderer']['GetSizeHeight']();let a3=new b['Vector3']()['copy'](Z['text']['position']);a3['x']=a3['x']/a1,a3['y']=a3['y']/a2,U('text_position',a0,a3);}R['note']['push'](a0);}break;case b['Enum']['REVIEW_TYPES']['RK_3D_NOTE']:{Z['text']['position']!==undefined&&U('text_position',a0,Z['text']['position']),R['note']['push'](a0);}break;case b['Enum']['REVIEW_TYPES']['RK_SURFACE_NOTE']:{Z['text']['position']!==undefined&&U('text_position',a0,Z['text']['position']);Z['drawitem']['position']!==undefined&&U('target_position',a0,Z['drawitem']['position'][0x0]);if(Z['tag']!==undefined){a0['symbol']={},a0['symbol']['text']=Z['tag']['text'],a0['symbol']['radius']=Z['tag']['radius'];if(Z['tag']['style']!==undefined){if(Z['tag']['style']['font']!==undefined&&Z['tag']['style']['font']['color']!==undefined)a0['symbol']['color']=Z['tag']['style']['font']['color']['toHexARGB']();if(Z['tag']['style']['background']!==undefined&&Z['tag']['style']['background']['color']!==undefined)a0['symbol']['bgcolor']=Z['tag']['style']['background']['color']['toHexARGB']();}}R['note']['push'](a0);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_POS']:{Z['text']['position']!==undefined&&U('text_position',a0,Z['text']['position']),Z['drawitem']['position']!==undefined&&U('target_position',a0,Z['drawitem']['position'][0x0]),R['measure']['push'](a0);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_DISTANCE']:{Z['text']['position']!==undefined&&U('text_position',a0,Z['text']['position']),Z['drawitem']['position']!==undefined&&(Z['drawitem']['position']['length']!==undefined&&Z['drawitem']['position']['length']===0x2?(U('target_1_position',a0,Z['drawitem']['position'][0x0]),U('target_2_position',a0,Z['drawitem']['position'][0x1])):U('target_position',a0,Z['drawitem']['position'])),R['measure']['push'](a0);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_ANGLE']:{Z['text']['position']!==undefined&&U('text_position',a0,Z['text']['position']);if(Z['itemRealType']!==undefined){if(Z['itemRealType']['localeCompare']('RK_MEASURE_ANGLE')===0x0)Z['drawitem']['position']['length']!==undefined&&Z['drawitem']['position']['length']===0x3?(U('base_position',a0,Z['drawitem']['position'][0x0]),U('target_1_position',a0,Z['drawitem']['position'][0x1]),U('target_2_position',a0,Z['drawitem']['position'][0x2])):U('target_position',a0,Z['drawitem']['position']);else Z['itemRealType']['localeCompare']('RK_MEASURE_SURFACE_ANGLE')===0x0&&(Z['drawitem']['position']['length']!==undefined&&Z['drawitem']['position']['length']===0x5?(U('angular_point_position',a0,Z['drawitem']['position'][0x0]),U('surface_1_base_position',a0,Z['drawitem']['position'][0x1]),U('surface_2_base_position',a0,Z['drawitem']['position'][0x2]),U('surface_1_normal',a0,Z['drawitem']['position'][0x3]),U('surface_2_normal',a0,Z['drawitem']['position'][0x4])):U('target_position',a0,Z['drawitem']['position']));}else Z['drawitem']['position']!==undefined&&(Z['drawitem']['position']['length']!==undefined&&Z['drawitem']['position']['length']===0x3?(U('base_position',a0,Z['drawitem']['position'][0x0]),U('target_1_position',a0,Z['drawitem']['position'][0x1]),U('target_2_position',a0,Z['drawitem']['position'][0x2])):U('target_position',a0,Z['drawitem']['position'][0x0]));R['measure']['push'](a0);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_X_AXIS_DISTANCE']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_Y_AXIS_DISTANCE']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_Z_AXIS_DISTANCE']:{Z['text']['position']!==undefined&&U('text_position',a0,Z['text']['position']),Z['drawitem']['position']!==undefined&&(Z['drawitem']['position']['length']!==undefined&&Z['drawitem']['position']['length']===0x2?(U('target_1_position',a0,Z['drawitem']['position'][0x0]),U('target_2_position',a0,Z['drawitem']['position'][0x1])):U('target_position',a0,Z['drawitem']['position'])),Z['tag']!==undefined&&(a0['target_2_support_position']=Z['tag']['target_2_support_position']),R['measure']['push'](a0);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKEDAREA']:{Z['text']['position']!==undefined&&U('text_position',a0,Z['text']['position']),Z['drawitem']['position']!==undefined&&(Z['drawitem']['position']['length']!==undefined?U('vertex_position',a0,Z['drawitem']['position']):U('target_position',a0,Z['drawitem']['position'])),R['measure']['push'](a0);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_DISTANCE']:{Z['text']['position']!==undefined&&U('text_position',a0,Z['text']['position']),Z['drawitem']['position']!==undefined&&(Z['drawitem']['position']['length']!==undefined?U('vertex_position',a0,Z['drawitem']['position']):U('target_position',a0,Z['drawitem']['position'])),R['measure']['push'](a0);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_X_AXIS_DISTANCE']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_Y_AXIS_DISTANCE']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_Z_AXIS_DISTANCE']:{Z['text']['position']!==undefined&&U('text_position',a0,Z['text']['position']);if(Z['tag']!==undefined)a0['vertex_position']=Z['tag'];else{if(Z['drawitem']['position']!==undefined){if(Z['drawitem']['position']['length']!==undefined){a0['vertex_position']=[];for(let a4=0x1;a4<Z['drawitem']['position']['length'];a4++){let a5={'text_position':{},'target_1_position':{},'target_2_position':{},'target_2_support_position':{}};a5['text_position']['x']=Z['drawitem']['position'][a4-0x1]['x'],a5['text_position']['y']=Z['drawitem']['position'][a4-0x1]['y'],a5['text_position']['z']=Z['drawitem']['position'][a4-0x1]['z'],a5['target_1_position']['x']=Z['drawitem']['position'][a4-0x1]['x'],a5['target_1_position']['y']=Z['drawitem']['position'][a4-0x1]['y'],a5['target_1_position']['z']=Z['drawitem']['position'][a4-0x1]['z'],a5['target_2_position']['x']=Z['drawitem']['position'][a4]['x'],a5['target_2_position']['y']=Z['drawitem']['position'][a4]['y'],a5['target_2_position']['z']=Z['drawitem']['position'][a4]['z'],Z['itemType']===b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_X_AXIS_DISTANCE']&&(a5['target_2_support_position']['x']=Z['drawitem']['position'][a4]['x'],a5['target_2_support_position']['y']=Z['drawitem']['position'][0x0]['y'],a5['target_2_support_position']['z']=Z['drawitem']['position'][0x0]['z']),Z['itemType']===b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_Y_AXIS_DISTANCE']&&(a5['target_2_support_position']['x']=Z['drawitem']['position'][0x0]['x'],a5['target_2_support_position']['y']=Z['drawitem']['position'][a4]['y'],a5['target_2_support_position']['z']=Z['drawitem']['position'][0x0]['z']),Z['itemType']===b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_Z_AXIS_DISTANCE']&&(a5['target_2_support_position']['x']=Z['drawitem']['position'][0x0]['x'],a5['target_2_support_position']['y']=Z['drawitem']['position'][0x0]['y'],a5['target_2_support_position']['z']=Z['drawitem']['position'][a4]['z']),a0['vertex_position']['push'](a5);}}else U('target_position',a0,Z['drawitem']['position']);}}R['measure']['push'](a0);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_CUSTOM_AXIS_DISTANCE']:{Z['text']['position']!==undefined&&U('text_position',a0,Z['text']['position']),Z['drawitem']['position']!==undefined&&(Z['drawitem']['position']['length']!==undefined&&Z['drawitem']['position']['length']===0x3?(U('target_1_position',a0,Z['drawitem']['position'][0x0]),U('target_2_position',a0,Z['drawitem']['position'][0x1]),U('axis_direction',a0,Z['drawitem']['position'][0x2])):U('target_position',a0,Z['drawitem']['position'])),R['measure']['push'](a0);}break;case b['Enum']['REVIEW_TYPES']['RK_SNAPSHOT']:{let a6=a['Camera']['GetBackupData'](Z['tag']['cameraId']),a7=S();Z['origin_id']!==undefined?a7['id']=Z['origin_id']:a7['id']=Y;a7['perspective']=a6['perspectiveView'],a7['cameraMatrix']=a6['matrix_camera']['elements'],a7['cameraDistance']=a6['distance'],a7['cameraZoom']=a6['zoom'],a7['cameraDepth']=a6['CameraDepth'],a7['cameraPivot']=a6['pivot'],a7['title']=Z['tag']['title'],a7['description']=Z['tag']['description'],a7['drawitem']=Z['tag']['drawitem'],a7['selectedIds']=Z['tag']['selectedIds'],a7['thumbnail']=Z['tag']['thumbnail'];let a8={'type':undefined,'enable':undefined,'plane':[]},a9=function(aa){if(aa===b['Enum']['CLIPPING_MODES']['X']||aa===b['Enum']['CLIPPING_MODES']['Y']||aa===b['Enum']['CLIPPING_MODES']['Z'])return 0x0;else{if(aa===b['Enum']['CLIPPING_MODES']['BOX'])return 0x1;}};if(Z['tag']['section']!==undefined)for(let aa=0x0;aa<Z['tag']['section']['length'];aa++){a8['type']=a9(Z['tag']['section'][aa]['itemType']),a8['enable']=Z['tag']['section'][aa]['enable'];let ab=[];if(Z['tag']['section'][aa]['planes']['length']!==undefined){for(let ac=0x0;ac<Z['tag']['section'][aa]['planes']['length'];ac++){let ad={'clip':Z['tag']['section'][aa]['clip'],'normal':Z['tag']['section'][aa]['planes'][ac]['normal'],'center':Z['tag']['section'][aa]['planes'][ac]['center']};ab['push'](ad);}a8['plane']=ab;}a7['section']=[],a7['section']['push'](a8);}R['snapShot']['push'](a7);}break;default:break;}}let X=JSON['stringify'](R);return a['Util']['ExportTextFile'](X),X;},this['GetReview']=function(R){return a['Data']['Reviews']['find'](function(S){return S['id']===R;});},this['GetReviewByOriginId']=function(R){return a['Data']['Reviews']['find'](function(S){return S['origin_id']===R;});},this['GetReviewByType']=R=>{let S=[];if(R===undefined)S=a['Data']['Reviews'];else for(let T=a['Data']['Reviews']['length']-0x1;T>=0x0;T--){if(a['Data']['Reviews'][T]['itemType']!==R)continue;S['push'](a['Data']['Reviews'][T]);}return S;},this['DeleteReivewAll']=function(){a['Data']['Reviews']=[],a['EventHandler']['dispatchEvent'](b['Enum']['EVENT_TYPES']['Review']['Changed'],a['Data']['Reviews']);},this['DeleteReview']=function(R){let S=function(T){const U=a['Data']['Reviews']['findIndex'](function(V){return V['id']===T;});if(U>=0x0)a['Data']['Reviews']['splice'](U,0x1);};if(Array['isArray'](R))for(let T=0x0;T<R['length'];T++){let U=R[T];S(U);}else S(R);a['EventHandler']['dispatchEvent'](b['Enum']['EVENT_TYPES']['Review']['Changed'],a['Data']['Reviews']);},this['DeleteReviewByKind']=function(R){for(let S=a['Data']['Reviews']['length']-0x1;S>=0x0;S--){if(a['Data']['Reviews'][S]['itemType']!==R)continue;a['Data']['Reviews']['splice'](S,0x1);}a['EventHandler']['dispatchEvent'](b['Enum']['EVENT_TYPES']['Review']['Changed'],a['Data']['Reviews']);};let f=R=>{let S=[];if(R===0x0)S['push'](b['Enum']['REVIEW_TYPES']['RK_SURFACE_NOTE']),S['push'](b['Enum']['REVIEW_TYPES']['RK_2D_NOTE']),S['push'](b['Enum']['REVIEW_TYPES']['RK_3D_NOTE']),S['push'](b['Enum']['REVIEW_TYPES']['RK_TOOLTIP_NOTE']),S['push'](b['Enum']['REVIEW_TYPES']['RK_HEADER_NOTE']),S['push'](b['Enum']['REVIEW_TYPES']['RK_CUSTOM']),S['push'](b['Enum']['REVIEW_TYPES']['RK_IMAGE_NOTE']);else{if(R===0x1)S['push'](b['Enum']['REVIEW_TYPES']['RK_MEASURE_POS']),S['push'](b['Enum']['REVIEW_TYPES']['RK_MEASURE_DISTANCE']),S['push'](b['Enum']['REVIEW_TYPES']['RK_MEASURE_ANGLE']),S['push'](b['Enum']['REVIEW_TYPES']['RK_MEASURE_OBJECTMINDISTANCE']),S['push'](b['Enum']['REVIEW_TYPES']['RK_MEASURE_NORMALDISTANCE']),S['push'](b['Enum']['REVIEW_TYPES']['RK_MEASURE_HORIZONTALITYDISTANCE']),S['push'](b['Enum']['REVIEW_TYPES']['RK_MEASURE_ORTHOMINDISTANCE']),S['push'](b['Enum']['REVIEW_TYPES']['RK_MEASURE_X_AXIS_DISTANCE']),S['push'](b['Enum']['REVIEW_TYPES']['RK_MEASURE_Y_AXIS_DISTANCE']),S['push'](b['Enum']['REVIEW_TYPES']['RK_MEASURE_Z_AXIS_DISTANCE']),S['push'](b['Enum']['REVIEW_TYPES']['RK_MEASURE_XY_AXIS_DISTANCE']),S['push'](b['Enum']['REVIEW_TYPES']['RK_MEASURE_YZ_AXIS_DISTANCE']),S['push'](b['Enum']['REVIEW_TYPES']['RK_MEASURE_ZX_AXIS_DISTANCE']),S['push'](b['Enum']['REVIEW_TYPES']['RK_MEASURE_SMART_AXIS_DISTANCE']),S['push'](b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKEDAREA']),S['push'](b['Enum']['REVIEW_TYPES']['RK_MEASURE_SURFACEDISTANCE']),S['push'](b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_DISTANCE']),S['push'](b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_AXIS_DISTANCE']),S['push'](b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_X_AXIS_DISTANCE']),S['push'](b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_Y_AXIS_DISTANCE']),S['push'](b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_Z_AXIS_DISTANCE']),S['push'](b['Enum']['REVIEW_TYPES']['RK_MEASURE_ONE_POINT_FIXED_DISTANCE']),S['push'](b['Enum']['REVIEW_TYPES']['RK_MEASURE_CUSTOM_AXIS_DISTANCE']),S['push'](b['Enum']['REVIEW_TYPES']['RK_MEASURE_CYLINDER_PLANE_DISTANCE']),S['push'](b['Enum']['REVIEW_TYPES']['RK_MEASURE_CYLINDER_CYLINDER_CROSS_POINT']),S['push'](b['Enum']['REVIEW_TYPES']['RK_MEASURE_NORMAL_PLANE_CROSS_POINT']),S['push'](b['Enum']['REVIEW_TYPES']['RK_MEASURE_BOUNDBOX']),S['push'](b['Enum']['REVIEW_TYPES']['RK_MEASURE_PICKITEM']),S['push'](b['Enum']['REVIEW_TYPES']['RK_MEASURE_CIRCLE_RADIUS']),S['push'](b['Enum']['REVIEW_TYPES']['RK_MEASURE_CIRCLE_DIAMETER']);else{if(R===0x2)S['push'](b['Enum']['REVIEW_TYPES']['RK_SNAPSHOT']);else R===0x3&&(S['push'](b['Enum']['REVIEW_TYPES']['RK_PATH']),S['push'](b['Enum']['REVIEW_TYPES']['RK_SKETCH']));}}return S;};this['DeleteReviewByType']=function(R){let S=f(R);for(let T=a['Data']['Reviews']['length']-0x1;T>=0x0;T--){if(!S['includes'](a['Data']['Reviews'][T]['itemType']))continue;a['Data']['Reviews']['splice'](T,0x1);}a['EventHandler']['dispatchEvent'](b['Enum']['EVENT_TYPES']['Review']['Changed'],a['Data']['Reviews']);},this['DeleteSelectedReview']=function(){for(let R=a['Data']['Reviews']['length']-0x1;R>=0x0;R--){if(!a['Data']['Reviews'][R]['selection'])continue;a['Data']['Reviews']['splice'](R,0x1);}a['EventHandler']['dispatchEvent'](b['Enum']['EVENT_TYPES']['Review']['Changed'],a['Data']['Reviews']);},this['IsReviewNoteItem']=function(R){if(R['itemType']===b['Enum']['REVIEW_TYPES']['RK_SURFACE_NOTE']||R['itemType']===b['Enum']['REVIEW_TYPES']['RK_2D_NOTE']||R['itemType']===b['Enum']['REVIEW_TYPES']['RK_3D_NOTE'])return!![];return![];},this['IsReviewMeasureItem']=function(R){if(R['itemType']!==b['Enum']['REVIEW_TYPES']['RK_SURFACE_NOTE']&&R['itemType']!==b['Enum']['REVIEW_TYPES']['RK_2D_NOTE']&&R['itemType']!==b['Enum']['REVIEW_TYPES']['RK_3D_NOTE'])return!![];return![];},this['RestoreSnapShotReview']=function(R){let S=c['GetReview'](R);if(S===undefined)return;if(S['tag']['cameraId']!==undefined)a['Camera']['Rollback'](S['tag']['cameraId']);if(S['tag']['selectedIds']!==undefined&&S['tag']['selectedIds']['length']>0x0)a['Interface']['Object3D']['SelectByNodeID'](S['tag']['selectedIds'],!![],![]);else a['Interface']['Object3D']['SelectAll'](![]);a['Clipping']['Clear']();if(S['tag']['section']!==undefined){let T,U,V;T=new b['Vector3'](0x1,0x0,0x0),U=new b['Vector3'](0x0,0x1,0x0),V=new b['Vector3'](0x0,0x0,0x1);for(let W=0x0;W<S['tag']['section']['length'];W++){let X=a['Clipping']['CreateClipping'](S['tag']['section'][W]['itemType']);if(S['tag']['section'][W]['itemType']===b['Enum']['CLIPPING_MODES']['X']||S['tag']['section'][W]['itemType']===b['Enum']['CLIPPING_MODES']['Y']||S['tag']['section'][W]['itemType']===b['Enum']['CLIPPING_MODES']['Z'])for(let Y=0x0;Y<X['planes']['length'];Y++){X['planes'][Y]['normal']['copy'](S['tag']['section'][W]['planes'][Y]['normal']),X['planes'][Y]['center']['copy'](S['tag']['section'][W]['planes'][Y]['center']);if(X['planes'][Y]['handle']===undefined)continue;X['planes'][Y]['handle']['center']['copy'](S['tag']['section'][W]['planes'][Y]['center']);if(Math['abs'](T['dot'](X['planes'][Y]['normal']))>0.9999)X['planes'][Y]['handle']['axis']['x']['normal']['copy'](X['planes'][Y]['normal']),X['planes'][Y]['handle']['axis']['x']['normal']['multiplyScalar'](-0x1);else{if(Math['abs'](U['dot'](X['planes'][Y]['normal']))>0.9999)X['planes'][Y]['handle']['axis']['y']['normal']['copy'](X['planes'][Y]['normal']),X['planes'][Y]['handle']['axis']['y']['normal']['multiplyScalar'](-0x1);else{if(Math['abs'](V['dot'](X['planes'][Y]['normal']))>0.9999)X['planes'][Y]['handle']['axis']['z']['normal']['copy'](X['planes'][Y]['normal']),X['planes'][Y]['handle']['axis']['z']['normal']['multiplyScalar'](-0x1);else continue;}}}else{if(S['tag']['section'][W]['itemType']===b['Enum']['CLIPPING_MODES']['BOX'])for(let Z=0x0;Z<X['planes']['length'];Z++){for(let a0=0x0;a0<S['tag']['section'][W]['planes']['length'];a0++){if(X['planes'][Z]['normal']['dot'](S['tag']['section'][W]['planes'][a0]['normal'])<0.9999)continue;X['planes'][Z]['normal']['copy'](S['tag']['section'][W]['planes'][a0]['normal']),X['planes'][Z]['center']['copy'](S['tag']['section'][W]['planes'][a0]['center']);if(X['planes'][Z]['handle']===undefined)continue;X['planes'][Z]['handle']['center']['copy'](S['tag']['section'][W]['planes'][a0]['center']);if(Math['abs'](T['dot'](X['planes'][Z]['normal']))>0.9999)X['planes'][Z]['handle']['axis']['x']['normal']['copy'](X['planes'][Z]['normal']),X['planes'][Z]['handle']['axis']['x']['normal']['multiplyScalar'](-0x1);else{if(Math['abs'](U['dot'](X['planes'][Z]['normal']))>0.9999)X['planes'][Z]['handle']['axis']['y']['normal']['copy'](X['planes'][Z]['normal']),X['planes'][Z]['handle']['axis']['y']['normal']['multiplyScalar'](-0x1);else{if(Math['abs'](V['dot'](X['planes'][Z]['normal']))>0.9999)X['planes'][Z]['handle']['axis']['z']['normal']['copy'](X['planes'][Z]['normal']),X['planes'][Z]['handle']['axis']['z']['normal']['multiplyScalar'](-0x1);else continue;}}}}}}a['Clipping']['Update']();}S['tag']['drawitem']!==undefined&&S['tag']['drawitem']['length']>0x0?(a['Interface']['Review']['DrawingMarkup']['ExitDrawMode'](),a['Interface']['Review']['DrawingMarkup']['EnterDrawMode'](),a['Data']['Reviews']=a['Data']['Reviews']['concat'](S['tag']['drawitem']),a['ViewRefresh']()):a['Interface']['Review']['DrawingMarkup']['ExitDrawMode']();},this['Select']=function(R,S){let T=c['GetReview'](R);if(T===undefined)return;T['selection']=S,a['EventHandler']['dispatchEvent'](b['Enum']['EVENT_TYPES']['Review']['Changed'],a['Data']['Reviews']);},this['SelectAll']=function(R){for(let S=0x0;S<a['Data']['Reviews']['length'];S++){a['Data']['Reviews'][S]['selection']=R;}},this['SelectByKind']=function(R,S){for(let T=0x0;T<a['Data']['Reviews']['length'];T++){a['Data']['Reviews'][T]['itemType']===S&&(a['Data']['Reviews'][T]['selection']=R);}a['EventHandler']['dispatchEvent'](b['Enum']['EVENT_TYPES']['Review']['Changed'],a['Data']['Reviews']);},this['Show']=function(R,S){let T=c['GetReview'](R);if(T===undefined)return;T['visible']=S,a['EventHandler']['dispatchEvent'](b['Enum']['EVENT_TYPES']['Review']['Changed'],a['Data']['Reviews']);},this['ShowAll']=function(R){for(let S=0x0;S<a['Data']['Reviews']['length'];S++){a['Data']['Reviews'][S]['visible']=R;}a['EventHandler']['dispatchEvent'](b['Enum']['EVENT_TYPES']['Review']['Changed'],a['Data']['Reviews']);},this['ShowByKind']=function(R,S){for(let T=0x0;T<a['Data']['Reviews']['length'];T++){a['Data']['Reviews'][T]['itemType']===S&&(a['Data']['Reviews'][T]['visible']=R);}a['EventHandler']['dispatchEvent'](b['Enum']['EVENT_TYPES']['Review']['Changed'],a['Data']['Reviews']);},this['PickMouse']=function(R,S){for(let T=a['Data']['Reviews']['length']-0x1;T>=0x0;T--){let U=a['Data']['Reviews'][T];if(!U['visible'])continue;for(let V=0x0;V<U['rect']['length'];V++){let W=U['rect'][V];if(W['isPointInRect'](R,S)===![])continue;return U['id'];}}return undefined;},this['RenderReviewItem']=function(R,S){if(S===undefined)return;if(!S['visible'])return;let T=a['Renderer']['GetReviewNearPlane']();switch(S['itemType']){case b['Enum']['REVIEW_TYPES']['RK_SURFACE_NOTE']:if(a['Util']['IsRenderReivewNearPlane'](S['text']['position'],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x0],T))break;if(c['EnableClippingNoteReview']&&a['Clipping']['IsClippingPosition'](S['drawitem']['position'][0x0]))break;k(R,S);break;case b['Enum']['REVIEW_TYPES']['RK_2D_NOTE']:l(R,S);break;case b['Enum']['REVIEW_TYPES']['RK_3D_NOTE']:if(a['Util']['IsRenderReivewNearPlane'](S['text']['position'],T))break;if(c['EnableClippingNoteReview']&&a['Clipping']['IsClippingPosition'](S['text']['position']))break;m(R,S);break;case b['Enum']['REVIEW_TYPES']['RK_HEADER_NOTE']:if(a['Util']['IsRenderReivewNearPlane'](S['text']['position'],T))break;if(c['EnableClippingNoteReview']&&a['Clipping']['IsClippingPosition'](S['text']['position']))break;n(R,S);break;case b['Enum']['REVIEW_TYPES']['RK_TOOLTIP_NOTE']:if(a['Util']['IsRenderReivewNearPlane'](S['text']['position'],T))break;if(c['EnableClippingNoteReview']&&a['Clipping']['IsClippingPosition'](S['text']['position']))break;p(R,S);break;case b['Enum']['REVIEW_TYPES']['RK_IMAGE_NOTE']:if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x0],T))break;q(R,S);break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_POS']:if(a['Util']['IsRenderReivewNearPlane'](S['text']['position'],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x0],T))break;r(R,S);break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_DISTANCE']:if(a['Util']['IsRenderReivewNearPlane'](S['text']['position'],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x0],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x1],T))break;t(R,S);break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_ANGLE']:if(a['Util']['IsRenderReivewNearPlane'](S['text']['position'],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x0],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x1],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x2],T))break;u(R,S);break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_OBJECTMINDISTANCE']:if(a['Util']['IsRenderReivewNearPlane'](S['text']['position'],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x0],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x1],T))break;v(R,S);break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_NORMALDISTANCE']:if(a['Util']['IsRenderReivewNearPlane'](S['text']['position'],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x0],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x1],T))break;w(R,S);break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_HORIZONTALITYDISTANCE']:if(a['Util']['IsRenderReivewNearPlane'](S['text']['position'],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x0],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x1],T))break;x(R,S);break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_ORTHODISTANCE']:if(a['Util']['IsRenderReivewNearPlane'](S['text']['position'],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x0],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x1],T))break;y(R,S);break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_X_AXIS_DISTANCE']:if(a['Util']['IsRenderReivewNearPlane'](S['text']['position'],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x0],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x1],T))break;z(R,S);break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_Y_AXIS_DISTANCE']:if(a['Util']['IsRenderReivewNearPlane'](S['text']['position'],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x0],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x1],T))break;A(R,S);break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_Z_AXIS_DISTANCE']:if(a['Util']['IsRenderReivewNearPlane'](S['text']['position'],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x0],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x1],T))break;B(R,S);break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_XY_AXIS_DISTANCE']:if(a['Util']['IsRenderReivewNearPlane'](S['text']['position'],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x0],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x1],T))break;C(R,S);break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_YZ_AXIS_DISTANCE']:if(a['Util']['IsRenderReivewNearPlane'](S['text']['position'],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x0],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x1],T))break;D(R,S);break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_ZX_AXIS_DISTANCE']:if(a['Util']['IsRenderReivewNearPlane'](S['text']['position'],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x0],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x1],T))break;E(R,S);break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_CUSTOM_AXIS_DISTANCE']:if(a['Util']['IsRenderReivewNearPlane'](S['text']['position'],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x0],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x1],T))break;F(R,S);break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKEDAREA']:if(a['Util']['IsRenderReivewNearPlane'](S['text']['position'],T))break;G(R,S);break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_SURFACEDISTANCE']:if(a['Util']['IsRenderReivewNearPlane'](S['text']['position'],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x0],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x1],T))break;t(R,S);break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_DISTANCE']:{if(a['Util']['IsRenderReivewNearPlane'](S['text']['position'],T))break;let U=![];for(let V=0x0;V<S['drawitem']['position']['length'];V++){if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][V],T)){U=!![];break;}}if(U)break;H(R,S);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_X_AXIS_DISTANCE']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_Y_AXIS_DISTANCE']:case b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_Z_AXIS_DISTANCE']:{if(a['Util']['IsRenderReivewNearPlane'](S['text']['position'],T))break;let W=![];for(let X=0x0;X<S['drawitem']['position']['length'];X++){if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][X],T)){W=!![];break;}}if(W)break;I(R,S);}break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_CYLINDER_PLANE_DISTANCE']:if(a['Util']['IsRenderReivewNearPlane'](S['text']['position'],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x0],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x1],T))break;J(R,S);break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_CYLINDER_CYLINDER_CROSS_POINT']:if(a['Util']['IsRenderReivewNearPlane'](S['text']['position'],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x0],T))break;K(R,S);break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_NORMAL_PLANE_CROSS_POINT']:if(a['Util']['IsRenderReivewNearPlane'](S['text']['position'],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][0x0],T))break;L(R,S);break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_BOUNDBOX']:S['drawitem']['custom']?M(R,S):N(R,S);break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_CIRCLE_RADIUS']:Q(R,S,!![]);break;case b['Enum']['REVIEW_TYPES']['RK_MEASURE_CIRCLE_DIAMETER']:Q(R,S,![]);break;case b['Enum']['REVIEW_TYPES']['RK_PATH']:for(let Y=0x0;Y<S['drawitem']['position']['length'];Y++){if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][Y]['start'],T))break;if(a['Util']['IsRenderReivewNearPlane'](S['drawitem']['position'][Y]['end'],T))break;}g(R,S);break;case b['Enum']['REVIEW_TYPES']['RK_CUSTOM']:h(R,S);break;case b['Enum']['REVIEW_TYPES']['RK_SKETCH']:i(R,S);break;default:break;}if(S['selection']){R['strokeStyle']='rgba(255,\x200,\x200,\x201)',R['lineWidth']=S['style']['border']['thickness']+0x2;for(let Z=0x0;Z<S['rect']['length'];Z++){if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,S['rect'][Z]['left'],S['rect'][Z]['top'],S['rect'][Z]['getWidth'](),S['rect'][Z]['getHeight'](),![],!![]);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect'](R,S['rect'][Z]['left'],S['rect'][Z]['top'],S['rect'][Z]['getWidth'](),S['rect'][Z]['getHeight'](),S['style']['border']['round'],![],!![]);}}}},this['RenderReviewItems']=function(R,S){let T=[],U=new Map(),V=a['Renderer']['GetReviewNearPlane']();const W=new b['Matrix4']()['copy'](a['Camera']['matMVP']);for(let Y=0x0;Y<S['length'];Y++){let Z=S[Y];if(Z===undefined)continue;if(!Z['visible'])continue;switch(Z['itemType']){case b['Enum']['REVIEW_TYPES']['RK_PATH']:for(let a0=0x0;a0<Z['drawitem']['position']['length'];a0++){if(a['Util']['IsRenderReivewNearPlane'](Z['drawitem']['position'][a0]['start'],V))break;if(a['Util']['IsRenderReivewNearPlane'](Z['drawitem']['position'][a0]['end'],V))break;let a1=Z['drawitem']['position'][a0],a2=a['Renderer']['Util']['GetScreenPositionByMatrix'](W,a1['start']),a3=a['Renderer']['Util']['GetScreenPositionByMatrix'](W,a1['end']),a4={'s':a2,'e':a3};T['push'](a4);}default:break;}}let X=function(a5){R['beginPath']();for(let a6=0x0;a6<a5['length'];a6++){let a7=a5[a6];R['moveTo'](a7['s']['x'],a7['s']['y']),R['lineTo'](a7['e']['x'],a7['e']['y']);}R['stroke']();};X(T);},this['Render3DReviewItem']=function(R){if(!R['visible'])return;switch(R['itemType']){case b['Enum']['REVIEW_TYPES']['RK_MEASURE_BOUNDBOX']:{if(R['drawitem']['custom'])O(R);else P(R);}break;}},this['OnChangedEvent']=function(R){a['EventHandler']['addEventListener'](b['Enum']['EVENT_TYPES']['Review']['Changed'],R);};function g(R,S){const T=new b['Matrix4']()['copy'](a['Camera']['matMVP']);let U=a['Renderer']['GetReviewNearPlane']();for(let V=0x0;V<S['drawitem']['position']['length'];V++){let W=S['drawitem']['position'][V];if(a['Util']['IsRenderReivewNearPlane'](W['start'],U))continue;if(a['Util']['IsRenderReivewNearPlane'](W['end'],U))continue;let X=a['Renderer']['Util']['GetScreenPositionByMatrix'](T,W['start']),Y=a['Renderer']['Util']['GetScreenPositionByMatrix'](T,W['end']);switch(W['drawType']){case b['Enum']['LINE_TYPES']['SOLID']:{a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawLine'](R,X['x'],X['y'],Y['x'],Y['y']);}break;case b['Enum']['LINE_TYPES']['SHORT_DASHED']:{a['Renderer']['Util']['SetReviewLineOption'](R,S),R['setLineDash']([0x4,0x4]),a['Renderer']['Util']['DrawLine'](R,X['x'],X['y'],Y['x'],Y['y']),R['setLineDash']([]);}break;case b['Enum']['LINE_TYPES']['SOLID_ARROW']:{a['Renderer']['Util']['SetReviewArrowOption'](R,S),a['Renderer']['Util']['DrawArrow'](R,Y['x'],Y['y'],X['x'],X['y'],S['style']['arrow']['size']);}break;case b['Enum']['LINE_TYPES']['SHORT_DASHED_ARROW']:{a['Renderer']['Util']['SetReviewLineOption'](R,S),R['setLineDash']([0x4,0x4]),a['Renderer']['Util']['DrawLine'](R,X['x'],X['y'],Y['x'],Y['y']),R['setLineDash']([]),R['lineWidth']=0x1,R['strokeStyle']='rgba('+S['style']['arrow']['color']['r']+','+S['style']['arrow']['color']['g']+','+S['style']['arrow']['color']['b']+','+S['style']['arrow']['color']['glAlpha']()+')',a['Renderer']['Util']['DrawTriangle'](R,Y['x'],Y['y'],X['x'],X['y'],S['style']['arrow']['size']);}break;case b['Enum']['LINE_TYPES']['POINT']:{a['Renderer']['Util']['SetReviewPointOption'](R,S),a['Renderer']['Util']['DrawPoint'](R,X['x'],X['y'],S['style']['point']['size']);}break;case b['Enum']['LINE_TYPES']['USER']:{a['Renderer']['Util']['SetReviewLineOption'](R,S),R['setLineDash'](S['style']['line']['dash']),a['Renderer']['Util']['DrawLine'](R,X['x'],X['y'],Y['x'],Y['y']),R['setLineDash']([]);}break;case b['Enum']['LINE_TYPES']['USER_ARROW']:{a['Renderer']['Util']['SetReviewLineOption'](R,S),R['setLineDash'](S['style']['line']['dash']),a['Renderer']['Util']['DrawLine'](R,X['x'],X['y'],Y['x'],Y['y']),R['setLineDash']([]),R['strokeStyle']='rgba('+S['style']['arrow']['color']['r']+','+S['style']['arrow']['color']['g']+','+S['style']['arrow']['color']['b']+','+S['style']['arrow']['color']['glAlpha']()+')',R['lineWidth']=0x1,R['fillStyle']='rgba('+S['style']['arrow']['color']['r']+','+S['style']['arrow']['color']['g']+','+S['style']['arrow']['color']['b']+','+S['style']['arrow']['color']['glAlpha']()+')',a['Renderer']['Util']['DrawTriangle'](R,Y['x'],Y['y'],X['x'],X['y'],S['style']['arrow']['size']);}break;}}}function h(R,S){const T=new b['Matrix4']()['copy'](a['Camera']['matMVP']);let U=a['Renderer']['GetReviewNearPlane'](),V=S['drawitem']['position'][0x0];if(a['Util']['IsRenderReivewNearPlane'](V,U))return;let W=0x7c,X=0x3c,Y=a['Renderer']['Util']['GetScreenPositionByMatrix'](T,V);a['Renderer']['Util']['SetReviewBgOption'](R,S),a['Renderer']['Util']['SetReviewLineOption'](R,S);if(S['drawitem']['custom']!==undefined){let Z=0x64/0x7,a0=0xa,a1=0xa;const a2=a['Renderer']['Util']['GetTextMetrics'](R,S);W=a2['width']+a0*0x2;S['drawitem']['custom']['battery']!==undefined&&(X+=0x14);{Y['y']-=X/0x2;}if(S['drawitem']['custom']['progress']!==undefined){a['Renderer']['Util']['DrawRoundRect'](R,Y['x']-W/0x2,Y['y']-X/0x2,W,X,0xa,S['style']['background']['enable'],S['style']['border']['enable']),a['Renderer']['Util']['SetReviewFontOption'](R,S);for(let a5=0x0;a5<S['text']['value']['length'];a5++){R['fillText'](S['text']['value'][a5],Y['x']-W/0x2+a0,Y['y']-X/0x2+a1+(a2['ascent']*a5+a2['ascent']+S['style']['border']['offset']*a5));}a1+=a2['ascent']+0x6;let a3=a['Drawing']['GetCustomImage']('progress'),a4=Math['floor'](S['drawitem']['custom']['progress']/Z);R['fillStyle']='rgba('+0xff+','+0xff+','+0xff+','+0x1+')',a['Renderer']['Util']['DrawRect'](R,Y['x']-W/0x2+a0,Y['y']-X/0x2+a1,W-0x14-0x2,0x12,!![],![]),R['strokeStyle']='rgba('+0x29+','+0x8f+','+0xc2+','+0.8+')',a['Renderer']['Util']['DrawRect'](R,Y['x']-W/0x2+a0,Y['y']-X/0x2+a1,W-0x14-0x2,0x12,![],!![]),R['fillStyle']='rgba('+0x29+','+0x8f+','+0xc2+','+0.8+')',a['Renderer']['Util']['DrawRect'](R,Y['x']-W/0x2+a0+0x1,Y['y']-X/0x2+a1+0x1,(W-0x14-0x2-0x2)/0x64*S['drawitem']['custom']['progress'],0x10,!![],![]);}if(S['drawitem']['custom']['battery']!==undefined){a['Renderer']['Util']['DrawRoundRect'](R,Y['x']-W/0x2,Y['y']-X/0x2,W,X+0xa,0xa,S['style']['background']['enable'],S['style']['border']['enable']),X=a2['ascent']*S['text']['value']['length']+0x1e,a['Renderer']['Util']['SetReviewFontOption'](R,S),R['font']='bold\x20'+S['style']['font']['size']+'pt\x20'+S['style']['font']['face'],R['fillText'](S['text']['value'][0x0],Y['x']-W/0x2+a0,Y['y']-X/0x2+a1+(a2['ascent']*0x0+a2['ascent']+S['style']['border']['offset']*0x0)),a1+=0x2,a['Renderer']['Util']['SetReviewFontOption'](R,S);for(let a8=0x1;a8<S['text']['value']['length']-0x1;a8++){R['fillText'](S['text']['value'][a8],Y['x']-W/0x2+a0,Y['y']-X/0x2+a1+(a2['ascent']*a8+a2['ascent']+S['style']['border']['offset']*a8));}a1+=a2['ascent']*(S['text']['value']['length']-0x1)+0xc+0x2;let a6=a['Drawing']['GetCustomImage']('battery'),a7=Math['floor'](S['drawitem']['custom']['battery']/Z);if(a7>a6['length']-0x1)a7=a6['length']-0x1;R['strokeStyle']='rgba('+0x29+','+0x8f+','+0xc2+','+0.8+')',R['fillStyle']='rgba('+0x29+','+0x8f+','+0xc2+','+0.8+')',a['Renderer']['Util']['DrawRect'](R,Y['x']-W/0x2+a0,Y['y']-X/0x2+a1,W-0x14,0x12,![],!![]),R['drawImage'](a6[a7],Y['x']-W/0x2+a0,Y['y']-X/0x2+a1,W-0x14,0x12),R['strokeStyle']='rgba('+0x78+','+0x78+','+0x78+','+0x1+')',R['fillText'](S['text']['value'][0x3],Y['x']-0x14+a0,Y['y']-X/0x2+a1+a2['ascent']+0x2);}if(S['drawitem']['custom']['sign']!==undefined){if(!a['Animation']['ShowAnimationReview'])return;let a9=0x2,aa=0x2;W=0x1c,X=0x1c;{Y['y']-=X/0x2;}if(S['drawitem']['custom']['sign']['image']!==undefined){let ab;if(S['drawitem']['custom']['sign']['image']===0x0)ab=a['Drawing']['GetCustomImage']('car');else S['drawitem']['custom']['sign']['image']===0x1&&(ab=a['Drawing']['GetCustomImage']('bike'));a['Renderer']['Util']['DrawRoundRect'](R,Y['x']-W/0x2,Y['y']-X/0x2,W,X,0xa,S['style']['background']['enable'],S['style']['border']['enable']),a['Renderer']['Util']['SetReviewFontOption'](R,S),R['font']='bold\x20'+S['style']['font']['size']+'pt\x20'+S['style']['font']['face'],a['Renderer']['Util']['SetReviewFontOption'](R,S),R['drawImage'](ab[0x0],Y['x']-W/0x2+a9,Y['y']-X/0x2+aa,0x18,0x18),R['strokeStyle']='rgba('+0x78+','+0x78+','+0x78+','+0x1+')';}}}}function i(R,S){a['Renderer']['Util']['SetReviewLineOption'](R,S);let T=!![],U,V;switch(S['drawitem']['custom']['subType']){case b['Enum']['SKETCH_TYPES']['FREE']:{R['beginPath']();for(let W=0x0;W<S['drawitem']['custom']['position']['length'];W++){if(W===0x0)continue;let X=S['drawitem']['custom']['position'][W-0x1],Y=S['drawitem']['custom']['position'][W],Z=a['Camera']['world2ScreenWithMatrix'](a['Camera']['matMVP'],new b['Vector3']()['copy'](X)),a0=a['Camera']['world2ScreenWithMatrix'](a['Camera']['matMVP'],new b['Vector3']()['copy'](Y));R['moveTo'](Z['x'],Z['y']),R['lineTo'](a0['x'],a0['y']),T?(T=![],U=new b['Vector3']()['copy'](Z),V=new b['Vector3']()['copy'](Z),U['min'](a0),V['max'](a0)):(U['min'](Z),V['max'](Z),U['min'](a0),V['max'](a0));}R['stroke']();}break;case b['Enum']['SKETCH_TYPES']['LINE']:{let a1=S['drawitem']['custom']['position'][0x0],a2=S['drawitem']['custom']['position'][0x1],a3=a['Camera']['world2ScreenWithMatrix'](a['Camera']['matMVP'],new b['Vector3']()['copy'](a1)),a4=a['Camera']['world2ScreenWithMatrix'](a['Camera']['matMVP'],new b['Vector3']()['copy'](a2));R['beginPath'](),R['moveTo'](a3['x'],a3['y']),R['lineTo'](a4['x'],a4['y']),R['stroke'](),T?(T=![],U=new b['Vector3']()['copy'](a3),V=new b['Vector3']()['copy'](a3),U['min'](a4),V['max'](a4)):(U['min'](a3),V['max'](a3),U['min'](a4),V['max'](a4));}break;case b['Enum']['SKETCH_TYPES']['CIRCLE']:{let a5=S['drawitem']['custom']['position'][0x0],a6=S['drawitem']['custom']['position'][0x1],a7=a['Camera']['world2ScreenWithMatrix'](a['Camera']['matMVP'],new b['Vector3']()['copy'](a5)),a8=a['Camera']['world2ScreenWithMatrix'](a['Camera']['matMVP'],new b['Vector3']()['copy'](a6)),a9=0x0,aa=0x2*Math['PI'],ab=new b['Vector2']((a7['x']+a8['x'])/0x2,(a7['y']+a8['y'])/0x2),ac=new b['Vector2']()['subVectors'](a7,a8),ad=Math['abs'](ac['length']()/0x2);R['beginPath'](),R['arc'](ab['x'],ab['y'],ad,a9,aa,!![]),R['stroke']();{a9=0x0,aa=0x168;let ae=a['MeshProcess']['Get2DCircleVertices'](ab,ad,ad,a9,aa);for(let af=0x1;af<ae['vertices']['length'];af++){let ag=ae['vertices'][af-0x1],ah=ae['vertices'][af];T?(T=![],U=new b['Vector3']()['copy'](ag),V=new b['Vector3']()['copy'](ag),U['min'](ah),V['max'](ah)):(U['min'](ag),V['max'](ag),U['min'](ah),V['max'](ah));}}}break;case b['Enum']['SKETCH_TYPES']['RECT']:{let ai=S['drawitem']['custom']['position'][0x0],aj=S['drawitem']['custom']['position'][0x1],ak=a['Camera']['world2ScreenWithMatrix'](a['Camera']['matMVP'],new b['Vector3']()['copy'](ai)),al=a['Camera']['world2ScreenWithMatrix'](a['Camera']['matMVP'],new b['Vector3']()['copy'](aj)),am=al['x']-ak['x'],an=al['y']-ak['y'];R['beginPath'](),R['rect'](ak['x'],ak['y'],am,an),R['stroke'](),T?(T=![],U=new b['Vector3']()['copy'](ak),V=new b['Vector3']()['copy'](ak),U['min'](al),V['max'](al)):(U['min'](ak),V['max'](ak),U['min'](al),V['max'](al));}break;case b['Enum']['SKETCH_TYPES']['TEXT']:{if(S['text']['value']['length']===0x0)return;if(S['text']['position']===undefined)return;a['Renderer']['Util']['SetReviewFontOption'](R,S);const ao=a['Renderer']['Util']['GetTextMetrics'](R,S);let ap=S['text']['position'],aq=a['Camera']['world2ScreenWithMatrix'](a['Camera']['matMVP'],new b['Vector3']()['copy'](ap)),ar=ao['width']+S['style']['border']['offset']*0x2,as=ao['height']*S['text']['value']['length']+S['style']['border']['offset']*0x2;if(0x0){let at=aq['x']-S['style']['border']['offset'],au=aq['y']-S['style']['border']['offset'];a['Renderer']['Util']['SetReviewBgOption'](R,S);if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,at,au,ar,as,S['style']['background']['enable'],S['style']['border']['enable']);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect'](R,at,au,ar,as,S['style']['border']['round'],S['style']['background']['enable'],S['style']['border']['enable']);}S['rect']=[],S['rect'][0x0]=new b['Rect'](at,au,at+ar,au+as);}else{let av=aq['x']-S['style']['border']['offset'],aw=aq['y']-S['style']['border']['offset'];S['rect']=[],S['rect'][0x0]=new b['Rect'](av,aw,av+ar,aw+as);}R['fillStyle']='rgba('+S['style']['font']['color']['r']+','+S['style']['font']['color']['g']+','+S['style']['font']['color']['b']+','+S['style']['font']['color']['glAlpha']()+')';for(let ax=0x0;ax<S['text']['value']['length'];ax++){R['fillText'](S['text']['value'][ax],aq['x'],aq['y']+(ao['ascent']*ax+ao['ascent']+S['style']['border']['offset']*ax));}}break;}!T&&(S['rect']=[],S['rect'][0x0]=new b['Rect'](U['x'],V['y'],V['x'],U['y']));}function j(R,S,T,U,V){let W=new b['Vector2']();S['action']!==undefined&&(W['copy'](S['action']['text']['offset']),W['x']*=a['Camera']['clientWidth'],W['y']*=a['Camera']['clientHeight']*-0x1);a['Renderer']['Util']['SetReviewFontOption'](R,S);let X=Z=>{let a0=[],a1=()=>{let a4={'text':'','color':undefined,'offset':0x0};return a4;},a2=undefined,a3=(Z['match'](/<fa/g)||[])['length'];if(a3>0x0){let a4=Z['split']('</fa>'),a5='';for(let a6=0x0;a6<a4['length'];a6++){let a7=a4[a6],a8=Z['indexOf']('<fa'),a9=a7['indexOf']('>'),aa=a7['length'],ab=a7['substring'](a9+0x1,aa),ac=a7['substring'](a8,a9);ac=ac['replace']('<fa\x20style=',''),ac=ac['replace']('color:rgb',''),ac=ac['replaceAll']('\x22',''),ac=ac['replaceAll']('(',''),ac=ac['replaceAll'](')',''),ac=ac['trim']();let ad=ac['split'](',');a5+=ab;let ae=a1();ae['text']=ab,ae['color']='rgba('+ad[0x0]+','+ad[0x1]+','+ad[0x2]+','+0x1+')',a2===undefined?(a2=R['measureText'](a5),ae['offset']=0x0):(a2=R['measureText'](a0[a6-0x1]['text']),ae['offset']=a0[a6-0x1]['offset']+a2['width']),a0['push'](ae);}}return a0;},Y=function(Z,a0){let a1=X(Z);if(a1['length']===0x0)R['fillText'](Z,T+W['x'],U+W['y']+(V['ascent']*a0+V['ascent']+S['style']['border']['offset']*a0));else for(let a2=0x0;a2<a1['length'];a2++){let a3=a1[a2];R['fillStyle']=a3['color'],R['fillText'](a3['text'],T+W['x']+a3['offset'],U+W['y']+(V['ascent']*a0+V['ascent']+S['style']['border']['offset']*a0));}};for(let Z=0x0;Z<S['text']['value']['length'];Z++){Y(S['text']['value'][Z],Z);}}function k(R,S){if(S['text']['value']['length']===0x0)return;if(S['text']['position']===undefined)return;let T=new b['Vector3']()['copy'](S['text']['position']),U=[];U[0x0]=new b['Vector3']()['copy'](S['drawitem']['position'][0x0]);let V=new b['Vector3'](),W=new b['Vector3']();S['action']!==undefined&&(T=S['action']['text']['transform']['multiplyVector'](T),V['copy'](S['action']['text']['offset']),V['x']*=a['Camera']['clientWidth'],V['y']*=a['Camera']['clientHeight']*-0x1,U[0x0]=S['action']['drawitem']['transform']['multiplyVector'](U[0x0]),W['copy'](S['action']['drawitem']['offset']),W['x']*=a['Camera']['clientWidth'],W['y']*=a['Camera']['clientHeight']*-0x1);a['Renderer']['Util']['SetReviewFontOption'](R,S);const X=a['Renderer']['Util']['GetTextMetrics'](R,S),Y=new b['Matrix4']()['copy'](a['Camera']['matMVP']);let Z=a['Renderer']['Util']['GetScreenPositionByMatrix'](Y,T);if(S['tag']===undefined){if(S['text']['value'][0x0]==='')return;let a2=a['Renderer']['Util']['GetScreenPositionByMatrix'](Y,U[0x0]);a['Renderer']['Util']['SetReviewArrowOption'](R,S),a['Renderer']['Util']['DrawArrow'](R,a2['x']+W['x'],a2['y']+W['y'],Z['x']+W['x'],Z['y']+W['y'],S['style']['arrow']['size']),S['style']['point']['enable']&&(a['Renderer']['Util']['SetReviewPointOption'](R,S),a['Renderer']['Util']['DrawPoint'](R,a2['x']+W['x'],a2['y']+W['y'],S['style']['point']['size']));}else{let a3=a['Renderer']['Util']['GetScreenPositionByMatrix'](Y,U[0x0]);S['text']['value'][0x0]!==''&&(a['Renderer']['Util']['SetReviewArrowOption'](R,S),a['Renderer']['Util']['DrawLine'](R,a3['x']+W['x'],a3['y']+W['y'],Z['x']+W['x'],Z['y']+W['y']));R['fillStyle']='rgba('+S['tag']['style']['background']['color']['r']+','+S['tag']['style']['background']['color']['g']+','+S['tag']['style']['background']['color']['b']+','+S['tag']['style']['background']['color']['glAlpha']()+')',a['Renderer']['Util']['DrawPoint'](R,a3['x']+W['x'],a3['y']+W['y'],S['tag']['radius']),R['font']=S['tag']['style']['font']['size']+'pt\x20'+S['tag']['style']['font']['face'],R['fillStyle']='rgba('+S['tag']['style']['font']['color']['r']+','+S['tag']['style']['font']['color']['g']+','+S['tag']['style']['font']['color']['b']+','+S['tag']['style']['font']['color']['glAlpha']()+')';{const a4=a['Renderer']['Util']['GetTextMetricsByFont'](R,S['tag']['text'],S['tag']['style']['font']);let a5=a4['width'],a6=a4['height'],a7=a3['x']-a5*0.5,a8=a3['y']-a6*0.5;R['fillText'](S['tag']['text'],a7+W['x'],a8+W['y']+a4['ascent']);}}if(S['text']['value'][0x0]==='')return;let a0=X['width']+S['style']['border']['offset']*0x2,a1=X['height']*S['text']['value']['length']+S['style']['border']['offset']*0x2;Z['x']-=a0*0.5,Z['y']-=a1*0.5;{let a9=Z['x']-S['style']['border']['offset']+V['x'],aa=Z['y']-S['style']['border']['offset']+V['y'];a['Renderer']['Util']['SetReviewBgOption'](R,S);if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,a9,aa,a0,a1,S['style']['background']['enable'],S['style']['border']['enable']);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect'](R,a9,aa,a0,a1,S['style']['border']['round'],S['style']['background']['enable'],S['style']['border']['enable']);}S['rect']=[],S['rect'][0x0]=new b['Rect'](a9,aa,a9+a0,aa+a1);}{a['Renderer']['Util']['SetReviewFontOption'](R,S);if(![]){let ab=Z['x']+V['x'],ac=Z['y']+V['y'];R['save'](),R['translate'](ab+a0/0x2,ac+a1/0x2);let ad=0x37,ae=0x0,af=new b['Vector3'](0x1,0x0,0x0),ag=new b['Vector3'](-0x15c2c2,0x13a9ac,T['z']);af=new b['Vector3']()['subVectors'](ag,T)['normalize']();function ah(an,ao,ap,aq){let ar=Math['atan2'](aq-ao,ap-an);return ar*0xb4/Math['PI'];}let ai=new b['Matrix4']()['copy'](a['Camera']['matMV']);ai['setPosition'](new b['Vector3']());let aj=new b['Vector3']()['addVectors'](new b['Vector3']()['copy'](T),new b['Vector3']()['copy'](af)['multiplyScalar'](0x64)),ak=a['Renderer']['Util']['GetScreenPositionByMatrix'](Y,aj),al=new b['Vector3']()['copy'](T),am=a['Renderer']['Util']['GetScreenPositionByMatrix'](Y,al);ae=ah(am['x'],am['y'],ak['x'],ak['y']),R['rotate'](Math['PI']/0xb4*ae);for(let an=0x0;an<S['text']['value']['length'];an++){R['fillText'](S['text']['value'][an],V['x']-a0/0x2,V['y']+(X['ascent']*an+X['ascent']+S['style']['border']['offset']*an)-a1/0x2);}R['restore']();}else j(R,S,Z['x'],Z['y'],X);}}function l(R,S){if(S['text']['value']['length']===0x0)return;if(S['text']['position']===undefined)return;let T=new b['Vector3']()['copy'](S['text']['position']),U=new b['Vector2']();S['action']!==undefined&&(U['copy'](S['action']['text']['offset']),U['x']*=a['Camera']['clientWidth'],U['y']*=a['Camera']['clientHeight']*-0x1);R['font']=S['style']['font']['size']+'pt\x20'+S['style']['font']['face'];S['style']['background']['enable']?R['fillStyle']='rgba('+S['style']['background']['color']['r']+','+S['style']['background']['color']['g']+','+S['style']['background']['color']['b']+','+S['style']['background']['color']['glAlpha']()+')':R['fillStyle']='rgba('+S['style']['background']['color']['r']+','+S['style']['background']['color']['g']+','+S['style']['background']['color']['b']+','+0x0+')';S['style']['border']['enable']?(R['strokeStyle']='rgba('+S['style']['border']['color']['r']+','+S['style']['border']['color']['g']+','+S['style']['border']['color']['b']+','+S['style']['border']['color']['glAlpha']()+')',R['lineWidth']=S['style']['border']['thickness']):(R['strokeStyle']='rgba('+S['style']['border']['color']['r']+','+S['style']['border']['color']['g']+','+S['style']['border']['color']['b']+','+0x0+')',R['lineWidth']=S['style']['border']['thickness']);const V=a['Renderer']['Util']['GetTextMetrics'](R,S);let W=new b['Vector3']()['copy'](T),X=V['width']+S['style']['border']['offset']*0x2,Y=V['height']*S['text']['value']['length']+S['style']['border']['offset']*0x2;W['x']-=X*0.5,W['y']-=Y*0.5;{let Z=W['x']-S['style']['border']['offset']+U['x'],a0=W['y']-S['style']['border']['offset']+U['y'];a['Renderer']['Util']['SetReviewBgOption'](R,S);if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,Z,a0,X,Y,S['style']['background']['enable'],S['style']['border']['enable']);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect'](R,Z,a0,X,Y,S['style']['border']['round'],S['style']['background']['enable'],S['style']['border']['enable']);}S['rect']=[],S['rect'][0x0]=new b['Rect'](Z,a0,Z+X,a0+Y);}j(R,S,W['x'],W['y'],V);}function m(R,S){if(S['text']['value']['length']===0x0)return;if(S['text']['position']===undefined)return;let T=new b['Vector3']()['copy'](S['text']['position']),U=new b['Vector3']();S['action']!==undefined&&(T=S['action']['text']['transform']['multiplyVector'](T),U['copy'](S['action']['text']['offset']),U['x']*=a['Camera']['clientWidth'],U['y']*=a['Camera']['clientHeight']*-0x1);a['Renderer']['Util']['SetReviewFontOption'](R,S);const V=a['Renderer']['Util']['GetTextMetrics'](R,S),W=new b['Matrix4']()['copy'](a['Camera']['matMVP']);let X=a['Renderer']['Util']['GetScreenPositionByMatrix'](W,T),Y=new b['Vector2']()['copy'](X),Z=V['width']+S['style']['border']['offset']*0x2,a0=V['height']*S['text']['value']['length']+S['style']['border']['offset']*0x2;X['x']-=Z*0.5,X['y']-=a0*0.5;{let a1=X['x']-S['style']['border']['offset']+U['x'],a2=X['y']-S['style']['border']['offset']+U['y'];if(S['icon']['image']!==undefined){if(S['icon']['align']===b['Enum']['ALIGN']['TOP_LEFT']||S['icon']['align']===b['Enum']['ALIGN']['MIDDLE_LEFT']||S['icon']['align']===b['Enum']['ALIGN']['BOTTOM_LEFT'])a1-=S['icon']['size']+S['icon']['offset']*0x2,Z+=S['icon']['size']+S['icon']['offset']*0x2;else(S['icon']['align']===b['Enum']['ALIGN']['TOP_RIGHT']||S['icon']['align']===b['Enum']['ALIGN']['MIDDLE_RIGHT']||S['icon']['align']===b['Enum']['ALIGN']['BOTTOM_RIGHT'])&&(Z+=S['icon']['size']+S['icon']['offset']*0x2);}a['Renderer']['Util']['SetReviewBgOption'](R,S);if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,a1,a2,Z,a0,S['style']['background']['enable'],S['style']['border']['enable']);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect'](R,a1,a2,Z,a0,S['style']['border']['round'],S['style']['background']['enable'],S['style']['border']['enable']);}S['rect']=[],S['rect'][0x0]=new b['Rect'](a1,a2,a1+Z,a2+a0);if(S['icon']['image']!==undefined){let a3=S['icon']['size'],a4=S['icon']['size'];if(a3<=0x0)a3=S['icon']['image']['width'];if(a4<=0x0)a4=S['icon']['image']['height'];let a5=X['x']-S['style']['border']['offset']+U['x'],a6=X['y']-S['style']['border']['offset']+U['y'],a7=0x0,a8=0x0,a9=a5-S['icon']['offset']-S['icon']['size']+S['style']['border']['offset'],aa=a6+S['icon']['offset'];switch(S['icon']['align']){case b['Enum']['ALIGN']['TOP_LEFT']:{}break;case b['Enum']['ALIGN']['MIDDLE_LEFT']:{aa=a6+a0*0.5-a4/0x2;}break;case b['Enum']['ALIGN']['BOTTOM_LEFT']:{aa=a6+a0-a4-S['icon']['offset'];}break;case b['Enum']['ALIGN']['TOP_RIGHT']:{a9+=Z+S['icon']['offset']*0x4-S['icon']['size'];}break;case b['Enum']['ALIGN']['MIDDLE_RIGHT']:{a9+=Z+S['icon']['offset']*0x4-S['icon']['size'],aa=a6+a0*0.5-a4/0x2;}break;case b['Enum']['ALIGN']['BOTTOM_RIGHT']:{a9+=Z+S['icon']['offset']*0x4-S['icon']['size'],aa=a6+a0-a4-S['icon']['offset'];}break;}R['drawImage'](S['icon']['image'],a9,aa,a3,a4),S['icon']['rect']['x']=a9-Y['x'],S['icon']['rect']['y']=aa-Y['y'],S['icon']['rect']['width']=a3,S['icon']['rect']['height']=a4;}}a['Renderer']['Util']['SetReviewFontOption'](R,S),j(R,S,X['x'],X['y'],V);}function n(R,S){if(S['text']['value']['length']===0x0)return;if(S['text']['position']===undefined)return;let T=new b['Vector3']()['copy'](S['text']['position']),U=new b['Vector3']();S['action']!==undefined&&(T=S['action']['text']['transform']['multiplyVector'](T),U['copy'](S['action']['text']['offset']),U['x']*=a['Camera']['clientWidth'],U['y']*=a['Camera']['clientHeight']*-0x1);a['Renderer']['Util']['SetReviewFontOption'](R,S);const V=a['Renderer']['Util']['GetTextMetricsByFont'](R,S['text']['value'],S['style']['font']),W=new b['Matrix4']()['copy'](a['Camera']['matMVP']);let X=a['Renderer']['Util']['GetScreenPositionByMatrix'](W,T),Y=new b['Vector2']()['copy'](X),Z=V['width']+S['style']['border']['offset']*0x2,a0=undefined;if(S['header']['text']['value']['length']>0x0){a0=a['Renderer']['Util']['GetTextMetricsByFont'](R,S['header']['text']['value'],S['header']['style']['font']);if(V['width']<a0['width'])Z=a0['width']+S['style']['border']['offset']*0x2;}S['header']['icon']['image']!==undefined&&(Z+=S['header']['icon']['size']+S['header']['icon']['offset']*0x2);let a1=V['height']*S['text']['value']['length']+S['style']['border']['offset']*0x2;a1+=S['header']['height'],X['x']-=Z*0.5,X['y']-=a1*0.5;{!![]&&(R['shadowColor']='rgba(0,\x200,\x200,\x200.1)',R['shadowOffsetX']=0x4,R['shadowOffsetY']=0x4,R['shadowBlur']=0x2);let a4=X['x']-S['style']['border']['offset']+U['x'],a5=X['y']-S['style']['border']['offset']+U['y'];a['Renderer']['Util']['SetReviewBgOption'](R,S);if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,a4,a5,Z,a1,S['style']['background']['enable'],S['style']['border']['enable']);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect'](R,a4,a5,Z,a1,S['style']['border']['round'],S['style']['background']['enable'],S['style']['border']['enable']);}!![]&&(R['shadowOffsetX']=0x0,R['shadowOffsetY']=0x0,R['shadowBlur']=0x0);}R['fillStyle']='rgba('+S['style']['font']['color']['r']+','+S['style']['font']['color']['g']+','+S['style']['font']['color']['b']+','+S['style']['font']['color']['glAlpha']()+')';let a2=a['Renderer']['Util']['GetTextSizeByFont'](R,S['text']['value'],S['style']['font']);for(let a6=0x0;a6<S['text']['value']['length'];a6++){if(Array['isArray'](S['text']['value'][a6])){let a7=S['text']['value'][a6],a8='\x20',a9=0x0,aa=X['x']+U['x'];for(let ad=0x0;ad<a7['length'];ad++){let ae=a7[ad],af=0x0;ad!==0x0&&(af=a2[ad-0x1]);let ag=a9+af+X['x']+U['x'],ah=X['y']+U['y']+S['header']['height']+(V['ascent']*a6+V['ascent']+S['style']['border']['offset']*a6);R['fillText'](ae,ag,ah),a9+=af;}let ab=X['y']+U['y']+S['header']['height']+(V['ascent']*a6+V['ascent']+S['style']['border']['offset']*a6)+0x2;a['Renderer']['Util']['DrawLine'](R,X['x'],ab,X['x']+Z,ab);let ac=0x0;for(let ai=0x0;ai<a2['length']-0x1;ai++){let aj=ac+a2[ai]+X['x']-S['style']['border']['offset'];a['Renderer']['Util']['DrawLine'](R,aj,X['y']+U['y']+S['header']['height']-S['style']['border']['offset'],aj,ab),ac+=a2[ai];}}else R['fillText'](S['text']['value'][a6],X['x']+U['x'],X['y']+U['y']+S['header']['height']+(V['ascent']*a6+V['ascent']+S['style']['border']['offset']*a6));}{let ak=X['x']-S['style']['border']['offset']+U['x'],al=X['y']-S['style']['border']['offset']+U['y'];S['header']['style']['background']['enable']?R['fillStyle']='rgba('+S['header']['style']['background']['color']['r']+','+S['header']['style']['background']['color']['g']+','+S['header']['style']['background']['color']['b']+','+S['header']['style']['background']['color']['glAlpha']()+')':R['fillStyle']='rgba('+S['header']['style']['background']['color']['r']+','+S['header']['style']['background']['color']['g']+','+S['header']['style']['background']['color']['b']+','+0x0+')';if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,ak,al,Z,S['header']['height'],S['style']['background']['enable'],![]);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect_Custom'](R,ak,al,Z,S['header']['height'],S['style']['border']['round'],S['style']['background']['enable'],S['style']['border']['enable'],!![],!![],![],![]);}}let a3=S['header']['style']['font']['bold']?'bold\x20':'';R['font']=a3+S['header']['style']['font']['size']+'pt\x20'+S['header']['style']['font']['face'],R['fillStyle']='rgba('+S['header']['style']['font']['color']['r']+','+S['header']['style']['font']['color']['g']+','+S['header']['style']['font']['color']['b']+','+S['header']['style']['font']['color']['glAlpha']()+')';for(let am=0x0;am<S['header']['text']['value']['length'];am++){R['fillText'](S['header']['text']['value'][am],X['x']+U['x'],X['y']+U['y']+(a0['ascent']*am+a0['ascent']+S['style']['border']['offset']*am));}if(S['header']['icon']['image']!==undefined){let an=S['header']['icon']['size'],ao=S['header']['icon']['size'];if(an<=0x0)an=S['header']['icon']['image']['width'];if(ao<=0x0)ao=S['header']['icon']['image']['height'];let ap=X['x']-S['style']['border']['offset']+U['x'],aq=X['y']-S['style']['border']['offset']+U['y'],ar=Z-S['header']['icon']['size']-S['header']['icon']['offset']+ap,as=aq+S['header']['icon']['offset'];R['drawImage'](S['header']['icon']['image'],ar,as,an,ao),S['header']['icon']['rect']['x']=ar-Y['x'],S['header']['icon']['rect']['y']=as-Y['y'],S['header']['icon']['rect']['width']=an,S['header']['icon']['rect']['height']=ao;}}function o(R,S,T){a['Renderer']['Util']['DrawText2D'](a['ctx_review'],R,S,T);}function p(R,S){if(S['text']['value']['length']===0x0)return;if(S['text']['position']===undefined)return;a['Renderer']['Util']['SetReviewFontOption'](R,S);const T=a['Renderer']['Util']['GetTextMetrics'](R,S),U=new b['Matrix4']()['copy'](a['Camera']['matMVP']);let V=new b['Vector3']()['copy'](S['text']['position']),W=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,V),X=T['width']+S['style']['border']['offset']*0x2,Y=T['height']*S['text']['value']['length']+S['style']['border']['offset']*0x2;W['y']-=Y*0.5;{let Z=W['x']-S['style']['border']['offset'],a0=W['y']-S['style']['border']['offset'];a['Renderer']['Util']['SetReviewBgOption'](R,S),a['Renderer']['Util']['DrawToolTipRoundRect'](R,Z,a0,X,Y,S['style']['border']['round'],S['style']['background']['enable'],S['style']['border']['enable']);}{a['Renderer']['Util']['SetReviewFontOption'](R,S);for(let a1=0x0;a1<S['text']['value']['length'];a1++){R['fillText'](S['text']['value'][a1],W['x'],W['y']+(T['ascent']*a1+T['ascent']+S['style']['border']['offset']*a1));}}}function q(R,S){if(S['drawitem']['custom']===undefined)return;let T=new b['Vector3']()['copy'](S['text']['position']),U=[];U[0x0]=new b['Vector3']()['copy'](S['drawitem']['position'][0x0]);let V=new b['Vector3'](),W=new b['Vector3'](),X=0x1;if(a['Renderer']['useNoteEffect']==!![]&&S['drawitem']['custom']['effect']!==undefined&&S['drawitem']['custom']['effect']['use']){X=0x4;let Y='rgba(255,\x200,\x200,\x201.0)';S['drawitem']['custom']['effect']['color']!==undefined&&(Y='rgba('+S['drawitem']['custom']['effect']['color']['r']+','+S['drawitem']['custom']['effect']['color']['g']+','+S['drawitem']['custom']['effect']['color']['b']+','+S['drawitem']['custom']['effect']['color']['glAlpha']()+')');R['shadowColor']=Y,R['shadowOffsetX']=0x0,R['shadowOffsetY']=0x0;if(S['drawitem']['custom']['effectVal']===undefined)S['drawitem']['custom']['effectVal']=0x0;else{S['drawitem']['custom']['effectVal']+=0.5;if(S['drawitem']['custom']['effectVal']>0x14)S['drawitem']['custom']['effectVal']=0x0;}R['shadowBlur']=S['drawitem']['custom']['effectVal'];}for(let Z=0x0;Z<X;Z++){S['action']!==undefined&&(V['copy'](S['action']['text']['offset']),V['x']*=a['Camera']['clientWidth'],V['y']*=a['Camera']['clientHeight']*-0x1,U[0x0]=S['action']['drawitem']['transform']['multiplyVector'](U[0x0]),W['copy'](S['action']['drawitem']['offset']),W['x']*=a['Camera']['clientWidth'],W['y']*=a['Camera']['clientHeight']*-0x1);const a0=new b['Matrix4']()['copy'](a['Camera']['matMVP']);let a1=a['Renderer']['Util']['GetScreenPositionByMatrix'](a0,new b['Vector3']()['copy'](U[0x0])),a2=0x0,a3=0x0,a4=0x0,a5=0x0;if(S['drawitem']['custom']['image']!==undefined){a2=S['drawitem']['custom']['size']['x'],a3=S['drawitem']['custom']['size']['y'];if(a2<=0x0)a2=S['drawitem']['custom']['image']['width'];if(a3<=0x0)a3=S['drawitem']['custom']['image']['height'];switch(S['drawitem']['custom']['align']){case 0x1:break;case 0x2:{a1['x']=a1['x']-a2/0x2;}break;case 0x3:break;case 0x4:break;case 0x6:break;case 0x7:break;case 0x8:{a1['x']=a1['x']-a2/0x2,a1['y']=a1['y']-a3;}break;case 0x9:break;default:{a1['x']=a1['x']-a2/0x2,a1['y']=a1['y']-a3/0x2;}break;}if(S['drawitem']['custom']['offset']!==undefined){a4=S['drawitem']['custom']['offset']['x'],a5=S['drawitem']['custom']['offset']['y'];if(S['style']['border']['offset_x']!==undefined)a4+=S['style']['border']['offset_x'];}}if(S['text']['value']['length']!==0x0){a['Renderer']['Util']['SetReviewFontOption'](R,S);const a6=a['Renderer']['Util']['GetTextMetrics'](R,S);let a7=new b['Vector2'](a1['x']+T['x'],a1['y']+T['y']),a8=a6['width']+S['style']['border']['offset']*0x2,a9=a6['height']*S['text']['value']['length']+S['style']['border']['offset']*0x2;S['drawitem']['custom']['image']!==undefined&&(a8+=a2+a4);if(S['style']['border']['offset_x']!==undefined)a8+=S['style']['border']['offset_x'];if(S['style']['border']['offset_y']!==undefined)a9+=S['style']['border']['offset_y'];{a7['x']-=a8*0.5,a7['y']-=a9*0.5;}if(S['style']['border']['fixed']){let aa=a7['x']-S['style']['border']['offset']+V['x'],ab=a7['y']-S['style']['border']['offset']+V['y'];a['Renderer']['Util']['SetReviewBgOption'](R,S);if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,aa,ab,a8,a9,S['style']['background']['enable'],S['style']['border']['enable']);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect'](R,aa,ab,a8,a9,S['style']['border']['round'],S['style']['background']['enable'],S['style']['border']['enable']);}}else{let ac=a7['x']-S['style']['border']['offset']+V['x'],ad=a7['y']-S['style']['border']['offset']+V['y'];a['Renderer']['Util']['SetReviewBgOption'](R,S);if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,ac,ad,a8,a9,S['style']['background']['enable'],S['style']['border']['enable']);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect'](R,ac,ad,a8,a9,S['style']['border']['round'],S['style']['background']['enable'],S['style']['border']['enable']);}}if(S['drawitem']['custom']['image']!==undefined){let ae=a1['x']+W['x']+a4-a8*0.5-S['style']['border']['offset'],af=a1['y']+W['y']+a5-a9*0.5+a3/0x2;if(S['style']['border']['fixed'])R['drawImage'](S['drawitem']['custom']['image'],ae,af,a2,a3);else R['drawImage'](S['drawitem']['custom']['image'],a1['x']+W['x'],a1['y']+W['y'],a2,a3);;}{a['Renderer']['Util']['SetReviewFontOption'](R,S);let ag=0x0,ah=0x0;if(S['text']['offset_x']!==undefined)ag=S['text']['offset_x'];if(S['text']['offset_y']!==undefined)ah=S['text']['offset_y'];for(let ai=0x0;ai<S['text']['value']['length'];ai++){R['fillText'](S['text']['value'][ai],a7['x']+V['x']+ag+a4,a7['y']+V['y']+ah+(a6['ascent']*ai+a6['ascent']+S['style']['border']['offset']/0x2));}}}}S['drawitem']['custom']['effect']&&(R['shadowOffsetX']=0x0,R['shadowOffsetY']=0x0,R['shadowBlur']=0x0);}function r(R,S){if(S['text']['value']['length']===0x0)return;let T=new b['Vector3']()['copy'](S['text']['position']),U=[];U[0x0]=new b['Vector3']()['copy'](S['drawitem']['position'][0x0]);let V=new b['Vector3'](),W=new b['Vector3']();a['Renderer']['Util']['SetReviewFontOption'](R,S);const X=a['Renderer']['Util']['GetTextMetrics'](R,S),Y=new b['Matrix4']()['copy'](a['Camera']['matMVP']);let Z=a['Renderer']['Util']['GetScreenPositionByMatrix'](Y,S['text']['position']);{let a2=a['Renderer']['Util']['GetScreenPositionByMatrix'](Y,U[0x0]);a['Renderer']['Util']['SetReviewArrowOption'](R,S),a['Renderer']['Util']['DrawArrow'](R,a2['x']+W['x'],a2['y']+W['y'],Z['x']+W['x'],Z['y']+W['y'],S['style']['arrow']['size']),S['style']['point']['enable']&&(a['Renderer']['Util']['SetReviewPointOption'](R,S),a['Renderer']['Util']['DrawPoint'](R,a2['x']+W['x'],a2['y']+W['y'],S['style']['point']['size']));}let a0=X['width']+S['style']['border']['offset']*0x2,a1=X['height']*S['text']['value']['length']+S['style']['border']['offset']*0x2;Z['x']-=a0*0.5,Z['y']-=a1*0.5;{let a3=Z['x']-S['style']['border']['offset']+V['x'],a4=Z['y']-S['style']['border']['offset']+V['y'];a['Renderer']['Util']['SetReviewBgOption'](R,S);if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,a3,a4,a0,a1,S['style']['background']['enable'],S['style']['border']['enable']);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect'](R,a3,a4,a0,a1,S['style']['border']['round'],S['style']['background']['enable'],S['style']['border']['enable']);}S['rect']=[],S['rect'][0x0]=new b['Rect'](a3,a4,a3+a0,a4+a1);}{a['Renderer']['Util']['SetReviewFontOption'](R,S);for(let a5=0x0;a5<S['text']['value']['length'];a5++){R['fillText'](S['text']['value'][a5],Z['x']+V['x'],Z['y']+V['y']+(X['ascent']*a5+X['ascent']+S['style']['border']['offset']*a5));}}}function s(R,S){if(S['text']['value']['length']===0x0)return;a['Renderer']['Util']['SetReviewFontOption'](R,S);const T=a['Renderer']['Util']['GetTextMetrics'](R,S),U=new b['Matrix4']()['copy'](a['Camera']['matMVP']);let V=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['text']['position']),W=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],S['drawitem']['position'][0x1]);W['x']/=0x2,W['y']/=0x2,W['z']/=0x2;let X=new b['Vector3']()['subVectors'](S['text']['position'],W),Y=[];Y[0x0]=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],X),Y[0x1]=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x1],X);{let a1=[];for(let a2=0x0;a2<0x2;a2++){let a3=S['drawitem']['position'][0x0];if(a2==0x1)a3=Y[0x0];let a4=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,a3);a1[a2]=a4;}a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawLine'](R,a1[0x0]['x'],a1[0x0]['y'],a1[0x1]['x'],a1[0x1]['y']),S['style']['point']['enable']&&(a['Renderer']['Util']['SetReviewPointOption'](R,S),a['Renderer']['Util']['DrawPoint'](R,a1[0x0]['x'],a1[0x0]['y'],S['style']['point']['size']));}{let a5=[];for(let a6=0x0;a6<0x2;a6++){let a7=S['drawitem']['position'][0x1];if(a6===0x1)a7=Y[0x1];let a8=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,a7);a5[a6]=a8;}a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawLine'](R,a5[0x0]['x'],a5[0x0]['y'],a5[0x1]['x'],a5[0x1]['y']),S['style']['point']['enable']&&(a['Renderer']['Util']['SetReviewPointOption'](R,S),a['Renderer']['Util']['DrawPoint'](R,a5[0x0]['x'],a5[0x0]['y'],S['style']['point']['size']));}a['Renderer']['Util']['SetReviewArrowOption'](R,S);{let a9=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,Y[0x0]);a['Renderer']['Util']['DrawArrow'](R,a9['x'],a9['y'],V['x'],V['y'],S['style']['arrow']['size']);}{let aa=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,Y[0x1]);a['Renderer']['Util']['DrawArrow'](R,aa['x'],aa['y'],V['x'],V['y'],S['style']['arrow']['size']);}let Z=T['width']+S['style']['border']['offset']*0x2,a0=T['height']*S['text']['value']['length']+S['style']['border']['offset']*0x2;V['x']-=Z*0.5,V['y']-=a0*0.5;{let ab=V['x']-S['style']['border']['offset'],ac=V['y']-S['style']['border']['offset'];a['Renderer']['Util']['SetReviewBgOption'](R,S);if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,ab,ac,Z,a0,S['style']['background']['enable'],S['style']['border']['enable']);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect'](R,ab,ac,Z,a0,S['style']['border']['round'],S['style']['background']['enable'],S['style']['border']['enable']);}}{a['Renderer']['Util']['SetReviewFontOption'](R,S);for(let ad=0x0;ad<S['text']['value']['length'];ad++){R['fillText'](S['text']['value'][ad],V['x'],V['y']+(T['ascent']*ad+T['ascent']+S['style']['border']['offset']*ad));}}}function t(R,S){if(S['text']['value']['length']===0x0)return;const T=new b['Matrix4']()['copy'](a['Camera']['matMVP']);let U=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],S['drawitem']['position'][0x1]);U['x']/=0x2,U['y']/=0x2,U['z']/=0x2;let V=new b['Vector3']()['subVectors'](S['text']['position'],U),W=[];W[0x0]=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],V),W[0x1]=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x1],V);{let Z=[];Z[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](T,S['drawitem']['position'][0x0]),Z[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](T,W[0x0]),a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawLine'](R,Z[0x0]['x'],Z[0x0]['y'],Z[0x1]['x'],Z[0x1]['y']),S['style']['point']['enable']&&(a['Renderer']['Util']['SetReviewPointOption'](R,S),a['Renderer']['Util']['DrawPoint'](R,Z[0x0]['x'],Z[0x0]['y'],S['style']['point']['size']));}{let a0=[];a0[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](T,S['drawitem']['position'][0x1]),a0[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](T,W[0x1]),a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawLine'](R,a0[0x0]['x'],a0[0x0]['y'],a0[0x1]['x'],a0[0x1]['y']),S['style']['point']['enable']&&(a['Renderer']['Util']['SetReviewPointOption'](R,S),a['Renderer']['Util']['DrawPoint'](R,a0[0x0]['x'],a0[0x0]['y'],S['style']['point']['size']));}if(S['drawitem']['axis']){let a1=[],a2=[0xa,0xa];a1[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](T,S['drawitem']['position'][0x0]),a1[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](T,new b['Vector3'](S['drawitem']['position'][0x1]['x'],S['drawitem']['position'][0x0]['y'],S['drawitem']['position'][0x0]['z'])),a1[0x2]=a['Renderer']['Util']['GetScreenPositionByMatrix'](T,new b['Vector3'](S['drawitem']['position'][0x1]['x'],S['drawitem']['position'][0x1]['y'],S['drawitem']['position'][0x0]['z'])),a1[0x3]=a['Renderer']['Util']['GetScreenPositionByMatrix'](T,S['drawitem']['position'][0x1]);for(let a3=0x0;a3<0x3;a3++){a['Renderer']['Util']['SetReviewAxisLineOption'](R,S,a3),a['Renderer']['Util']['DrawLineDash'](R,a1[a3]['x'],a1[a3]['y'],a1[a3+0x1]['x'],a1[a3+0x1]['y'],a2);}}let X=new b['Vector2'](),Y=[];{let a4=d();a['Renderer']['Util']['SetReviewFontOption'](R,S);const a5=a['Renderer']['Util']['GetTextMetrics'](R,S);let a6=a['Renderer']['Util']['GetScreenPositionByMatrix'](T,S['text']['position']);X['set'](a6['x'],a6['y']);let a7=a5['width']+S['style']['border']['offset']*0x2,a8=a5['height']*S['text']['value']['length']+S['style']['border']['offset']*0x2;a6['x']-=a7*0.5,a6['y']-=a8*0.5;{let a9=a6['x']-S['style']['border']['offset'],aa=a6['y']-S['style']['border']['offset'];a4['rect']['set'](a9,aa,a9+a7,aa+a8);}{for(let ab=0x0;ab<S['text']['value']['length'];ab++){a4['position'][ab]=new b['Vector2'](a6['x'],a6['y']+(a5['ascent']*ab+a5['ascent']+S['style']['border']['offset']*ab)),a4['text'][ab]=S['text']['value'][ab];}}Y[0x0]=a4;}if(S['drawitem']['axis']){let ac=[];ac[0x0]=S['drawitem']['position'][0x0],ac[0x1]=new b['Vector3'](S['drawitem']['position'][0x1]['x'],S['drawitem']['position'][0x0]['y'],S['drawitem']['position'][0x0]['z']),ac[0x2]=new b['Vector3'](S['drawitem']['position'][0x1]['x'],S['drawitem']['position'][0x1]['y'],S['drawitem']['position'][0x0]['z']),ac[0x3]=S['drawitem']['position'][0x1],a['Renderer']['Util']['SetReviewFontOption'](R,S);for(let ae=0x0;ae<0x3;ae++){let af=d(),ag=new b['Vector3']()['addVectors'](ac[ae],ac[ae+0x1]);ag['x']*=0.5,ag['y']*=0.5,ag['z']*=0.5;let ah=a['Renderer']['Util']['GetScreenPositionByMatrix'](T,ag),ai;if(ae===0x0)ai=b['Enum']['REVIEW_TYPES']['RK_MEASURE_X_AXIS_DISTANCE'];else{if(ae===0x1)ai=b['Enum']['REVIEW_TYPES']['RK_MEASURE_Y_AXIS_DISTANCE'];else ai=b['Enum']['REVIEW_TYPES']['RK_MEASURE_Z_AXIS_DISTANCE'];}let aj=[S['drawitem']['position'][0x0],S['drawitem']['position'][0x1]],ak=[];a['Measure']['UpdateReviewTextByType'](ai,ak,aj);const al=a['Renderer']['Util']['GetTextMetricsByText'](R,ak,S['style']['font']['size']);let am=al['width']+S['style']['border']['offset']*0x2,an=al['height']*ak['length']+S['style']['border']['offset']*0x2;ah['x']-=am*0.5,ah['y']-=an*0.5;{let ao=ah['x']-S['style']['border']['offset'],ap=ah['y']-S['style']['border']['offset'];af['rect']['set'](ao,ap,ao+am,ap+an);}{for(let aq=0x0;aq<ak['length'];aq++){af['position'][aq]=new b['Vector2'](ah['x'],ah['y']+(al['ascent']*aq+al['ascent']+S['style']['border']['offset']*aq)),af['text'][aq]=ak[aq];}}Y[ae+0x1]=af;}let ad=![];for(let ar=0x0;ar<Y['length'];ar++){for(let as=0x0;as<Y['length'];as++){if(ar===as)continue;if(Y[ar]['rect']['isRectInRect'](Y[as]['rect'])){ad=!![];break;}}if(ad)break;}if(ad){let at=[],au=d();for(let az=0x0;az<Y['length'];az++){for(let aA=0x0;aA<Y[az]['text']['length'];aA++){au['text']['push'](Y[az]['text'][aA]);}}a['Renderer']['Util']['SetReviewFontOption'](R,S);const av=a['Renderer']['Util']['GetTextMetricsByText'](R,au['text'],S['style']['font']['size']);let aw=a['Renderer']['Util']['GetScreenPositionByMatrix'](T,S['text']['position']),ax=av['width']+S['style']['border']['offset']*0x2,ay=av['height']*au['text']['length']+S['style']['border']['offset']*0x2;aw['x']-=ax*0.5,aw['y']-=ay*0.5;{let aB=aw['x']-S['style']['border']['offset'],aC=aw['y']-S['style']['border']['offset'];au['rect']['set'](aB,aC,aB+ax,aC+ay);}{for(let aD=0x0;aD<au['text']['length'];aD++){au['position'][aD]=new b['Vector2'](aw['x'],aw['y']+(av['ascent']*aD+av['ascent']+S['style']['border']['offset']*aD));}}at[0x0]=au,Y=at;}}a['Renderer']['Util']['SetReviewArrowOption'](R,S);{let aE=a['Renderer']['Util']['GetScreenPositionByMatrix'](T,W[0x0]);a['Renderer']['Util']['DrawArrow'](R,aE['x'],aE['y'],X['x'],X['y'],S['style']['arrow']['size']);}{let aF=a['Renderer']['Util']['GetScreenPositionByMatrix'](T,W[0x1]);a['Renderer']['Util']['DrawArrow'](R,aF['x'],aF['y'],X['x'],X['y'],S['style']['arrow']['size']);}for(let aG=0x0;aG<Y['length'];aG++){{a['Renderer']['Util']['SetReviewBgOption'](R,S);if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,Y[aG]['rect']['left'],Y[aG]['rect']['top'],Y[aG]['rect']['right']-Y[aG]['rect']['left'],Y[aG]['rect']['bottom']-Y[aG]['rect']['top'],S['style']['background']['enable'],S['style']['border']['enable']);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect'](R,Y[aG]['rect']['left'],Y[aG]['rect']['top'],Y[aG]['rect']['right']-Y[aG]['rect']['left'],Y[aG]['rect']['bottom']-Y[aG]['rect']['top'],S['style']['background']['enable'],S['style']['border']['enable']);}}{a['Renderer']['Util']['SetReviewFontOption'](R,S);for(let aH=0x0;aH<Y[aG]['text']['length'];aH++){R['fillText'](Y[aG]['text'][aH],Y[aG]['position'][aH]['x'],Y[aG]['position'][aH]['y']);}}}S['rect']=[];for(let aI=0x0;aI<Y['length'];aI++){S['rect'][aI]=Y[aI]['rect'];}}function u(R,S){if(S['text']['value']['length']===0x0)return;a['Renderer']['Util']['SetReviewFontOption'](R,S);const T=a['Renderer']['Util']['GetTextMetrics'](R,S),U=new b['Matrix4']()['copy'](a['Camera']['matMVP']);let V=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['text']['position']);{let Z=[];for(let a0=0x0;a0<0x3;a0++){let a1=S['drawitem']['position'][a0],a2=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,a1);Z[a0]=a2;}a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawLine'](R,Z[0x0]['x'],Z[0x0]['y'],Z[0x1]['x'],Z[0x1]['y']),a['Renderer']['Util']['DrawLine'](R,Z[0x0]['x'],Z[0x0]['y'],Z[0x2]['x'],Z[0x2]['y']),S['style']['point']['enable']&&(a['Renderer']['Util']['SetReviewPointOption'](R,S),a['Renderer']['Util']['DrawPoint'](R,Z[0x0]['x'],Z[0x0]['y'],S['style']['point']['size']),a['Renderer']['Util']['DrawPoint'](R,Z[0x1]['x'],Z[0x1]['y'],S['style']['point']['size']),a['Renderer']['Util']['DrawPoint'](R,Z[0x2]['x'],Z[0x2]['y'],S['style']['point']['size']));}a['Renderer']['Util']['SetReviewArrowOption'](R,S);let W=a['Renderer']['Util']['DrawAngle'](R,S['drawitem']['position'][0x0],S['drawitem']['position'][0x1],S['drawitem']['position'][0x2],S['style']['arrow']['size'],![]);{a['Renderer']['Util']['SetReviewLineOption'](R,S);let a3=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,W);a['Renderer']['Util']['DrawLine'](R,a3['x'],a3['y'],V['x'],V['y']);}let X=T['width']+S['style']['border']['offset']*0x2,Y=T['height']*S['text']['value']['length']+S['style']['border']['offset']*0x2;V['x']-=X*0.5,V['y']-=Y*0.5;{let a4=V['x']-S['style']['border']['offset'],a5=V['y']-S['style']['border']['offset'];a['Renderer']['Util']['SetReviewBgOption'](R,S);if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,a4,a5,X,Y,S['style']['background']['enable'],S['style']['border']['enable']);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect'](R,a4,a5,X,Y,S['style']['border']['round'],S['style']['background']['enable'],S['style']['border']['enable']);}S['rect']=[],S['rect'][0x0]=new b['Rect'](a4,a5,a4+X,a5+Y);}{a['Renderer']['Util']['SetReviewFontOption'](R,S);for(let a6=0x0;a6<S['text']['value']['length'];a6++){R['fillText'](S['text']['value'][a6],V['x'],V['y']+(T['ascent']*a6+T['ascent']+S['style']['border']['offset']*a6));}}}function v(R,S){if(S['text']['value']['length']===0x0)return;const T=new b['Matrix4']()['copy'](a['Camera']['matMVP']);let U=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],S['drawitem']['position'][0x1]);U['x']/=0x2,U['y']/=0x2,U['z']/=0x2;let V=new b['Vector3']()['subVectors'](S['text']['position'],U),W=[];W[0x0]=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],V),W[0x1]=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x1],V);{let Z=[];Z[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](T,S['drawitem']['position'][0x0]),Z[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](T,W[0x0]),a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawLine'](R,Z[0x0]['x'],Z[0x0]['y'],Z[0x1]['x'],Z[0x1]['y']),S['style']['point']['enable']&&(a['Renderer']['Util']['SetReviewPointOption'](R,S),a['Renderer']['Util']['DrawPoint'](R,Z[0x0]['x'],Z[0x0]['y'],S['style']['point']['size']));}{let a0=[];a0[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](T,S['drawitem']['position'][0x1]),a0[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](T,W[0x1]),a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawLine'](R,a0[0x0]['x'],a0[0x0]['y'],a0[0x1]['x'],a0[0x1]['y']),S['style']['point']['enable']&&(a['Renderer']['Util']['SetReviewPointOption'](R,S),a['Renderer']['Util']['DrawPoint'](R,a0[0x0]['x'],a0[0x0]['y'],S['style']['point']['size']));}if(S['drawitem']['axis']){let a1=[],a2=[0xa,0xa];a1[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](T,S['drawitem']['position'][0x0]),a1[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](T,new b['Vector3'](S['drawitem']['position'][0x1]['x'],S['drawitem']['position'][0x0]['y'],S['drawitem']['position'][0x0]['z'])),a1[0x2]=a['Renderer']['Util']['GetScreenPositionByMatrix'](T,new b['Vector3'](S['drawitem']['position'][0x1]['x'],S['drawitem']['position'][0x1]['y'],S['drawitem']['position'][0x0]['z'])),a1[0x3]=a['Renderer']['Util']['GetScreenPositionByMatrix'](T,S['drawitem']['position'][0x1]);for(let a3=0x0;a3<0x3;a3++){a['Renderer']['Util']['SetReviewAxisLineOption'](R,S,a3),a['Renderer']['Util']['DrawLineDash'](R,a1[a3]['x'],a1[a3]['y'],a1[a3+0x1]['x'],a1[a3+0x1]['y'],a2);}}let X=new b['Vector2'](),Y=[];{let a4=d();a['Renderer']['Util']['SetReviewFontOption'](R,S);const a5=a['Renderer']['Util']['GetTextMetrics'](R,S);let a6=a['Renderer']['Util']['GetScreenPositionByMatrix'](T,S['text']['position']);X['set'](a6['x'],a6['y']);let a7=a5['width']+S['style']['border']['offset']*0x2,a8=a5['height']*S['text']['value']['length']+S['style']['border']['offset']*0x2;a6['x']-=a7*0.5,a6['y']-=a8*0.5;{let a9=a6['x']-S['style']['border']['offset'],aa=a6['y']-S['style']['border']['offset'];a4['rect']['set'](a9,aa,a9+a7,aa+a8);}{for(let ab=0x0;ab<S['text']['value']['length'];ab++){a4['position'][ab]=new b['Vector2'](a6['x'],a6['y']+(a5['ascent']*ab+a5['ascent']+S['style']['border']['offset']*ab)),a4['text'][ab]=S['text']['value'][ab];}}Y[0x0]=a4;}if(S['drawitem']['axis']){let ac=[];ac[0x0]=S['drawitem']['position'][0x0],ac[0x1]=new b['Vector3'](S['drawitem']['position'][0x1]['x'],S['drawitem']['position'][0x0]['y'],S['drawitem']['position'][0x0]['z']),ac[0x2]=new b['Vector3'](S['drawitem']['position'][0x1]['x'],S['drawitem']['position'][0x1]['y'],S['drawitem']['position'][0x0]['z']),ac[0x3]=S['drawitem']['position'][0x1],a['Renderer']['Util']['SetReviewFontOption'](R,S);for(let ae=0x0;ae<0x3;ae++){let af=d(),ag=new b['Vector3']()['addVectors'](ac[ae],ac[ae+0x1]);ag['x']*=0.5,ag['y']*=0.5,ag['z']*=0.5;let ah=a['Renderer']['Util']['GetScreenPositionByMatrix'](T,ag),ai;if(ae===0x0)ai=b['Enum']['REVIEW_TYPES']['RK_MEASURE_X_AXIS_DISTANCE'];else{if(ae===0x1)ai=b['Enum']['REVIEW_TYPES']['RK_MEASURE_Y_AXIS_DISTANCE'];else ai=b['Enum']['REVIEW_TYPES']['RK_MEASURE_Z_AXIS_DISTANCE'];}let aj=[S['drawitem']['position'][0x0],S['drawitem']['position'][0x1]],ak=[];a['Measure']['UpdateReviewTextByType'](ai,ak,aj);const al=a['Renderer']['Util']['GetTextMetricsByText'](R,ak,S['style']['font']['size']);let am=al['width']+S['style']['border']['offset']*0x2,an=al['height']*ak['length']+S['style']['border']['offset']*0x2;ah['x']-=am*0.5,ah['y']-=an*0.5;{let ao=ah['x']-S['style']['border']['offset'],ap=ah['y']-S['style']['border']['offset'];af['rect']['set'](ao,ap,ao+am,ap+an);}{for(let aq=0x0;aq<ak['length'];aq++){af['position'][aq]=new b['Vector2'](ah['x'],ah['y']+(al['ascent']*aq+al['ascent']+S['style']['border']['offset']*aq)),af['text'][aq]=ak[aq];}}Y[ae+0x1]=af;}let ad=![];for(let ar=0x0;ar<Y['length'];ar++){for(let as=0x0;as<Y['length'];as++){if(ar===as)continue;if(Y[ar]['rect']['isRectInRect'](Y[as]['rect'])){ad=!![];break;}}if(ad)break;}if(ad){let at=[],au=d();for(let az=0x0;az<Y['length'];az++){for(let aA=0x0;aA<Y[az]['text']['length'];aA++){au['text']['push'](Y[az]['text'][aA]);}}a['Renderer']['Util']['SetReviewFontOption'](R,S);const av=a['Renderer']['Util']['GetTextMetricsByText'](R,au['text'],S['style']['font']['size']);let aw=a['Renderer']['Util']['GetScreenPositionByMatrix'](T,S['text']['position']),ax=av['width']+S['style']['border']['offset']*0x2,ay=av['height']*au['text']['length']+S['style']['border']['offset']*0x2;aw['x']-=ax*0.5,aw['y']-=ay*0.5;{let aB=aw['x']-S['style']['border']['offset'],aC=aw['y']-S['style']['border']['offset'];au['rect']['set'](aB,aC,aB+ax,aC+ay);}{for(let aD=0x0;aD<au['text']['length'];aD++){au['position'][aD]=new b['Vector2'](aw['x'],aw['y']+(av['ascent']*aD+av['ascent']+S['style']['border']['offset']*aD));}}at[0x0]=au,Y=at;}}a['Renderer']['Util']['SetReviewArrowOption'](R,S);{let aE=a['Renderer']['Util']['GetScreenPositionByMatrix'](T,W[0x0]);a['Renderer']['Util']['DrawArrow'](R,aE['x'],aE['y'],X['x'],X['y'],S['style']['arrow']['size']);}{let aF=a['Renderer']['Util']['GetScreenPositionByMatrix'](T,W[0x1]);a['Renderer']['Util']['DrawArrow'](R,aF['x'],aF['y'],X['x'],X['y'],S['style']['arrow']['size']);}for(let aG=0x0;aG<Y['length'];aG++){{a['Renderer']['Util']['SetReviewBgOption'](R,S);if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,Y[aG]['rect']['left'],Y[aG]['rect']['top'],Y[aG]['rect']['right']-Y[aG]['rect']['left'],Y[aG]['rect']['bottom']-Y[aG]['rect']['top'],S['style']['background']['enable'],S['style']['border']['enable']);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect'](R,Y[aG]['rect']['left'],Y[aG]['rect']['top'],Y[aG]['rect']['right']-Y[aG]['rect']['left'],Y[aG]['rect']['bottom']-Y[aG]['rect']['top'],S['style']['background']['enable'],S['style']['border']['enable']);}}{a['Renderer']['Util']['SetReviewFontOption'](R,S);for(let aH=0x0;aH<Y[aG]['text']['length'];aH++){R['fillText'](Y[aG]['text'][aH],Y[aG]['position'][aH]['x'],Y[aG]['position'][aH]['y']);}}}S['rect']=[];for(let aI=0x0;aI<Y['length'];aI++){S['rect'][aI]=Y[aI]['rect'];}}function w(R,S){if(S['text']['value']['length']===0x0)return;a['Renderer']['Util']['SetReviewFontOption'](R,S);const T=a['Renderer']['Util']['GetTextMetrics'](R,S),U=new b['Matrix4']()['copy'](a['Camera']['matMVP']);let V=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['text']['position']),W=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],S['drawitem']['position'][0x3]);W['x']/=0x2,W['y']/=0x2,W['z']/=0x2;let X=new b['Vector3']()['subVectors'](S['text']['position'],W),Y=[];Y[0x0]=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],X),Y[0x1]=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x3],X);{let a1=[];a1[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['drawitem']['position'][0x0]),a1[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,Y[0x0]),a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawLine'](R,a1[0x0]['x'],a1[0x0]['y'],a1[0x1]['x'],a1[0x1]['y']),S['style']['point']['enable']&&(a['Renderer']['Util']['SetReviewPointOption'](R,S),a['Renderer']['Util']['DrawPoint'](R,a1[0x0]['x'],a1[0x0]['y'],S['style']['point']['size']));}{let a2=[];a2[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['drawitem']['position'][0x3]),a2[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,Y[0x1]),a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawLine'](R,a2[0x0]['x'],a2[0x0]['y'],a2[0x1]['x'],a2[0x1]['y']),S['style']['point']['enable']&&(a['Renderer']['Util']['SetReviewPointOption'](R,S),a['Renderer']['Util']['DrawPoint'](R,a2[0x0]['x'],a2[0x0]['y'],S['style']['point']['size']));}{let a3=[],a4=[0xa,0xa];a3[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['drawitem']['position'][0x1]),a3[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,new b['Vector3'](S['drawitem']['position'][0x3]['x'],S['drawitem']['position'][0x1]['y'],S['drawitem']['position'][0x1]['z'])),a3[0x2]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,new b['Vector3'](S['drawitem']['position'][0x3]['x'],S['drawitem']['position'][0x3]['y'],S['drawitem']['position'][0x1]['z'])),a3[0x3]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['drawitem']['position'][0x3]),a['Renderer']['Util']['SetReviewLineOption'](R,S);for(let a5=0x0;a5<0x3;a5++){a['Renderer']['Util']['DrawLineDash'](R,a3[a5]['x'],a3[a5]['y'],a3[a5+0x1]['x'],a3[a5+0x1]['y'],a4);}}a['Renderer']['Util']['SetReviewArrowOption'](R,S);{let a6=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,Y[0x0]);a['Renderer']['Util']['DrawArrow'](R,a6['x'],a6['y'],V['x'],V['y'],S['style']['arrow']['size']);}{let a7=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,Y[0x1]);a['Renderer']['Util']['DrawArrow'](R,a7['x'],a7['y'],V['x'],V['y'],S['style']['arrow']['size']);}let Z=T['width']+S['style']['border']['offset']*0x2,a0=T['height']*S['text']['value']['length']+S['style']['border']['offset']*0x2;V['x']-=Z*0.5,V['y']-=a0*0.5;{let a8=V['x']-S['style']['border']['offset'],a9=V['y']-S['style']['border']['offset'];a['Renderer']['Util']['SetReviewBgOption'](R,S);if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,a8,a9,Z,a0,S['style']['background']['enable'],S['style']['border']['enable']);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect'](R,a8,a9,Z,a0,S['style']['border']['round'],S['style']['background']['enable'],S['style']['border']['enable']);}S['rect']=[],S['rect'][0x0]=new b['Rect'](a8,a9,a8+Z,a9+a0);}{a['Renderer']['Util']['SetReviewFontOption'](R,S);for(let aa=0x0;aa<S['text']['value']['length'];aa++){R['fillText'](S['text']['value'][aa],V['x'],V['y']+(T['ascent']*aa+T['ascent']+S['style']['border']['offset']*aa));}}}function x(R,S){if(S['text']['value']['length']===0x0)return;a['Renderer']['Util']['SetReviewFontOption'](R,S);const T=a['Renderer']['Util']['GetTextMetrics'](R,S),U=new b['Matrix4']()['copy'](a['Camera']['matMVP']);let V=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['text']['position']),W=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],S['drawitem']['position'][0x3]);W['x']/=0x2,W['y']/=0x2,W['z']/=0x2;let X=new b['Vector3']()['subVectors'](S['text']['position'],W),Y=[];Y[0x0]=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],X),Y[0x1]=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x3],X);{let a1=[];a1[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['drawitem']['position'][0x0]),a1[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,Y[0x0]),a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawLine'](R,a1[0x0]['x'],a1[0x0]['y'],a1[0x1]['x'],a1[0x1]['y']),S['style']['point']['enable']&&(a['Renderer']['Util']['SetReviewPointOption'](R,S),a['Renderer']['Util']['DrawPoint'](R,a1[0x0]['x'],a1[0x0]['y'],S['style']['point']['size']));}{let a2=[];a2[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['drawitem']['position'][0x3]),a2[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,Y[0x1]),a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawLine'](R,a2[0x0]['x'],a2[0x0]['y'],a2[0x1]['x'],a2[0x1]['y']),S['style']['point']['enable']&&(a['Renderer']['Util']['SetReviewPointOption'](R,S),a['Renderer']['Util']['DrawPoint'](R,a2[0x0]['x'],a2[0x0]['y'],S['style']['point']['size']));}{let a3=[],a4=[0xa,0xa];a3[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['drawitem']['position'][0x1]),a3[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,new b['Vector3'](S['drawitem']['position'][0x3]['x'],S['drawitem']['position'][0x1]['y'],S['drawitem']['position'][0x1]['z'])),a3[0x2]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,new b['Vector3'](S['drawitem']['position'][0x3]['x'],S['drawitem']['position'][0x3]['y'],S['drawitem']['position'][0x1]['z'])),a3[0x3]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['drawitem']['position'][0x3]),a['Renderer']['Util']['SetReviewLineOption'](R,S);for(let a5=0x0;a5<0x3;a5++){a['Renderer']['Util']['DrawLineDash'](R,a3[a5]['x'],a3[a5]['y'],a3[a5+0x1]['x'],a3[a5+0x1]['y'],a4);}}a['Renderer']['Util']['SetReviewArrowOption'](R,S);{let a6=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,Y[0x0]);a['Renderer']['Util']['DrawArrow'](R,a6['x'],a6['y'],V['x'],V['y'],S['style']['arrow']['size']);}{let a7=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,Y[0x1]);a['Renderer']['Util']['DrawArrow'](R,a7['x'],a7['y'],V['x'],V['y'],S['style']['arrow']['size']);}let Z=T['width']+S['style']['border']['offset']*0x2,a0=T['height']*S['text']['value']['length']+S['style']['border']['offset']*0x2;V['x']-=Z*0.5,V['y']-=a0*0.5;{let a8=V['x']-S['style']['border']['offset'],a9=V['y']-S['style']['border']['offset'];a['Renderer']['Util']['SetReviewBgOption'](R,S);if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,a8,a9,Z,a0,S['style']['background']['enable'],S['style']['border']['enable']);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect'](R,a8,a9,Z,a0,S['style']['border']['round'],S['style']['background']['enable'],S['style']['border']['enable']);}S['rect']=[],S['rect'][0x0]=new b['Rect'](a8,a9,a8+Z,a9+a0);}{a['Renderer']['Util']['SetReviewFontOption'](R,S);for(let aa=0x0;aa<S['text']['value']['length'];aa++){R['fillText'](S['text']['value'][aa],V['x'],V['y']+(T['ascent']*aa+T['ascent']+S['style']['border']['offset']*aa));}}}function y(R,S){if(S['text']['value']['length']===0x0)return;a['Renderer']['Util']['SetReviewFontOption'](R,S);const T=a['Renderer']['Util']['GetTextMetrics'](R,S),U=new b['Matrix4']()['copy'](a['Camera']['matMVP']);let V=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['text']['position']),W=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],S['drawitem']['position'][0x3]);W['x']/=0x2,W['y']/=0x2,W['z']/=0x2;let X=new b['Vector3']()['subVectors'](S['text']['position'],W),Y=[];Y[0x0]=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],X),Y[0x1]=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x3],X);{let a1=[];a1[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['drawitem']['position'][0x0]),a1[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,Y[0x0]),a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawLine'](R,a1[0x0]['x'],a1[0x0]['y'],a1[0x1]['x'],a1[0x1]['y']),S['style']['point']['enable']&&(a['Renderer']['Util']['SetReviewPointOption'](R,S),a['Renderer']['Util']['DrawPoint'](R,a1[0x0]['x'],a1[0x0]['y'],S['style']['point']['size']));}{let a2=[];a2[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['drawitem']['position'][0x3]),a2[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,Y[0x1]),a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawLine'](R,a2[0x0]['x'],a2[0x0]['y'],a2[0x1]['x'],a2[0x1]['y']),S['style']['point']['enable']&&(a['Renderer']['Util']['SetReviewPointOption'](R,S),a['Renderer']['Util']['DrawPoint'](R,a2[0x0]['x'],a2[0x0]['y'],S['style']['point']['size']));}{let a3=[],a4=[0xa,0xa];a3[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['drawitem']['position'][0x1]),a3[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,new b['Vector3'](S['drawitem']['position'][0x3]['x'],S['drawitem']['position'][0x1]['y'],S['drawitem']['position'][0x1]['z'])),a3[0x2]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,new b['Vector3'](S['drawitem']['position'][0x3]['x'],S['drawitem']['position'][0x3]['y'],S['drawitem']['position'][0x1]['z'])),a3[0x3]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['drawitem']['position'][0x3]),a['Renderer']['Util']['SetReviewLineOption'](R,S);for(let a5=0x0;a5<0x3;a5++){a['Renderer']['Util']['DrawLineDash'](R,a3[a5]['x'],a3[a5]['y'],a3[a5+0x1]['x'],a3[a5+0x1]['y'],a4);}}a['Renderer']['Util']['SetReviewArrowOption'](R,S);{let a6=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,Y[0x0]);a['Renderer']['Util']['DrawArrow'](R,a6['x'],a6['y'],V['x'],V['y'],S['style']['arrow']['size']);}{let a7=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,Y[0x1]);a['Renderer']['Util']['DrawArrow'](R,a7['x'],a7['y'],V['x'],V['y'],S['style']['arrow']['size']);}let Z=T['width']+S['style']['border']['offset']*0x2,a0=T['height']*S['text']['value']['length']+S['style']['border']['offset']*0x2;V['x']-=Z*0.5,V['y']-=a0*0.5;{let a8=V['x']-S['style']['border']['offset'],a9=V['y']-S['style']['border']['offset'];a['Renderer']['Util']['SetReviewBgOption'](R,S);if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,a8,a9,Z,a0,S['style']['background']['enable'],S['style']['border']['enable']);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect'](R,a8,a9,Z,a0,S['style']['border']['round'],S['style']['background']['enable'],S['style']['border']['enable']);}S['rect']=[],S['rect'][0x0]=new b['Rect'](a8,a9,a8+Z,a9+a0);}{a['Renderer']['Util']['SetReviewFontOption'](R,S);for(let aa=0x0;aa<S['text']['value']['length'];aa++){R['fillText'](S['text']['value'][aa],V['x'],V['y']+(T['ascent']*aa+T['ascent']+S['style']['border']['offset']*aa));}}}function z(R,S){if(S['text']['value']['length']===0x0)return;a['Renderer']['Util']['SetReviewFontOption'](R,S);const T=a['Renderer']['Util']['GetTextMetrics'](R,S),U=new b['Matrix4']()['copy'](a['Camera']['matMVP']);let V=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['text']['position']),W=S['drawitem']['position'][0x1]['x']-S['drawitem']['position'][0x0]['x'],X=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],new b['Vector3'](0x1,0x0,0x0)['multiplyScalar'](W)),Y=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],X);Y['x']/=0x2,Y['y']/=0x2,Y['z']/=0x2;let Z=new b['Vector3']()['subVectors'](S['text']['position'],Y),a0=[];a0[0x0]=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],Z),a0[0x1]=new b['Vector3']()['addVectors'](X,Z);{let a3=[];a3[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['drawitem']['position'][0x0]),a3[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,a0[0x0]),a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawLine'](R,a3[0x0]['x'],a3[0x0]['y'],a3[0x1]['x'],a3[0x1]['y']),S['style']['point']['enable']&&(a['Renderer']['Util']['SetReviewPointOption'](R,S),a['Renderer']['Util']['DrawPoint'](R,a3[0x0]['x'],a3[0x0]['y'],S['style']['point']['size']));}{let a4=[];a4[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,X),a4[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,a0[0x1]),a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawLine'](R,a4[0x0]['x'],a4[0x0]['y'],a4[0x1]['x'],a4[0x1]['y']),S['style']['point']['enable']&&(a['Renderer']['Util']['SetReviewPointOption'](R,S),a['Renderer']['Util']['DrawPoint'](R,a4[0x0]['x'],a4[0x0]['y'],S['style']['point']['size']));}{let a5=[],a6=[0xa,0xa];a5[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['drawitem']['position'][0x1]),a5[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,new b['Vector3'](X['x'],S['drawitem']['position'][0x1]['y'],S['drawitem']['position'][0x1]['z'])),a5[0x2]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,new b['Vector3'](X['x'],X['y'],S['drawitem']['position'][0x1]['z'])),a5[0x3]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,X),a['Renderer']['Util']['SetReviewLineOption'](R,S);for(let a7=0x0;a7<0x3;a7++){a['Renderer']['Util']['DrawLineDash'](R,a5[a7]['x'],a5[a7]['y'],a5[a7+0x1]['x'],a5[a7+0x1]['y'],a6);}}a['Renderer']['Util']['SetReviewArrowOption'](R,S);{let a8=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,a0[0x0]);a['Renderer']['Util']['DrawArrow'](R,a8['x'],a8['y'],V['x'],V['y'],S['style']['arrow']['size']);}{let a9=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,a0[0x1]);a['Renderer']['Util']['DrawArrow'](R,a9['x'],a9['y'],V['x'],V['y'],S['style']['arrow']['size']);}let a1=T['width']+S['style']['border']['offset']*0x2,a2=T['height']*S['text']['value']['length']+S['style']['border']['offset']*0x2;V['x']-=a1*0.5,V['y']-=a2*0.5;{let aa=V['x']-S['style']['border']['offset'],ab=V['y']-S['style']['border']['offset'];a['Renderer']['Util']['SetReviewBgOption'](R,S);if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,aa,ab,a1,a2,S['style']['background']['enable'],S['style']['border']['enable']);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect'](R,aa,ab,a1,a2,S['style']['border']['round'],S['style']['background']['enable'],S['style']['border']['enable']);}S['rect']=[],S['rect'][0x0]=new b['Rect'](aa,ab,aa+a1,ab+a2);}{a['Renderer']['Util']['SetReviewFontOption'](R,S);for(let ac=0x0;ac<S['text']['value']['length'];ac++){R['fillText'](S['text']['value'][ac],V['x'],V['y']+(T['ascent']*ac+T['ascent']+S['style']['border']['offset']*ac));}}}function A(R,S){if(S['text']['value']['length']===0x0)return;a['Renderer']['Util']['SetReviewFontOption'](R,S);const T=a['Renderer']['Util']['GetTextMetrics'](R,S),U=new b['Matrix4']()['copy'](a['Camera']['matMVP']);let V=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['text']['position']),W=S['drawitem']['position'][0x1]['y']-S['drawitem']['position'][0x0]['y'],X=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],new b['Vector3'](0x0,0x1,0x0)['multiplyScalar'](W)),Y=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],X);Y['x']/=0x2,Y['y']/=0x2,Y['z']/=0x2;let Z=new b['Vector3']()['subVectors'](S['text']['position'],Y),a0=[];a0[0x0]=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],Z),a0[0x1]=new b['Vector3']()['addVectors'](X,Z);{let a3=[];a3[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['drawitem']['position'][0x0]),a3[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,a0[0x0]),a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawLine'](R,a3[0x0]['x'],a3[0x0]['y'],a3[0x1]['x'],a3[0x1]['y']),S['style']['point']['enable']&&(a['Renderer']['Util']['SetReviewPointOption'](R,S),a['Renderer']['Util']['DrawPoint'](R,a3[0x0]['x'],a3[0x0]['y'],S['style']['point']['size']));}{let a4=[];a4[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,X),a4[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,a0[0x1]),a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawLine'](R,a4[0x0]['x'],a4[0x0]['y'],a4[0x1]['x'],a4[0x1]['y']),S['style']['point']['enable']&&(a['Renderer']['Util']['SetReviewPointOption'](R,S),a['Renderer']['Util']['DrawPoint'](R,a4[0x0]['x'],a4[0x0]['y'],S['style']['point']['size']));}{let a5=[],a6=[0xa,0xa];a5[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['drawitem']['position'][0x1]),a5[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,new b['Vector3'](X['x'],S['drawitem']['position'][0x1]['y'],S['drawitem']['position'][0x1]['z'])),a5[0x2]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,new b['Vector3'](X['x'],X['y'],S['drawitem']['position'][0x1]['z'])),a5[0x3]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,X),a['Renderer']['Util']['SetReviewLineOption'](R,S);for(let a7=0x0;a7<0x3;a7++){a['Renderer']['Util']['DrawLineDash'](R,a5[a7]['x'],a5[a7]['y'],a5[a7+0x1]['x'],a5[a7+0x1]['y'],a6);}}a['Renderer']['Util']['SetReviewArrowOption'](R,S);{let a8=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,a0[0x0]);a['Renderer']['Util']['DrawArrow'](R,a8['x'],a8['y'],V['x'],V['y'],S['style']['arrow']['size']);}{let a9=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,a0[0x1]);a['Renderer']['Util']['DrawArrow'](R,a9['x'],a9['y'],V['x'],V['y'],S['style']['arrow']['size']);}let a1=T['width']+S['style']['border']['offset']*0x2,a2=T['height']*S['text']['value']['length']+S['style']['border']['offset']*0x2;V['x']-=a1*0.5,V['y']-=a2*0.5;{let aa=V['x']-S['style']['border']['offset'],ab=V['y']-S['style']['border']['offset'];a['Renderer']['Util']['SetReviewBgOption'](R,S);if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,aa,ab,a1,a2,S['style']['background']['enable'],S['style']['border']['enable']);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect'](R,aa,ab,a1,a2,S['style']['border']['round'],S['style']['background']['enable'],S['style']['border']['enable']);}S['rect']=[],S['rect'][0x0]=new b['Rect'](aa,ab,aa+a1,ab+a2);}{a['Renderer']['Util']['SetReviewFontOption'](R,S);for(let ac=0x0;ac<S['text']['value']['length'];ac++){R['fillText'](S['text']['value'][ac],V['x'],V['y']+(T['ascent']*ac+T['ascent']+S['style']['border']['offset']*ac));}}}function B(R,S){if(S['text']['value']['length']===0x0)return;a['Renderer']['Util']['SetReviewFontOption'](R,S);const T=a['Renderer']['Util']['GetTextMetrics'](R,S),U=new b['Matrix4']()['copy'](a['Camera']['matMVP']);let V=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['text']['position']),W=S['drawitem']['position'][0x1]['z']-S['drawitem']['position'][0x0]['z'],X=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],new b['Vector3'](0x0,0x0,0x1)['multiplyScalar'](W)),Y=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],X);Y['x']/=0x2,Y['y']/=0x2,Y['z']/=0x2;let Z=new b['Vector3']()['subVectors'](S['text']['position'],Y),a0=[];a0[0x0]=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],Z),a0[0x1]=new b['Vector3']()['addVectors'](X,Z);{let a3=[];a3[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['drawitem']['position'][0x0]),a3[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,a0[0x0]),a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawLine'](R,a3[0x0]['x'],a3[0x0]['y'],a3[0x1]['x'],a3[0x1]['y']),S['style']['point']['enable']&&(a['Renderer']['Util']['SetReviewPointOption'](R,S),a['Renderer']['Util']['DrawPoint'](R,a3[0x0]['x'],a3[0x0]['y'],S['style']['point']['size']));}{let a4=[];a4[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,X),a4[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,a0[0x1]),a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawLine'](R,a4[0x0]['x'],a4[0x0]['y'],a4[0x1]['x'],a4[0x1]['y']),S['style']['point']['enable']&&(a['Renderer']['Util']['SetReviewPointOption'](R,S),a['Renderer']['Util']['DrawPoint'](R,a4[0x0]['x'],a4[0x0]['y'],S['style']['point']['size']));}{let a5=[],a6=[0xa,0xa];a5[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['drawitem']['position'][0x1]),a5[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,new b['Vector3'](X['x'],S['drawitem']['position'][0x1]['y'],S['drawitem']['position'][0x1]['z'])),a5[0x2]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,new b['Vector3'](X['x'],X['y'],S['drawitem']['position'][0x1]['z'])),a5[0x3]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,X),a['Renderer']['Util']['SetReviewLineOption'](R,S);for(let a7=0x0;a7<0x3;a7++){a['Renderer']['Util']['DrawLineDash'](R,a5[a7]['x'],a5[a7]['y'],a5[a7+0x1]['x'],a5[a7+0x1]['y'],a6);}}a['Renderer']['Util']['SetReviewArrowOption'](R,S);{let a8=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,a0[0x0]);a['Renderer']['Util']['DrawArrow'](R,a8['x'],a8['y'],V['x'],V['y'],S['style']['arrow']['size']);}{let a9=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,a0[0x1]);a['Renderer']['Util']['DrawArrow'](R,a9['x'],a9['y'],V['x'],V['y'],S['style']['arrow']['size']);}let a1=T['width']+S['style']['border']['offset']*0x2,a2=T['height']*S['text']['value']['length']+S['style']['border']['offset']*0x2;V['x']-=a1*0.5,V['y']-=a2*0.5;{let aa=V['x']-S['style']['border']['offset'],ab=V['y']-S['style']['border']['offset'];a['Renderer']['Util']['SetReviewBgOption'](R,S);if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,aa,ab,a1,a2,S['style']['background']['enable'],S['style']['border']['enable']);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect'](R,aa,ab,a1,a2,S['style']['border']['round'],S['style']['background']['enable'],S['style']['border']['enable']);}S['rect']=[],S['rect'][0x0]=new b['Rect'](aa,ab,aa+a1,ab+a2);}{a['Renderer']['Util']['SetReviewFontOption'](R,S);for(let ac=0x0;ac<S['text']['value']['length'];ac++){R['fillText'](S['text']['value'][ac],V['x'],V['y']+(T['ascent']*ac+T['ascent']+S['style']['border']['offset']*ac));}}}function C(R,S){if(S['text']['value']['length']===0x0)return;a['Renderer']['Util']['SetReviewFontOption'](R,S);const T=a['Renderer']['Util']['GetTextMetrics'](R,S),U=new b['Matrix4']()['copy'](a['Camera']['matMVP']);let V=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['text']['position']),W=new b['Vector3']()['subVectors'](S['drawitem']['position'][0x1],S['drawitem']['position'][0x0]);W['z']=0x0;let X=W['length'](),Y=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],W),Z=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],Y);Z['x']/=0x2,Z['y']/=0x2,Z['z']/=0x2;let a0=new b['Vector3']()['subVectors'](S['text']['position'],Z),a1=[];a1[0x0]=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],a0),a1[0x1]=new b['Vector3']()['addVectors'](Y,a0);{let a4=[];a4[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['drawitem']['position'][0x0]),a4[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,a1[0x0]),a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawLine'](R,a4[0x0]['x'],a4[0x0]['y'],a4[0x1]['x'],a4[0x1]['y']),S['style']['point']['enable']&&(a['Renderer']['Util']['SetReviewPointOption'](R,S),a['Renderer']['Util']['DrawPoint'](R,a4[0x0]['x'],a4[0x0]['y'],S['style']['point']['size']));}{let a5=[];a5[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,Y),a5[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,a1[0x1]),a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawLine'](R,a5[0x0]['x'],a5[0x0]['y'],a5[0x1]['x'],a5[0x1]['y']),S['style']['point']['enable']&&(a['Renderer']['Util']['SetReviewPointOption'](R,S),a['Renderer']['Util']['DrawPoint'](R,a5[0x0]['x'],a5[0x0]['y'],S['style']['point']['size']));}{let a6=[],a7=[0xa,0xa];a6[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['drawitem']['position'][0x1]),a6[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,new b['Vector3'](Y['x'],S['drawitem']['position'][0x1]['y'],S['drawitem']['position'][0x1]['z'])),a6[0x2]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,new b['Vector3'](Y['x'],Y['y'],S['drawitem']['position'][0x1]['z'])),a6[0x3]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,Y),a['Renderer']['Util']['SetReviewLineOption'](R,S);for(let a8=0x0;a8<0x3;a8++){a['Renderer']['Util']['DrawLineDash'](R,a6[a8]['x'],a6[a8]['y'],a6[a8+0x1]['x'],a6[a8+0x1]['y'],a7);}}a['Renderer']['Util']['SetReviewArrowOption'](R,S);{let a9=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,a1[0x0]);a['Renderer']['Util']['DrawArrow'](R,a9['x'],a9['y'],V['x'],V['y'],S['style']['arrow']['size']);}{let aa=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,a1[0x1]);a['Renderer']['Util']['DrawArrow'](R,aa['x'],aa['y'],V['x'],V['y'],S['style']['arrow']['size']);}let a2=T['width']+S['style']['border']['offset']*0x2,a3=T['height']*S['text']['value']['length']+S['style']['border']['offset']*0x2;V['x']-=a2*0.5,V['y']-=a3*0.5;{let ab=V['x']-S['style']['border']['offset'],ac=V['y']-S['style']['border']['offset'];a['Renderer']['Util']['SetReviewBgOption'](R,S);if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,ab,ac,a2,a3,S['style']['background']['enable'],S['style']['border']['enable']);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect'](R,ab,ac,a2,a3,S['style']['border']['round'],S['style']['background']['enable'],S['style']['border']['enable']);}S['rect']=[],S['rect'][0x0]=new b['Rect'](ab,ac,ab+a2,ac+a3);}{a['Renderer']['Util']['SetReviewFontOption'](R,S);for(let ad=0x0;ad<S['text']['value']['length'];ad++){R['fillText'](S['text']['value'][ad],V['x'],V['y']+(T['ascent']*ad+T['ascent']+S['style']['border']['offset']*ad));}}}function D(R,S){if(S['text']['value']['length']===0x0)return;a['Renderer']['Util']['SetReviewFontOption'](R,S);const T=a['Renderer']['Util']['GetTextMetrics'](R,S),U=new b['Matrix4']()['copy'](a['Camera']['matMVP']);let V=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['text']['position']),W=new b['Vector3']()['subVectors'](S['drawitem']['position'][0x1],S['drawitem']['position'][0x0]);W['x']=0x0;let X=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],W),Y=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],X);Y['x']/=0x2,Y['y']/=0x2,Y['z']/=0x2;let Z=new b['Vector3']()['subVectors'](S['text']['position'],Y),a0=[];a0[0x0]=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],Z),a0[0x1]=new b['Vector3']()['addVectors'](X,Z);{let a3=[];a3[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['drawitem']['position'][0x0]),a3[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,a0[0x0]),a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawLine'](R,a3[0x0]['x'],a3[0x0]['y'],a3[0x1]['x'],a3[0x1]['y']),S['style']['point']['enable']&&(a['Renderer']['Util']['SetReviewPointOption'](R,S),a['Renderer']['Util']['DrawPoint'](R,a3[0x0]['x'],a3[0x0]['y'],S['style']['point']['size']));}{let a4=[];a4[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,X),a4[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,a0[0x1]),a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawLine'](R,a4[0x0]['x'],a4[0x0]['y'],a4[0x1]['x'],a4[0x1]['y']),S['style']['point']['enable']&&(a['Renderer']['Util']['setReviewPointOption'](R,S),a['Renderer']['Util']['DrawPoint'](R,a4[0x0]['x'],a4[0x0]['y'],S['style']['point']['size']));}{let a5=[],a6=[0xa,0xa];a5[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['drawitem']['position'][0x1]),a5[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,new b['Vector3'](X['x'],S['drawitem']['position'][0x1]['y'],S['drawitem']['position'][0x1]['z'])),a5[0x2]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,new b['Vector3'](X['x'],X['y'],S['drawitem']['position'][0x1]['z'])),a5[0x3]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,X),a['Renderer']['Util']['SetReviewLineOption'](R,S);for(let a7=0x0;a7<0x3;a7++){a['Renderer']['Util']['DrawLineDash'](R,a5[a7]['x'],a5[a7]['y'],a5[a7+0x1]['x'],a5[a7+0x1]['y'],a6);}}a['Renderer']['Util']['SetReviewArrowOption'](R,S);{let a8=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,a0[0x0]);a['Renderer']['Util']['DrawArrow'](R,a8['x'],a8['y'],V['x'],V['y'],S['style']['arrow']['size']);}{let a9=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,a0[0x1]);a['Renderer']['Util']['DrawArrow'](R,a9['x'],a9['y'],V['x'],V['y'],S['style']['arrow']['size']);}let a1=T['width']+S['style']['border']['offset']*0x2,a2=T['height']*S['text']['value']['length']+S['style']['border']['offset']*0x2;V['x']-=a1*0.5,V['y']-=a2*0.5;{let aa=V['x']-S['style']['border']['offset'],ab=V['y']-S['style']['border']['offset'];a['Renderer']['Util']['SetReviewBgOption'](R,S);if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,aa,ab,a1,a2,S['style']['background']['enable'],S['style']['border']['enable']);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect'](R,aa,ab,a1,a2,S['style']['border']['round'],S['style']['background']['enable'],S['style']['border']['enable']);}S['rect']=[],S['rect'][0x0]=new b['Rect'](aa,ab,aa+a1,ab+a2);}{a['Renderer']['Util']['SetReviewFontOption'](R,S);for(let ac=0x0;ac<S['text']['value']['length'];ac++){R['fillText'](S['text']['value'][ac],V['x'],V['y']+(T['ascent']*ac+T['ascent']+S['style']['border']['offset']*ac));}}}function E(R,S){if(S['text']['value']['length']===0x0)return;a['Renderer']['Util']['SetReviewFontOption'](R,S);const T=a['Renderer']['Util']['GetTextMetrics'](R,S),U=new b['Matrix4']()['copy'](a['Camera']['matMVP']);let V=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['text']['position']),W=new b['Vector3']()['subVectors'](S['drawitem']['position'][0x1],S['drawitem']['position'][0x0]);W['y']=0x0;let X=W['length'](),Y=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],W),Z=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],Y);Z['x']/=0x2,Z['y']/=0x2,Z['z']/=0x2;let a0=new b['Vector3']()['subVectors'](S['text']['position'],Z),a1=[];a1[0x0]=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],a0),a1[0x1]=new b['Vector3']()['addVectors'](Y,a0);{let a4=[];a4[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['drawitem']['position'][0x0]),a4[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,a1[0x0]),a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawLine'](R,a4[0x0]['x'],a4[0x0]['y'],a4[0x1]['x'],a4[0x1]['y']),S['style']['point']['enable']&&(a['Renderer']['Util']['SetReviewPointOption'](R,S),a['Renderer']['Util']['DrawPoint'](R,a4[0x0]['x'],a4[0x0]['y'],S['style']['point']['size']));}{let a5=[];a5[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,Y),a5[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,a1[0x1]),a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawLine'](R,a5[0x0]['x'],a5[0x0]['y'],a5[0x1]['x'],a5[0x1]['y']),S['style']['point']['enable']&&(a['Renderer']['Util']['SetReviewPointOption'](R,S),a['Renderer']['Util']['DrawPoint'](R,a5[0x0]['x'],a5[0x0]['y'],S['style']['point']['size']));}{let a6=[],a7=[0xa,0xa];a6[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['drawitem']['position'][0x1]),a6[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,new b['Vector3'](Y['x'],S['drawitem']['position'][0x1]['y'],S['drawitem']['position'][0x1]['z'])),a6[0x2]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,new b['Vector3'](Y['x'],Y['y'],S['drawitem']['position'][0x1]['z'])),a6[0x3]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,Y),a['Renderer']['Util']['SetReviewLineOption'](R,S);for(let a8=0x0;a8<0x3;a8++){a['Renderer']['Util']['DrawLineDash'](R,a6[a8]['x'],a6[a8]['y'],a6[a8+0x1]['x'],a6[a8+0x1]['y'],a7);}}a['Renderer']['Util']['SetReviewArrowOption'](R,S);{let a9=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,a1[0x0]);a['Renderer']['Util']['DrawArrow'](R,a9['x'],a9['y'],V['x'],V['y'],S['style']['arrow']['size']);}{let aa=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,a1[0x1]);a['Renderer']['Util']['DrawArrow'](R,aa['x'],aa['y'],V['x'],V['y'],S['style']['arrow']['size']);}let a2=T['width']+S['style']['border']['offset']*0x2,a3=T['height']*S['text']['value']['length']+S['style']['border']['offset']*0x2;V['x']-=a2*0.5,V['y']-=a3*0.5;{let ab=V['x']-S['style']['border']['offset'],ac=V['y']-S['style']['border']['offset'];a['Renderer']['Util']['SetReviewBgOption'](R,S);if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,ab,ac,a2,a3,S['style']['background']['enable'],S['style']['border']['enable']);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect'](R,ab,ac,a2,a3,S['style']['border']['round'],S['style']['background']['enable'],S['style']['border']['enable']);}S['rect']=[],S['rect'][0x0]=new b['Rect'](ab,ac,ab+a2,ac+a3);}{a['Renderer']['Util']['SetReviewFontOption'](R,S);for(let ad=0x0;ad<S['text']['value']['length'];ad++){R['fillText'](S['text']['value'][ad],V['x'],V['y']+(T['ascent']*ad+T['ascent']+S['style']['border']['offset']*ad));}}}function F(R,S){if(S['text']['value']['length']===0x0)return;a['Renderer']['Util']['SetReviewFontOption'](R,S);const T=a['Renderer']['Util']['GetTextMetrics'](R,S),U=new b['Matrix4']()['copy'](a['Camera']['matMVP']);let V=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['text']['position']),W;{let a2=S['drawitem']['position'][0x2]['dot'](new b['Vector3']()['subVectors'](S['drawitem']['position'][0x0],S['drawitem']['position'][0x1]));a2<0x0?W=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],new b['Vector3']()['copy'](S['drawitem']['position'][0x2])['multiplyScalar'](Math['abs'](a2))):W=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],new b['Vector3']()['copy'](S['drawitem']['position'][0x2])['multiplyScalar'](Math['abs'](a2)*-0x1));}let X=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],W);X['x']/=0x2,X['y']/=0x2,X['z']/=0x2;let Y=new b['Vector3']()['subVectors'](S['text']['position'],X),Z=[];Z[0x0]=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],Y),Z[0x1]=new b['Vector3']()['addVectors'](W,Y);{let a3=[];a3[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['drawitem']['position'][0x0]),a3[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,Z[0x0]),a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawLine'](R,a3[0x0]['x'],a3[0x0]['y'],a3[0x1]['x'],a3[0x1]['y']),S['style']['point']['enable']&&(a['Renderer']['Util']['SetReviewPointOption'](R,S),a['Renderer']['Util']['DrawPoint'](R,a3[0x0]['x'],a3[0x0]['y'],S['style']['point']['size']));}{let a4=[];a4[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,W),a4[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,Z[0x1]),a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawLine'](R,a4[0x0]['x'],a4[0x0]['y'],a4[0x1]['x'],a4[0x1]['y']),S['style']['point']['enable']&&(a['Renderer']['Util']['SetReviewPointOption'](R,S),a['Renderer']['Util']['DrawPoint'](R,a4[0x0]['x'],a4[0x0]['y'],S['style']['point']['size']));}{let a5=[],a6=[0xa,0xa];a5[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['drawitem']['position'][0x1]),a5[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,new b['Vector3'](W['x'],S['drawitem']['position'][0x1]['y'],S['drawitem']['position'][0x1]['z'])),a5[0x2]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,new b['Vector3'](W['x'],W['y'],S['drawitem']['position'][0x1]['z'])),a5[0x3]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,W),a['Renderer']['Util']['SetReviewLineOption'](R,S);for(let a7=0x0;a7<0x3;a7++){a['Renderer']['Util']['DrawLineDash'](R,a5[a7]['x'],a5[a7]['y'],a5[a7+0x1]['x'],a5[a7+0x1]['y'],a6);}}a['Renderer']['Util']['SetReviewArrowOption'](R,S);{let a8=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,Z[0x0]);a['Renderer']['Util']['DrawArrow'](R,a8['x'],a8['y'],V['x'],V['y'],S['style']['arrow']['size']);}{let a9=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,Z[0x1]);a['Renderer']['Util']['DrawArrow'](R,a9['x'],a9['y'],V['x'],V['y'],S['style']['arrow']['size']);}let a0=T['width']+S['style']['border']['offset']*0x2,a1=T['height']*S['text']['value']['length']+S['style']['border']['offset']*0x2;V['x']-=a0*0.5,V['y']-=a1*0.5;{let aa=V['x']-S['style']['border']['offset'],ab=V['y']-S['style']['border']['offset'];a['Renderer']['Util']['SetReviewBgOption'](R,S);if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,aa,ab,a0,a1,S['style']['background']['enable'],S['style']['border']['enable']);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect'](R,aa,ab,a0,a1,S['style']['border']['round'],S['style']['background']['enable'],S['style']['border']['enable']);}S['rect']=[],S['rect'][0x0]=new b['Rect'](aa,ab,aa+a0,ab+a1);}{a['Renderer']['Util']['SetReviewFontOption'](R,S);for(let ac=0x0;ac<S['text']['value']['length'];ac++){R['fillText'](S['text']['value'][ac],V['x'],V['y']+(T['ascent']*ac+T['ascent']+S['style']['border']['offset']*ac));}}}function G(R,S){if(S['text']['value']['length']===0x0)return;if(S['drawitem']['position']['length']<0x3)return;a['Renderer']['Util']['SetReviewFontOption'](R,S);const T=a['Renderer']['Util']['GetTextMetrics'](R,S),U=new b['Matrix4']()['copy'](a['Camera']['matMVP']);let V=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['text']['position']),W=[],X,Y,Z;for(let a2=0x0;a2<S['drawitem']['position']['length'];a2++){W[a2]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['drawitem']['position'][a2]),a2===0x0?(Y=new b['Vector3']()['copy'](S['drawitem']['position'][a2]),Z=new b['Vector3']()['copy'](S['drawitem']['position'][a2])):(Y['min'](S['drawitem']['position'][a2]),Z['max'](S['drawitem']['position'][a2]));}X=new b['Vector3']((Y['x']+Z['x'])*0.5,(Y['y']+Z['y'])*0.5,(Y['z']+Z['z'])*0.5),a['Renderer']['Util']['SetReviewTriangleOption'](R,S),a['Renderer']['Util']['DrawTrianglesFan'](R,W);{a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawLines'](R,W),a['Renderer']['Util']['DrawLine'](R,W[0x0]['x'],W[0x0]['y'],W[W['length']-0x1]['x'],W[W['length']-0x1]['y']);}{a['Renderer']['Util']['SetReviewPointOption'](R,S);for(let a3=0x0;a3<W['length'];a3++){a['Renderer']['Util']['DrawPoint'](R,W[a3]['x'],W[a3]['y'],S['style']['point']['size']);}}{let a4=[];a4[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,X),a4[0x1]=V,a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawLine'](R,a4[0x0]['x'],a4[0x0]['y'],a4[0x1]['x'],a4[0x1]['y']);}let a0=T['width']+S['style']['border']['offset']*0x2,a1=T['height']*S['text']['value']['length']+S['style']['border']['offset']*0x2;V['x']-=a0*0.5,V['y']-=a1*0.5;{let a5=V['x']-S['style']['border']['offset'],a6=V['y']-S['style']['border']['offset'];a['Renderer']['Util']['SetReviewBgOption'](R,S);if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,a5,a6,a0,a1,S['style']['background']['enable'],S['style']['border']['enable']);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect'](R,a5,a6,a0,a1,S['style']['border']['round'],S['style']['background']['enable'],S['style']['border']['enable']);}S['rect']=[],S['rect'][0x0]=new b['Rect'](a5,a6,a5+a0,a6+a1);}{a['Renderer']['Util']['SetReviewFontOption'](R,S);for(let a7=0x0;a7<S['text']['value']['length'];a7++){R['fillText'](S['text']['value'][a7],V['x'],V['y']+(T['ascent']*a7+T['ascent']+S['style']['border']['offset']*a7));}}}function H(R,S){if(S['text']['value']['length']===0x0)return;if(S['drawitem']['position']['length']<0x2)return;a['Renderer']['Util']['SetReviewFontOption'](R,S);const T=a['Renderer']['Util']['GetTextMetrics'](R,S),U=new b['Matrix4']()['copy'](a['Camera']['matMVP']);let V=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['text']['position']),W=[];for(let Z=0x0;Z<S['drawitem']['position']['length'];Z++){W[Z]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['drawitem']['position'][Z]);}{a['Renderer']['Util']['SetReviewLineOption'](R,S);for(let a0=0x0;a0<W['length']-0x1;a0++){a['Renderer']['Util']['DrawLine'](R,W[a0]['x'],W[a0]['y'],W[a0+0x1]['x'],W[a0+0x1]['y']);}}{a['Renderer']['Util']['SetReviewPointOption'](R,S);for(let a1=0x0;a1<W['length'];a1++){a['Renderer']['Util']['DrawPoint'](R,W[a1]['x'],W[a1]['y'],S['style']['point']['size']);}}if(W['length']>0x1){let a2=[];a2[0x0]=W[W['length']-0x1],a2[0x1]=V,a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawLine'](R,a2[0x0]['x'],a2[0x0]['y'],a2[0x1]['x'],a2[0x1]['y']);}{let a3=[];for(let a4=0x0;a4<W['length']-0x1;a4++){let a5=W[a4+0x1];a3[a4]=S['drawitem']['position'][a4],a3[a4+0x1]=S['drawitem']['position'][a4+0x1];let a6=[];a['Measure']['UpdateReviewTextByType'](S['itemType'],a6,a3);const a7=a['Renderer']['Util']['GetTextMetricsByText'](R,a6,S['style']['font']['size']);let a8=a7['width']+S['style']['border']['offset']*0x2,a9=a7['height']*a6['length']+S['style']['border']['offset']*0x2;a5['x']+=0xa;{let aa=a5['x']-S['style']['border']['offset'],ab=a5['y']-S['style']['border']['offset'];a['Renderer']['Util']['SetReviewBgOption'](R,S);if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,aa,ab,a8,a9,S['style']['background']['enable'],S['style']['border']['enable']);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect'](R,aa,ab,a8,a9,S['style']['border']['round'],S['style']['background']['enable'],S['style']['border']['enable']);}}a['Renderer']['Util']['SetReviewFontOption'](R,S);for(let ac=0x0;ac<a6['length'];ac++){R['fillText'](a6[ac],a5['x'],a5['y']+(a7['ascent']*ac+a7['ascent']+S['style']['border']['offset']*ac));}}}let X=T['width']+S['style']['border']['offset']*0x2,Y=T['height']*S['text']['value']['length']+S['style']['border']['offset']*0x2;V['x']-=X*0.5,V['y']-=Y*0.5;{let ad=V['x']-S['style']['border']['offset'],ae=V['y']-S['style']['border']['offset'];a['Renderer']['Util']['SetReviewBgOption'](R,S);if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,ad,ae,X,Y,S['style']['background']['enable'],S['style']['border']['enable']);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect'](R,ad,ae,X,Y,S['style']['border']['round'],S['style']['background']['enable'],S['style']['border']['enable']);}S['rect']=[],S['rect'][0x0]=new b['Rect'](ad,ae,ad+X,ae+Y);}{a['Renderer']['Util']['SetReviewFontOption'](R,S);for(let af=0x0;af<S['text']['value']['length'];af++){R['fillText'](S['text']['value'][af],V['x'],V['y']+(T['ascent']*af+T['ascent']+S['style']['border']['offset']*af));}}}function I(R,S){if(S['text']['value']['length']===0x0)return;if(S['drawitem']['position']['length']<0x2)return;a['Renderer']['Util']['SetReviewFontOption'](R,S);const T=a['Renderer']['Util']['GetTextMetrics'](R,S),U=new b['Matrix4']()['copy'](a['Camera']['matMVP']);let V=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['text']['position']),W=[],X=[],Y=[];for(let a1=0x0;a1<S['drawitem']['position']['length'];a1++){X[a1]=new b['Vector3']()['copy'](S['drawitem']['position'][a1]);if(S['itemType']===b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_X_AXIS_DISTANCE'])X[a1]['y']=X[0x0]['y'],X[a1]['z']=X[0x0]['z'];else{if(S['itemType']===b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_Y_AXIS_DISTANCE'])X[a1]['x']=X[0x0]['x'],X[a1]['z']=X[0x0]['z'];else S['itemType']===b['Enum']['REVIEW_TYPES']['RK_MEASURE_LINKED_Z_AXIS_DISTANCE']&&(X[a1]['x']=X[0x0]['x'],X[a1]['y']=X[0x0]['y']);}W[a1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['drawitem']['position'][a1]),Y[a1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,X[a1]);}{let a2=[0xa,0xa];a['Renderer']['Util']['SetReviewLineOption'](R,S);for(let a3=0x0;a3<W['length'];a3++){a['Renderer']['Util']['DrawLineDash'](R,W[a3]['x'],W[a3]['y'],Y[a3]['x'],Y[a3]['y'],a2);}}{a['Renderer']['Util']['SetReviewLineOption'](R,S);for(let a4=0x0;a4<W['length']-0x1;a4++){a['Renderer']['Util']['DrawLine'](R,Y[a4]['x'],Y[a4]['y'],Y[a4+0x1]['x'],Y[a4+0x1]['y']);}}{a['Renderer']['Util']['SetReviewPointOption'](R,S);for(let a5=0x0;a5<W['length'];a5++){a['Renderer']['Util']['DrawPoint'](R,Y[a5]['x'],Y[a5]['y'],S['style']['point']['size']);}}if(Y['length']>0x1){let a6=[];a6[0x0]=Y[Y['length']-0x1],a6[0x1]=V,a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawLine'](R,a6[0x0]['x'],a6[0x0]['y'],a6[0x1]['x'],a6[0x1]['y']);}{let a7=[];for(let a8=0x0;a8<Y['length']-0x1;a8++){let a9=Y[a8+0x1];a7[a8]=S['drawitem']['position'][a8],a7[a8+0x1]=S['drawitem']['position'][a8+0x1];let aa=[];a['Measure']['UpdateReviewTextByType'](S['itemType'],aa,a7);const ab=a['Renderer']['Util']['GetTextMetricsByText'](R,aa,S['style']['font']['size']);let ac=ab['width']+S['style']['border']['offset']*0x2,ad=ab['height']*aa['length']+S['style']['border']['offset']*0x2;a9['x']+=0xa;{let ae=a9['x']-S['style']['border']['offset'],af=a9['y']-S['style']['border']['offset'];a['Renderer']['Util']['SetReviewBgOption'](R,S);if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,ae,af,ac,ad,S['style']['background']['enable'],S['style']['border']['enable']);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect'](R,ae,af,ac,ad,S['style']['border']['round'],S['style']['background']['enable'],S['style']['border']['enable']);}}a['Renderer']['Util']['SetReviewFontOption'](R,S);for(let ag=0x0;ag<aa['length'];ag++){R['fillText'](aa[ag],a9['x'],a9['y']+(ab['ascent']*ag+ab['ascent']+S['style']['border']['offset']*ag));}}}let Z=T['width']+S['style']['border']['offset']*0x2,a0=T['height']*S['text']['value']['length']+S['style']['border']['offset']*0x2;V['x']-=Z*0.5,V['y']-=a0*0.5;{let ah=V['x']-S['style']['border']['offset'],ai=V['y']-S['style']['border']['offset'];a['Renderer']['Util']['SetReviewBgOption'](R,S);if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,ah,ai,Z,a0,S['style']['background']['enable'],S['style']['border']['enable']);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect'](R,ah,ai,Z,a0,S['style']['border']['round'],S['style']['background']['enable'],S['style']['border']['enable']);}S['rect']=[],S['rect'][0x0]=new b['Rect'](ah,ai,ah+Z,ai+a0);}{a['Renderer']['Util']['SetReviewFontOption'](R,S);for(let aj=0x0;aj<S['text']['value']['length'];aj++){R['fillText'](S['text']['value'][aj],V['x'],V['y']+(T['ascent']*aj+T['ascent']+S['style']['border']['offset']*aj));}}}function J(R,S){if(S['text']['value']['length']===0x0)return;a['Renderer']['Util']['SetReviewFontOption'](R,S);const T=a['Renderer']['Util']['GetTextMetrics'](R,S),U=new b['Matrix4']()['copy'](a['Camera']['matMVP']);let V=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['text']['position']),W=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],S['drawitem']['position'][0x1]);W['x']/=0x2,W['y']/=0x2,W['z']/=0x2;let X=new b['Vector3']()['subVectors'](S['text']['position'],W),Y=[];Y[0x0]=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x0],X),Y[0x1]=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x1],X);{let a1=[];a1[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['drawitem']['position'][0x0]),a1[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,Y[0x0]),a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawLine'](R,a1[0x0]['x'],a1[0x0]['y'],a1[0x1]['x'],a1[0x1]['y']),S['style']['point']['enable']&&(a['Renderer']['Util']['SetReviewPointOption'](R,S),a['Renderer']['Util']['DrawPoint'](R,a1[0x0]['x'],a1[0x0]['y'],S['style']['point']['size']));}{let a2=[];a2[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,S['drawitem']['position'][0x1]),a2[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,Y[0x1]),a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawLine'](R,a2[0x0]['x'],a2[0x0]['y'],a2[0x1]['x'],a2[0x1]['y']),S['style']['point']['enable']&&(a['Renderer']['Util']['SetReviewPointOption'](R,S),a['Renderer']['Util']['DrawPoint'](R,a2[0x0]['x'],a2[0x0]['y'],S['style']['point']['size']));}a['Renderer']['Util']['SetReviewArrowOption'](R,S);{let a3=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,Y[0x0]);a['Renderer']['Util']['DrawArrow'](R,a3['x'],a3['y'],V['x'],V['y'],S['style']['arrow']['size']);}{let a4=a['Renderer']['Util']['GetScreenPositionByMatrix'](U,Y[0x1]);a['Renderer']['Util']['DrawArrow'](R,a4['x'],a4['y'],V['x'],V['y'],S['style']['arrow']['size']);}let Z=T['width']+S['style']['border']['offset']*0x2,a0=T['height']*S['text']['value']['length']+S['style']['border']['offset']*0x2;V['x']-=Z*0.5,V['y']-=a0*0.5;{let a5=V['x']-S['style']['border']['offset'],a6=V['y']-S['style']['border']['offset'];a['Renderer']['Util']['SetReviewBgOption'](R,S);if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,a5,a6,Z,a0,S['style']['background']['enable'],S['style']['border']['enable']);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect'](R,a5,a6,Z,a0,S['style']['border']['round'],S['style']['background']['enable'],S['style']['border']['enable']);}S['rect']=[],S['rect'][0x0]=new b['Rect'](a5,a6,a5+Z,a6+a0);}{a['Renderer']['Util']['SetReviewFontOption'](R,S);for(let a7=0x0;a7<S['text']['value']['length'];a7++){R['fillText'](S['text']['value'][a7],V['x'],V['y']+(T['ascent']*a7+T['ascent']+S['style']['border']['offset']*a7));}}}function K(R,S){if(S['text']['value']['length']===0x0)return;let T=new b['Vector3']()['copy'](S['text']['position']),U=[];U[0x0]=new b['Vector3']()['copy'](S['drawitem']['position'][0x0]);let V=new b['Vector3'](),W=new b['Vector3']();a['Renderer']['Util']['SetReviewFontOption'](R,S);const X=a['Renderer']['Util']['GetTextMetrics'](R,S),Y=new b['Matrix4']()['copy'](a['Camera']['matMVP']);let Z=a['Renderer']['Util']['GetScreenPositionByMatrix'](Y,T);{let a2=[0xa,0xa],a3=[],a4=a['Renderer']['Util']['GetScreenPositionByMatrix'](Y,U[0x0]);a3[0x0]=a['Renderer']['Util']['GetScreenPositionByMatrix'](Y,S['drawitem']['custom'][0x0]['center']),a3[0x1]=a['Renderer']['Util']['GetScreenPositionByMatrix'](Y,S['drawitem']['custom'][0x1]['center']),a['Renderer']['Util']['SetReviewLineOption'](R,S);{a['Renderer']['Util']['DrawCircle'](R,S['drawitem']['custom'][0x0]['center'],S['drawitem']['custom'][0x0]['normal'],S['drawitem']['custom'][0x0]['radius']),a['Renderer']['Util']['DrawCircle'](R,S['drawitem']['custom'][0x1]['center'],S['drawitem']['custom'][0x1]['normal'],S['drawitem']['custom'][0x1]['radius']);}a['Renderer']['Util']['DrawLineDash'](R,a4['x'],a4['y'],a3[0x0]['x'],a3[0x0]['y'],a2),a['Renderer']['Util']['DrawLineDash'](R,a4['x'],a4['y'],a3[0x1]['x'],a3[0x1]['y'],a2);}{let a5=a['Renderer']['Util']['GetScreenPositionByMatrix'](Y,U[0x0]);a['Renderer']['Util']['SetReviewArrowOption'](R,S),a['Renderer']['Util']['DrawArrow'](R,a5['x']+W['x'],a5['y']+W['y'],Z['x']+W['x'],Z['y']+W['y'],S['style']['arrow']['size']),S['style']['point']['enable']&&(a['Renderer']['Util']['SetReviewPointOption'](R,S),a['Renderer']['Util']['DrawPoint'](R,a5['x']+W['x'],a5['y']+W['y'],S['style']['point']['size']));}let a0=X['width']+S['style']['border']['offset']*0x2,a1=X['height']*S['text']['value']['length']+S['style']['border']['offset']*0x2;Z['x']-=a0*0.5,Z['y']-=a1*0.5;{let a6=Z['x']-S['style']['border']['offset']+V['x'],a7=Z['y']-S['style']['border']['offset']+V['y'];a['Renderer']['Util']['SetReviewBgOption'](R,S);if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,a6,a7,a0,a1,S['style']['background']['enable'],S['style']['border']['enable']);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect'](R,a6,a7,a0,a1,S['style']['border']['round'],S['style']['background']['enable'],S['style']['border']['enable']);}S['rect']=[],S['rect'][0x0]=new b['Rect'](a6,a7,a6+a0,a7+a1);}{a['Renderer']['Util']['SetReviewFontOption'](R,S);for(let a8=0x0;a8<S['text']['value']['length'];a8++){R['fillText'](S['text']['value'][a8],Z['x']+V['x'],Z['y']+V['y']+(X['ascent']*a8+X['ascent']+S['style']['border']['offset']*a8));}}}function L(R,S){if(S['text']['value']['length']===0x0)return;let T=new b['Vector3']()['copy'](S['text']['position']),U=[];U[0x0]=new b['Vector3']()['copy'](S['drawitem']['position'][0x0]);let V=new b['Vector3'](),W=new b['Vector3']();a['Renderer']['Util']['SetReviewFontOption'](R,S);const X=a['Renderer']['Util']['GetTextMetrics'](R,S),Y=new b['Matrix4']()['copy'](a['Camera']['matMVP']);let Z=a['Renderer']['Util']['GetScreenPositionByMatrix'](Y,T);{let a2=a['Renderer']['Util']['GetScreenPositionByMatrix'](Y,U[0x0]);a['Renderer']['Util']['SetReviewArrowOption'](R,S),a['Renderer']['Util']['DrawArrow'](R,a2['x']+W['x'],a2['y']+W['y'],Z['x']+W['x'],Z['y']+W['y'],S['style']['arrow']['size']),S['style']['point']['enable']&&(a['Renderer']['Util']['SetReviewPointOption'](R,S),a['Renderer']['Util']['DrawPoint'](R,a2['x']+W['x'],a2['y']+W['y'],S['style']['point']['size']));}let a0=X['width']+S['style']['border']['offset']*0x2,a1=X['height']*S['text']['value']['length']+S['style']['border']['offset']*0x2;Z['x']-=a0*0.5,Z['y']-=a1*0.5;{let a3=Z['x']-S['style']['border']['offset']+V['x'],a4=Z['y']-S['style']['border']['offset']+V['y'];a['Renderer']['Util']['SetReviewBgOption'](R,S);if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,a3,a4,a0,a1,S['style']['background']['enable'],S['style']['border']['enable']);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect'](R,a3,a4,a0,a1,S['style']['border']['round'],S['style']['background']['enable'],S['style']['border']['enable']);}S['rect']=[],S['rect'][0x0]=new b['Rect'](a3,a4,a3+a0,a4+a1);}{a['Renderer']['Util']['SetReviewFontOption'](R,S);for(let a5=0x0;a5<S['text']['value']['length'];a5++){R['fillText'](S['text']['value'][a5],Z['x']+V['x'],Z['y']+V['y']+(X['ascent']*a5+X['ascent']+S['style']['border']['offset']*a5));}}}function M(R,S){if(!S['drawitem']['custom'])return;const T=new b['Matrix4']()['copy'](a['Camera']['matMVP']);let U=[];U[0x0]=new b['Vector3']()['copy'](S['drawitem']['custom']['min']),U[0x1]=new b['Vector3'](S['drawitem']['custom']['max']['x'],S['drawitem']['custom']['min']['y'],S['drawitem']['custom']['min']['z']),U[0x2]=new b['Vector3'](S['drawitem']['custom']['max']['x'],S['drawitem']['custom']['max']['y'],S['drawitem']['custom']['min']['z']),U[0x3]=new b['Vector3'](S['drawitem']['custom']['max']['x'],S['drawitem']['custom']['max']['y'],S['drawitem']['custom']['max']['z']);let V=[];{for(let W=0x0;W<0x3;W++){let X=d(),Y=new b['Vector3']()['addVectors'](U[W],U[W+0x1]);Y['x']*=0.5,Y['y']*=0.5,Y['z']*=0.5;let Z=a['Renderer']['Util']['GetScreenPositionByMatrix'](T,Y),a0;if(W===0x0)a0=b['Enum']['REVIEW_TYPES']['RK_MEASURE_X_AXIS_DISTANCE'];else{if(W===0x1)a0=b['Enum']['REVIEW_TYPES']['RK_MEASURE_Y_AXIS_DISTANCE'];else a0=b['Enum']['REVIEW_TYPES']['RK_MEASURE_Z_AXIS_DISTANCE'];}let a1=[S['drawitem']['custom']['min'],S['drawitem']['custom']['max']],a2=[];a['Measure']['UpdateReviewTextByType'](a0,a2,a1);const a3=a['Renderer']['Util']['GetTextMetricsByText'](R,a2,S['style']['font']['size']);let a4=a3['width']+S['style']['border']['offset']*0x2,a5=a3['height']*a2['length']+S['style']['border']['offset']*0x2;Z['x']-=a4*0.5,Z['y']-=a5*0.5;{let a6=Z['x']-S['style']['border']['offset'],a7=Z['y']-S['style']['border']['offset'];X['rect']['set'](a6,a7,a6+a4,a7+a5);}{for(let a8=0x0;a8<a2['length'];a8++){X['position'][a8]=new b['Vector2'](Z['x'],Z['y']+(a3['ascent']*a8+a3['ascent']+S['style']['border']['offset']*a8)),X['text'][a8]=a2[a8];}}V[W]=X;}}a['Renderer']['Util']['SetReviewFontOption'](R,S);for(let a9=0x0;a9<V['length'];a9++){{a['Renderer']['Util']['SetReviewBgOption'](R,S);if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,V[a9]['rect']['left'],V[a9]['rect']['top'],V[a9]['rect']['getWidth'](),V[a9]['rect']['getHeight'](),S['style']['background']['enable'],S['style']['border']['enable']);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect'](R,V[a9]['rect']['left'],V[a9]['rect']['top'],V[a9]['rect']['getWidth'](),V[a9]['rect']['getHeight'](),S['style']['background']['enable'],S['style']['border']['enable']);}}{a['Renderer']['Util']['SetReviewFontOption'](R,S);for(let aa=0x0;aa<V[a9]['text']['length'];aa++){R['fillText'](V[a9]['text'][aa],V[a9]['position'][aa]['x'],V[a9]['position'][aa]['y']);}}}S['rect']=[];for(let ab=0x0;ab<V['length'];ab++){S['rect'][ab]=V[ab]['rect'];}}function N(R,S){if(S['drawitem']['position']['length']===0x0)return;const T=new b['Matrix4']()['copy'](a['Camera']['matMVP']);let U=new b['Vector3'](),V=new b['Vector3'](),W=new b['Vector3'](),X=new b['Vector3'](),Y=new b['Vector3']();U['copy'](S['drawitem']['position'][0x0]),V['copy'](S['drawitem']['position'][0x1]),W['copy'](S['drawitem']['position'][0x2]),Y['copy'](S['drawitem']['position'][0x3]),X['copy'](S['drawitem']['position'][0x4]);let Z=[];{for(let a0=0x0;a0<0x3;a0++){let a1=d(),a2=new b['Vector3']()['copy'](Y),a3=[];if(a0===0x0){let a7=new b['Vector3']()['addVectors'](Y,new b['Vector3']()['copy'](U)['multiplyScalar'](X['x']*0.5));a2=a['Renderer']['Util']['GetScreenPositionByMatrix'](T,a7);let a8=[new b['Vector3'](),X];a['Measure']['UpdateReviewTextByType'](b['Enum']['REVIEW_TYPES']['RK_MEASURE_X_AXIS_DISTANCE'],a3,a8);}else{if(a0===0x1){let a9=new b['Vector3']()['addVectors'](Y,new b['Vector3']()['copy'](V)['multiplyScalar'](X['y']*0.5));a2=a['Renderer']['Util']['GetScreenPositionByMatrix'](T,a9);let aa=[new b['Vector3'](),X];a['Measure']['UpdateReviewTextByType'](b['Enum']['REVIEW_TYPES']['RK_MEASURE_Y_AXIS_DISTANCE'],a3,aa);}else{let ab=new b['Vector3']()['addVectors'](Y,new b['Vector3']()['copy'](W)['multiplyScalar'](X['z']*0.5));a2=a['Renderer']['Util']['GetScreenPositionByMatrix'](T,ab);let ac=[new b['Vector3'](),X];a['Measure']['UpdateReviewTextByType'](b['Enum']['REVIEW_TYPES']['RK_MEASURE_Z_AXIS_DISTANCE'],a3,ac);}}const a4=a['Renderer']['Util']['GetTextMetricsByText'](R,a3,S['style']['font']['size']);let a5=a4['width']+S['style']['border']['offset']*0x2,a6=a4['height']*a3['length']+S['style']['border']['offset']*0x2;a2['x']-=a5*0.5,a2['y']-=a6*0.5;{let ad=a2['x']-S['style']['border']['offset'],ae=a2['y']-S['style']['border']['offset'];a1['rect']['set'](ad,ae,ad+a5,ae+a6);}{for(let af=0x0;af<a3['length'];af++){a1['position'][af]=new b['Vector2'](a2['x'],a2['y']+(a4['ascent']*af+a4['ascent']+S['style']['border']['offset']*af)),a1['text'][af]=a3[af];}}Z[a0]=a1;}}a['Renderer']['Util']['SetReviewFontOption'](R,S);for(let ag=0x0;ag<Z['length'];ag++){{a['Renderer']['Util']['SetReviewBgOption'](R,S);if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,Z[ag]['rect']['left'],Z[ag]['rect']['top'],Z[ag]['rect']['getWidth'](),Z[ag]['rect']['getHeight'](),S['style']['background']['enable'],S['style']['border']['enable']);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect'](R,Z[ag]['rect']['left'],Z[ag]['rect']['top'],Z[ag]['rect']['getWidth'](),Z[ag]['rect']['getHeight'](),S['style']['background']['enable'],S['style']['border']['enable']);}}{a['Renderer']['Util']['SetReviewFontOption'](R,S);for(let ah=0x0;ah<Z[ag]['text']['length'];ah++){R['fillText'](Z[ag]['text'][ah],Z[ag]['position'][ah]['x'],Z[ag]['position'][ah]['y']);}}}S['rect']=[];for(let ai=0x0;ai<Z['length'];ai++){S['rect'][ai]=Z[ai]['rect'];}}function O(R){const S=a['gl'];if(!R['drawitem']['custom'])return;a['Shader']['BeginShader'](b['Enum']['SHADER_TYPES']['BASIC2D']),a['gl']['disable'](S['BLEND']),a['gl']['enable'](S['DEPTH_TEST']);const T=new b['Matrix4']()['copy'](a['Camera']['matMV']),U=new b['Matrix4']()['copy'](a['Camera']['matMVP']);a['Shader']['SetGLLight'](),a['Shader']['SetClipping'](undefined),a['Shader']['SetMatrix'](U,T);let V=new b['Color']()['copy'](R['style']['line']['color']),W=V['glColor']();a['Shader']['SetGLColor'](W['r'],W['g'],W['b'],W['a']),a['Renderer']['Util']['DrawBoundBox3D'](R['drawitem']['custom'],R['style']['line']['thickness']),a['Shader']['EndShader']();}function P(R){const S=a['gl'];if(R['drawitem']['position']['length']===0x0)return;let T=new b['Vector3'](),U=new b['Vector3'](),V=new b['Vector3'](),W=new b['Vector3'](),X=new b['Vector3']();T['copy'](R['drawitem']['position'][0x0]),U['copy'](R['drawitem']['position'][0x1]),V['copy'](R['drawitem']['position'][0x2]),X['copy'](R['drawitem']['position'][0x3]),W['copy'](R['drawitem']['position'][0x4]),a['Shader']['BeginShader'](b['Enum']['SHADER_TYPES']['BASIC2D']),a['gl']['disable'](S['BLEND']),a['gl']['enable'](S['DEPTH_TEST']);const Y=new b['Matrix4']()['copy'](a['Camera']['matMV']),Z=new b['Matrix4']()['copy'](a['Camera']['matMVP']);a['Shader']['SetGLLight'](),a['Shader']['SetClipping'](undefined),a['Shader']['SetMatrix'](Z,Y);let a0=new b['Color']()['copy'](R['style']['line']['color']),a1=a0['glColor']();a['Shader']['SetGLColor'](a1['r'],a1['g'],a1['b'],a1['a']);let a2=[],a3=[new b['Vector3']()['copy'](X),new b['Vector3']()['addVectors'](X,new b['Vector3']()['copy'](T)['multiplyScalar'](W['x'])),new b['Vector3']()['addVectors'](X,new b['Vector3']()['addVectors'](new b['Vector3']()['copy'](T)['multiplyScalar'](W['x']),new b['Vector3']()['copy'](U)['multiplyScalar'](W['y']))),new b['Vector3']()['addVectors'](X,new b['Vector3']()['copy'](U)['multiplyScalar'](W['y'])),new b['Vector3']()['addVectors'](X,new b['Vector3']()['copy'](V)['multiplyScalar'](W['z'])),new b['Vector3']()['addVectors'](X,new b['Vector3']()['addVectors'](new b['Vector3']()['copy'](V)['multiplyScalar'](W['z']),new b['Vector3']()['copy'](T)['multiplyScalar'](W['x']))),new b['Vector3']()['addVectors'](X,new b['Vector3']()['addVectors'](new b['Vector3']()['addVectors'](new b['Vector3']()['copy'](V)['multiplyScalar'](W['z']),new b['Vector3']()['copy'](T)['multiplyScalar'](W['x'])),new b['Vector3']()['copy'](U)['multiplyScalar'](W['y']))),new b['Vector3']()['addVectors'](X,new b['Vector3']()['addVectors'](new b['Vector3']()['copy'](V)['multiplyScalar'](W['z']),new b['Vector3']()['copy'](U)['multiplyScalar'](W['y'])))],a4=[[0x0,0x1],[0x1,0x2],[0x2,0x3],[0x3,0x0],[0x4,0x5],[0x5,0x6],[0x6,0x7],[0x7,0x4],[0x0,0x4],[0x1,0x5],[0x2,0x6],[0x3,0x7]];for(let a5=0x0;a5<0xc;a5++){let a6=new b['Vector3']()['copy'](a3[a4[a5][0x0]]),a7=new b['Vector3']()['copy'](a3[a4[a5][0x1]]);a2['push'](a6),a2['push'](a7);}a['Renderer']['Util']['DrawLines3D'](a2,R['style']['line']['thickness']),a['Shader']['EndShader']();}function Q(R,S,T){if(S['text']['value']['length']===0x0)return;a['Renderer']['Util']['SetReviewFontOption'](R,S);const U=a['Renderer']['Util']['GetTextMetrics'](R,S),V=new b['Matrix4']()['copy'](a['Camera']['matMVP']);let W=a['Renderer']['Util']['GetScreenPositionByMatrix'](V,S['text']['position']),X=[],Y=new b['Vector3']()['subVectors'](S['drawitem']['position'][0x2],S['drawitem']['position'][0x0])['length'](),Z=undefined;if(T)X[0x0]=new b['Vector3']()['copy'](S['drawitem']['position'][0x2]),X[0x1]=new b['Vector3']()['copy'](S['drawitem']['position'][0x0]),Z=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x2],S['drawitem']['position'][0x0]),Z['x']/=0x2,Z['y']/=0x2,Z['z']/=0x2;else{let a3=new b['Vector3']()['copy'](S['drawitem']['position'][0x4]);X[0x0]=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x2],new b['Vector3']()['copy'](a3)['multiplyScalar'](Y)),X[0x1]=new b['Vector3']()['addVectors'](S['drawitem']['position'][0x2],new b['Vector3']()['copy'](a3)['multiplyScalar'](-Y)),Z=new b['Vector3']()['copy'](S['drawitem']['position'][0x2]);}let a0=a['Renderer']['Util']['GetScreenPositionByMatrix'](V,Z);a['Renderer']['Util']['SetReviewArrowOption'](R,S);{let a4=a['Renderer']['Util']['GetScreenPositionByMatrix'](V,X[0x0]),a5=a0;a['Renderer']['Util']['DrawArrow'](R,a4['x'],a4['y'],a5['x'],a5['y'],S['style']['arrow']['size']);}{let a6=a['Renderer']['Util']['GetScreenPositionByMatrix'](V,X[0x1]),a7=a0;a['Renderer']['Util']['DrawArrow'](R,a6['x'],a6['y'],a7['x'],a7['y'],S['style']['arrow']['size']);}a['Renderer']['Util']['SetReviewLineOption'](R,S),a['Renderer']['Util']['DrawCircle'](R,S['drawitem']['position'][0x2],S['drawitem']['position'][0x3],Y);{let a8=a0;a['Renderer']['Util']['DrawLine'](R,W['x'],W['y'],a8['x'],a8['y']);}let a1=U['width']+S['style']['border']['offset']*0x2,a2=U['height']*S['text']['value']['length']+S['style']['border']['offset']*0x2;W['x']-=a1*0.5,W['y']-=a2*0.5;{let a9=W['x']-S['style']['border']['offset'],aa=W['y']-S['style']['border']['offset'];a['Renderer']['Util']['SetReviewBgOption'](R,S);if(S['style']['border']['type']===0x0)a['Renderer']['Util']['DrawRect'](R,a9,aa,a1,a2,S['style']['background']['enable'],S['style']['border']['enable']);else{if(S['style']['border']['type']===0x1)a['Renderer']['Util']['DrawRoundRect'](R,a9,aa,a1,a2,S['style']['border']['round'],S['style']['background']['enable'],S['style']['border']['enable']);}S['rect']=[],S['rect'][0x0]=new b['Rect'](a9,aa,a9+a1,aa+a2);}{a['Renderer']['Util']['SetReviewFontOption'](R,S);for(let ab=0x0;ab<S['text']['value']['length'];ab++){R['fillText'](S['text']['value'][ab],W['x'],W['y']+(U['ascent']*ab+U['ascent']+S['style']['border']['offset']*ab));}}}}}export default Review;