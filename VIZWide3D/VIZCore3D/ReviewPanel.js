import a from'./TabPanel.js';class ReviewPanel{constructor(b,c,d){let e=this;this['ReviewLayer']=new Map(),this['ReivewItems']=new Map();let f=new a(b,c,d);this['ReviewPanel']=undefined,this['GetReviewPanel']=undefined;let g=new Map(),h=new Map();function i(){let n=f['GetLayerObj']();n['id']='Note',n['text']='RT0005';let o=f['GetLayerObj']();o['id']='Measure',o['text']='RT0006';let p=f['GetLayerObj']();p['id']='UserView',p['text']='RB0041';let q=f['GetTabPanelObj']();q['id']='Review_Panel',q['title']='Review',q['top']=0x32,q['left']=0x190,q['width']=0x13b,q['height']=0x190,q['usePanel']=![],q['layer']=[n,o,p],f['CreateTabPanel'](q),e['ReviewPanel']=f['TabPanel'],e['ReviewLayer']=f['TabPanelLayerMap'],e['GetReviewPanel']=f['GetTabPanelElement'],j();}function j(){let n=document['createElement']('div');n['className']='VIZWeb\x20SH_panel_title_button\x20SH_title_button\x20SH_delete_icon',e['ReviewPanel']['Element']['Title']['appendChild'](n),n['addEventListener']('click',function(){e['ReviewDelete']();});}this['ReviewDelete']=function(){e['ReviewLayer']['forEach'](function(n,o){if(n['style']['display']==='block'){if(n['id']['includes']('UserView')){let p=e['ReivewItems']['get'](n);if(p)for(let q=0x0;q<p['length'];q++){const r=p[q];if(r['ischeck']===!![]){let s=c['Review']['GetReview'](r['id']);c['Review']['DeleteByID'](s['id']);if(s['tag']['cameraId']!==undefined)c['View']['DeleteCameraBackupData'](s['tag']['cameraId']);}}}else{if(n['id']['includes']('Measure')){let t=e['ReivewItems']['get'](n);if(t)for(let u=0x0;u<t['length'];u++){const v=t[u];if(v['ischeck']===!![]){let w=v['id']['replace']('MeasureList','');c['Review']['DeleteByID'](w);}}}else{if(n['id']['includes']('Note')){let x=e['ReivewItems']['get'](n);if(x)for(let y=0x0;y<x['length'];y++){const z=x[y];if(z['ischeck']===!![]){let A=z['id']['replace']('NoteList','');c['Review']['DeleteByID'](A);}}}}}}});},this['OnCloseButtonEvent']=function(n){e['ReviewPanel']['OnCloseButtonEvent'](n);},this['Show']=function(n){e['ReviewPanel']['Show'](n);};let k=function(n){e['ReivewItems']=new Map();for(let p=0x0;p<f['TabPanelLayerContent']['length'];p++){const q=f['TabPanelLayerContent'][p];q['innerHTML']='';}let o=c['Main']['Data']['Reviews'];l(o);};c['Review']['OnReviewChangedEvent'](k);function l(n){let o=document['createElement']('div'),p=document['createElement']('div'),q=document['createElement']('div'),r=new Map(),s=[],t=new Map(),u=[],v=new Map(),w=[],x=0x1;for(let y=0x0;y<n['length'];y++){let z=n[y];if(c['Main']['Data']['Review']['GetReviewType'](z['itemType'])===0x0){let A=document['createElement']('div');A['id']='NoteList'+z['id'],A['className']='VIZWeb\x20SH_review_panel_list\x20SH_review_panel_unclick',A['ischeck']=z['selection'];let B=document['createElement']('div');B['type']='button',B['id']=z['id'],B['className']='VIZWeb\x20SH_review_panel_checkbox\x20SH_check_icon_color',B['ischeck']=z['visible'],A['appendChild'](B);!B['ischeck']?B['className']='VIZWeb\x20SH_review_panel_checkbox\x20SH_uncheck_icon_color':B['className']='VIZWeb\x20SH_review_panel_checkbox\x20SH_check_icon_color';A['ischeck']?A['classList']['replace']('SH_review_panel_unclick','SH_review_panel_click'):(A['classList']['replace']('SH_review_panel_click','SH_review_panel_unclick'),!B['ischeck']?B['className']='VIZWeb\x20SH_review_panel_checkbox\x20SH_uncheck_icon_color':B['className']='VIZWeb\x20SH_review_panel_checkbox\x20SH_check_icon_color');let C='';for(let E=0x0;E<z['text']['value']['length'];E++){const F=z['text']['value'][E];C+=F;}let D=document['createElement']('label');D['textContent']=C,D['id']='NoteLabel'+z['id'],D['className']='VIZWeb\x20SH_review_panel_checkbox_text',D['ischeck']=![],A['appendChild'](D),o['appendChild'](A),B['addEventListener']('click',function(G){B['ischeck']?(c['Review']['Show'](B['id'],![]),B['className']='VIZWeb\x20SH_review_panel_checkbox\x20SH_uncheck_icon_color'):(c['Review']['Show'](B['id'],!![]),B['className']='VIZWeb\x20SH_review_panel_checkbox\x20SH_check_icon_color'),B['ischeck']=!B['ischeck'];}),s['push'](A),r['set'](D,A),r['set'](A,A);}else{if(c['Main']['Data']['Review']['GetReviewType'](z['itemType'])===0x1){let G=document['createElement']('div');G['id']='MeasureList'+z['id'],G['className']='VIZWeb\x20SH_review_panel_list\x20SH_review_panel_unclick',G['ischeck']=z['selection'];let H=document['createElement']('div');H['type']='button',H['id']=z['id'],H['className']='VIZWeb\x20SH_review_panel_checkbox',H['ischeck']=z['visible'],G['appendChild'](H);!H['ischeck']?H['className']='VIZWeb\x20SH_review_panel_checkbox\x20SH_uncheck_icon_color':H['className']='VIZWeb\x20SH_review_panel_checkbox\x20SH_check_icon_color';G['ischeck']?G['classList']['replace']('SH_review_panel_unclick','SH_review_panel_click'):(G['classList']['replace']('SH_review_panel_click','SH_review_panel_unclick'),!H['ischeck']?H['className']='VIZWeb\x20SH_review_panel_checkbox\x20SH_uncheck_icon_color':H['className']='VIZWeb\x20SH_review_panel_checkbox\x20SH_check_icon_color');let I=document['createElement']('label'),J='';for(let K=0x0;K<z['text']['value']['length'];K++){const L=z['text']['value'][K];J+=L;}I['textContent']=J,I['className']='VIZWeb\x20SH_review_panel_checkbox_text',G['appendChild'](I),p['appendChild'](G),H['addEventListener']('click',function(M){H['ischeck']?(c['Review']['Show'](H['id'],![]),H['className']='VIZWeb\x20SH_review_panel_checkbox\x20SH_uncheck_icon_color'):(c['Review']['Show'](H['id'],!![]),H['className']='VIZWeb\x20SH_review_panel_checkbox\x20SH_check_icon_color'),H['ischeck']=!H['ischeck'];}),u['push'](G),t['set'](I,G),t['set'](G,G);}else{if(c['Main']['Data']['Review']['GetReviewType'](z['itemType'])===0x2){let M=document['createElement']('div');M['id']=z['id'],M['className']='VIZWeb\x20SH_review_panel_img_checkbox_div\x20SH_review_panel_img_unclick',M['ischeck']=z['selection'];M['ischeck']?M['classList']['replace']('SH_review_panel_img_unclick','SH_review_panel_img_click'):M['classList']['replace']('SH_review_panel_img_click','SH_review_panel_img_unclick');let N=document['createElement']('div');N['className']='VIZWeb\x20SH_review_panel_img_checkbox';(z['tag']['thumbnail']===''||z['tag']['thumbnail']===undefined)&&(z['tag']['thumbnail']='iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAACXBIWXMAAB8kAAAfJAEBXLhIAAADzklEQVR4nO2dS3LaQBBA26lUZYmX2eFF9uATmCx67xvgGyScILmBuQHmBs56FiYniHMDcoO4KntSk+ohkpDQ/LplTfWr8sJIGtBDjLp7BubicDiAws8bdSzDW59nQcRFAefKhjFm19d2Z9eBiHMA+AwAy7Gc8MBsAWBtjHluexmtohHRCr4v2wsbK2PMutn4SR+tkpO5J4c1alc0dRc/xnh2r5DrajfSvKJP3gklmprLZtTRdeP7BQAP6ryVOwCYtmxY0rZ/HLsOCuGeWg6wkufGmN+Sr34sIOIlADx3yP7oQj+fhOVBJXdDbno/7ZoZCqGihVDRQqhoIVS0EF7Vu1JAxCsAsH97Y8xeRWeE4lxb5LkFgIlrGRFf6PG1RPhadNdBtZs9ZWmTxmb7/xe7nfZjpVjRJG/XIriJ3b6jboWNkq/otYdkx4S7llOkaLqabwIPu+HsQkq9om8jj2MbG9U4us4lV8MqWggVXYctni5V9KPwcb0UKZoGRb8HHrblTMtL7jps5PHiue9P7oHpQUVzZmNUv1iQxHPY7QvuescgRSUq9Nj+8MomCVwnSV3IHBHvaES6msR8s6/BGCMyui8umiTbGsSMHrJ1BtYrimQOOl1CtOuoVNNmlYdnCVHCaBATTfNGuqppts5Q9AQdEdHURz71VNOWiHgyC7MU2EUj4lcA2Hju/onelOJgFU3dgR3FCGFTomwW0TayQMRdwrcF1hLDS5JkF10J30IL71Xc8FIxsrOK7gjfYrGyH+mNGz3ZRPeEb7FM6coevewsoj3Dt1hEEhr7aUREtqkHyaIDw7dYWBOaytSEKde9IUl0ZPgWC0tC0zL/g+VGHCU6Q/gWS9aE5swkm+yyg0VnCt9SyJLQeMxkyio7SHTm8C2FpIQmYrpYsmxv0UzhWyzRAgIkO7LI9hLNHL7FEpzQREh2JMv2Eb0QCN9i8U5oEiQ7kmT7iB7qpudLb0KTQbIjWnYp0w06E5qMkh1Rskua13GS0DBIdgTLLm0CzTGhYZTsCJJd4kylDdVfJELRCT3P+74dS/1WllT9BUh2b6aq03bz8K6vFRUthIoWQkULoaJ5+eBaV9G8HMM+Fc3LH9e6iual8wcGFSZUtBAqWggVLYSKFkJFC6GihVDRQqhoIVS0ECpaCBUthIoWQkULoaKFUNFCqGghmks46SqSGTHGXLjWmlf0dqwn9QqpuWyKLvaHSQag5rImmn5Va1W4AAlWzQUkT26GtOihyo7Hb+FI+C/7WvvsILa0hmFr9+u1XLUu7nuepMV9lbxowiIBAPwFkGIqLA0rFlAAAAAASUVORK5CYII=');N['innerHTML']='<img\x20src=data:image/png;base64,'+z['tag']['thumbnail']+'\x20style=\x27width:\x2085px;\x20height:\x2085px;\x27>',M['appendChild'](N);let O=document['createElement']('label');z['tag']['title']===undefined||z['tag']['title']['length']<=0x0?(O['textContent']='Snapshot'+x,x++):O['textContent']=z['tag']['title'],O['className']='VIZWeb\x20SH_review_panel_img_checkbox_text',M['appendChild'](O),q['appendChild'](M),w['push'](M),v['set'](N,M),v['set'](N['childNodes'][0x0],M),v['set'](O,M),v['set'](M,M);}}}}o['addEventListener']('click',function(P){for(let Q=0x0;Q<s['length'];Q++){const R=s[Q];if(R===r['get'](P['target'])){if(R['ischeck']){R['style']['backgroundColor']='';let S=R['id']['replace']('NoteList','');c['Review']['Select'](S,![]);}else{R['style']['backgroundColor']='#9ADEE3';let T=R['id']['replace']('NoteList','');c['Review']['Select'](T,!![]);}R['ischeck']=!R['ischeck'];}}}),p['addEventListener']('click',function(P){for(let Q=0x0;Q<u['length'];Q++){const R=u[Q];if(R===t['get'](P['target'])){if(R['ischeck']){R['style']['backgroundColor']='';let S=R['id']['replace']('MeasureList','');c['Review']['Select'](S,![]);}else{R['style']['backgroundColor']='#9ADEE3';let T=R['id']['replace']('MeasureList','');c['Review']['Select'](T,!![]);}R['ischeck']=!R['ischeck'];}}}),q['addEventListener']('click',function(P){for(let Q=0x0;Q<w['length'];Q++){const R=w[Q];if(R===v['get'](P['target'])){R['style']['border']='solid\x202px\x20#36afb8';let S=c['Review']['GetReview'](R['id']);R['ischeck']=!![],S!==undefined&&(R['ischeck']=S['selection'],c['Review']['Select'](S['id'],!![]),c['Main']['Data']['Review']['RestoreSnapShotReview'](S['id']));}else{R['style']['border']='',R['ischeck']=![];let T=c['Review']['GetReview'](R['id']);if(T!==undefined)c['Review']['Select'](T['id'],![]);}}});for(let P=0x0;P<f['TabPanelLayerContent']['length'];P++){const Q=f['TabPanelLayerContent'][P];if(Q['id']['includes']('Note'))Q['appendChild'](o),e['ReivewItems']['set'](Q,s);else{if(Q['id']['includes']('Measure'))Q['appendChild'](p),e['ReivewItems']['set'](Q,u);else Q['id']['includes']('UserView')&&(Q['appendChild'](q),e['ReivewItems']['set'](Q,w));}}}this['RefreshPanel']=function(){k();},this['SetFocusTab']=function(n){f['SetFocusTab'](n);};let m=function(){i();};m();}}export default ReviewPanel;