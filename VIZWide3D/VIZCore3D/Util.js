class Util{constructor(a,b){let c=this;this['GetViewIDName']=function(e){return'#'+a['Container']['id']+e;},this['GetClassIDName']=function(e){return a['Container']['id']+e;},this['EqualDataTypeValue']=function(e,f){if(typeof e!==typeof f)return![];if(typeof e==='string'){if(e['localeCompare'](f)!==0x0)return![];}else{if(e!==f)return![];}return!![];},this['EqualAction']=function(e,f){return a['Data']['ShapeAction']['EqualAction'](e,f);},this['CopyAction']=function(e,f){return a['Data']['ShapeAction']['CopyAction'](e,f);},this['GetColorByHex']=function(e){if(e===undefined)return undefined;let f=new b['Color']();if(typeof e==='object')f['a']=e['a'],f['r']=e['r'],f['g']=e['g'],f['b']=e['b'];else{if(e['slice'](0x0,0x1)['localeCompare']('#')!==0x0)return undefined;e['length']<0x8?(f['r']=parseInt(e['slice'](0x1,0x3),0x10),f['g']=parseInt(e['slice'](0x3,0x5),0x10),f['b']=parseInt(e['slice'](0x5,0x7),0x10)):(f['a']=parseInt(e['slice'](0x1,0x3),0x10),f['r']=parseInt(e['slice'](0x3,0x5),0x10),f['g']=parseInt(e['slice'](0x5,0x7),0x10),f['b']=parseInt(e['slice'](0x7,0x9),0x10));}return f;},this['LineToCircleIntersections']=function(e,f,g,h,j){let k=new b['Vector3']()['copy'](h);k['normalize']();let l=new b['Vector3'](0x1,0x0,0x0);(l['dot'](k)>0.99||l['dot'](k)<-0.99)&&(l=new b['Vector3'](0x0,0x1,0x0));let m=new b['Vector3']()['crossVectors'](k,l);l=new b['Vector3']()['crossVectors'](m,k),l['normalize'](),m['normalize'](),k['normalize']();let n=0xa,o=[];for(let p=0x0;p<n+0x1;p++){let q=Math['PI']*0x2/n*p,r=new b['Vector3']()['copy'](l)['multiplyScalar'](Math['cos'](q)),s=new b['Vector3']()['copy'](r)['multiplyScalar'](j),t=new b['Vector3']()['copy'](m)['multiplyScalar'](Math['sin'](q)),u=new b['Vector3']()['copy'](t)['multiplyScalar'](j),v=new b['Vector3']()['addVectors'](g,new b['Vector3']()['addVectors'](s,u));o['push'](v);}{let w=Math['PI']*0x2/n,x=new b['Vector3']()['copy'](l)['multiplyScalar'](Math['cos'](w)),y=new b['Vector3']()['copy'](x)['multiplyScalar'](j),z=new b['Vector3']()['copy'](m)['multiplyScalar'](Math['sin'](w)),A=new b['Vector3']()['copy'](z)['multiplyScalar'](j),B=new b['Vector3']()['addVectors'](g,new b['Vector3']()['addVectors'](y,A));o['push'](B);}for(let C=0x1;C<o['length'];C++){let D=o[C-0x1],E=o[C],F=g,G=c['LineToTriangleIntersections'](e,f,D,E,F);if(G[0x0]!==0x1)continue;return G;}return[0x0,undefined];},this['LineToTriangleIntersections']=function(e,f,g,h,i){let j=new b['Vector3']()['subVectors'](h,g),k=new b['Vector3']()['subVectors'](i,g),l=new b['Vector3']()['crossVectors'](j,k);if(l['x']===0x0&&l['y']===0x0&&l['z']===0x0)return[-0x1,undefined];let m=new b['Vector3']()['subVectors'](f,e),o=new b['Vector3']()['subVectors'](e,g),p=-l['dot'](o),q=l['dot'](m);if(Math['abs'](q)<2.2250738585072014e-308){if(p===0x0)return[0x2,undefined];else return[0x0,undefined];}let s=p/q;if(s<0x0)return[0x0,undefined];let t=new b['Vector3']()['addVectors'](e,new b['Vector3']()['copy'](m)['multiplyScalar'](s)),x=new b['Vector3']()['crossVectors'](l,j),y=-x['dot'](g);if(x['dot'](t)+y<=0x0)return[0x0,t];let z=new b['Vector3']()['subVectors'](i,h),A=new b['Vector3']()['crossVectors'](l,z),B=-A['dot'](h);if(A['dot'](t)+B<=0x0)return[0x0,t];let C=new b['Vector3']()['crossVectors'](l,new b['Vector3']()['copy'](k)['multiplyScalar'](-0x1)),D=-C['dot'](i);if(C['dot'](t)+D<=0x0)return[0x0,t];return[0x1,t];},this['Point2LineDistance']=function(e,f,g,h){let i=new b['Vector3']()['subVectors'](g,f),j=new b['Vector3']()['subVectors'](e,f),k=j['dot'](i);if(k<=0x0){let o=j;if(h!==undefined)h['copy'](f);return o['length']();}let l=i['dot'](i);if(l<=k){let p=new b['Vector3']()['subVectors'](e,g);if(h!==undefined)h['copy'](g);return p['length']();}let m=k/l,n=new b['Vector3']()['addVectors'](f,new b['Vector3']()['copy'](i)['multiplyScalar'](m));if(h!==undefined)h['copy'](n);return new b['Vector3']()['subVectors'](e,n)['length']();},this['Line2LineDistance']=function(f,g,h,i,j,k){let l=new b['Vector3']()['subVectors'](g,f),m=new b['Vector3']()['subVectors'](i,h),n=new b['Vector3']()['subVectors'](f,h),o=l['dot'](l),p=l['dot'](m),q=m['dot'](m),r=l['dot'](n),s=m['dot'](n),t=o*q-p*p,x,y,z=t,A,B,C=t,E=-0xffffff048ff9e8000000000000000000;if(t<E||t===0x0)y=0x0,z=0x1,B=s,C=q;else{y=p*s-q*r,B=o*s-p*r;if(y<0x0)y=0x0,B=s,C=q;else y>z&&(y=z,B=s+p,C=q);}if(B<0x0){B=0x0;if(-r<0x0)y=0x0;else{if(-r>o)y=z;else y=-r,z=o;}}else{if(B>C){B=C;if(-r+p<0x0)y=0x0;else{if(-r+p>o)y=z;else y=-r+p,z=o;}}}x=Math['abs'](y)<E?0x0:y/z,A=Math['abs'](B)<E?0x0:B/C;let F=new b['Vector3']()['addVectors'](new b['Vector3']()['copy'](n),new b['Vector3']()['subVectors'](new b['Vector3']()['copy'](l)['multiplyScalar'](x),new b['Vector3']()['copy'](m)['multiplyScalar'](A)));if(j!==undefined){let G=new b['Vector3']()['addVectors'](new b['Vector3']()['copy'](f),new b['Vector3']()['copy'](l)['multiplyScalar'](x));j['copy'](G);}if(k!==undefined){let H=new b['Vector3']()['addVectors'](new b['Vector3']()['copy'](h),new b['Vector3']()['copy'](m)['multiplyScalar'](A));k['copy'](H);}return F['length']();},this['Line2LineCrossPosition']=function(e,f,g,h,i,j){let k=new b['Vector3']()['subVectors'](f,e),l=new b['Vector3']()['subVectors'](h,g);k['normalize'](),l['normalize']();let m=new b['Vector3'](),n=j;if(n===undefined)n=0.0001;let o=new b['Plane']()['setFromNormalAndCoplanarPoint'](k,e),p=o['projectPoint'](g),q=o['projectPoint'](h);if(new b['Vector3']()['subVectors'](p,q)['length']()<n){if(new b['Vector3']()['subVectors'](p,e)['length']()<n)m=m['copy'](e);else return![];}else{let r=new b['Vector3']()['subVectors'](q,p);r['normalize']();let s=new b['Plane']()['setFromNormalAndCoplanarPoint'](r,p),t=s['projectPoint'](e),u=new b['Vector3']()['subVectors'](t,p)['length']();if(u>n)return![];let v=new b['Vector3']()['subVectors'](q,p)['length'](),w=new b['Vector3']()['subVectors'](p,e)['length'](),x=new b['Vector3']()['subVectors'](q,e)['length'](),y=new b['Vector3']()['subVectors'](q,p)['dot'](new b['Vector3']()['subVectors'](e,p)),z=new b['Vector3']()['subVectors'](p,q)['dot'](new b['Vector3']()['subVectors'](e,q));if(y<0x0){if(w<n)m=m['copy'](g);else return![];}else{if(z<0x0){if(x<n)m=m['copy'](h);else return![];}else{let A=w/v;m=new b['Vector3']()['addVectors'](new b['Vector3']()['copy'](g)['multiplyScalar'](0x1-A),new b['Vector3']()['copy'](h)['multiplyScalar'](A));}}}{let B=new b['Vector3']()['subVectors'](f,e)['length'](),C=new b['Vector3']()['subVectors'](e,m)['length'](),D=new b['Vector3']()['subVectors'](f,m)['length'](),E=new b['Vector3']()['subVectors'](f,e)['dot'](new b['Vector3']()['subVectors'](m,e)),F=new b['Vector3']()['subVectors'](e,f)['dot'](new b['Vector3']()['subVectors'](m,f));if(B<n){if(new b['Vector3']()['subVectors'](m,e)['length']()<n)return i['copy'](m),!![];else return![];}if(E<0x0){if(new b['Vector3']()['subVectors'](e,m)['length']()<n)return i['copy'](e),!![];else return![];}else{if(F<0x0){if(new b['Vector3']()['subVectors'](f,m)['length']()<n)return i['copy'](f),!![];else return![];}else{let G=C/B;return m=new b['Vector3']()['addVectors'](new b['Vector3']()['copy'](e)['multiplyScalar'](0x1-G),new b['Vector3']()['copy'](f)['multiplyScalar'](G)),i['copy'](m),!![];}}}return![];},this['Tris2TrisDistance']=function(e,f,g,h){let j=[e['vertex']['v1'],e['vertex']['v2'],e['vertex']['v3']],k=[f['vertex']['v1'],f['vertex']['v2'],f['vertex']['v3']],l=new b['shPlane']()['setFromTriangle'](e),m=[];m[0x0]=l['getLocalPoint'](k[0x0]),m[0x1]=l['getLocalPoint'](k[0x1]),m[0x2]=l['getLocalPoint'](k[0x2]);let n=[];n[0x0]=l['getLocalPoint'](j[0x0]),n[0x1]=l['getLocalPoint'](j[0x1]),n[0x2]=l['getLocalPoint'](j[0x2]);let o=[new b['Vector2'](n[0x0]['x'],n[0x0]['y']),new b['Vector2'](n[0x1]['x'],n[0x1]['y']),new b['Vector2'](n[0x2]['x'],n[0x2]['y'])],p=[new b['Vector2'](m[0x0]['x'],m[0x0]['y']),new b['Vector2'](m[0x1]['x'],m[0x1]['y']),new b['Vector2'](m[0x2]['x'],m[0x2]['y'])],q=0x0,r=!![];for(let s=0x0;s<0x3;s++){let t=s,u=(t+0x1)%0x3;for(let v=0x0;v<0x3;v++){let w=(v+0x1)%0x3,x=new b['Vector3'](),y=new b['Vector3'](),z=c['Line2LineDistance'](j[v],j[w],k[t],k[u],x,y);if(r||z<q){r=![],q=z;if(g!==undefined)g['copy'](x);if(h!==undefined)h['copy'](y);}}}return q;},this['PlaneVectorCrossPosition']=function(e,f,g,h){let i=0.00001,j=g['normal']['dot'](f);if(Math['abs'](j)<i)return![];let l=g['distanceToPoint'](e),m=-l/j,n=new b['Vector3']()['addVectors'](new b['Vector3']()['copy'](f)['multiplyScalar'](m),e);return h['copy'](n),!![];},this['GetPolygonArea']=function(e,f,g){let h=new b['Vector3']()['subVectors'](f,e)['length'](),i=new b['Vector3']()['subVectors'](g,f)['length'](),j=new b['Vector3']()['subVectors'](e,g)['length'](),k=(h+i+j)/0x2,l=Math['sqrt'](k*Math['max'](0x0,k-h)*Math['max'](0x0,k-i)*Math['max'](0x0,k-j));return l;},this['GetBBox2Vertex']=function(e){let f=[new b['Vector3'](e['min']['x'],e['min']['y'],e['min']['z']),new b['Vector3'](e['min']['x'],e['min']['y'],e['max']['z']),new b['Vector3'](e['min']['x'],e['max']['y'],e['min']['z']),new b['Vector3'](e['min']['x'],e['max']['y'],e['max']['z']),new b['Vector3'](e['max']['x'],e['min']['y'],e['min']['z']),new b['Vector3'](e['max']['x'],e['min']['y'],e['max']['z']),new b['Vector3'](e['max']['x'],e['max']['y'],e['min']['z']),new b['Vector3'](e['max']['x'],e['max']['y'],e['max']['z'])];return f;},this['GetBBoxFormMatrix']=function(e,f){let g=undefined;if(f!==undefined){g=new b['BBox']();let h=c['GetBBox2Vertex'](e);for(let j=0x0;j<0x8;++j){h[j]['applyMatrix4'](f),j===0x0?(g['min']['copy'](h[j]),g['max']['copy'](h[j])):(g['min']['min'](h[j]),g['max']['max'](h[j]));}g['update']();}else g=e;return g;},this['Get2DLineFromWidth']=function(e,f,g){let h=g*0.5,j=new b['Matrix4']()['copy'](a['Camera']['matMVP']),k=a['Camera']['world2ScreenWithMatrix'](j,new b['Vector3']()['copy'](e)),l=a['Camera']['world2ScreenWithMatrix'](j,new b['Vector3']()['copy'](f)),m=new b['Vector3']()['subVectors'](l,k);m['normalize']();let n=new b['Vector3'](0x0,0x0,0x1);n['cross'](m);let o=[new b['Vector3'](k['x']+n['x']*h,k['y']+n['y']*h,k['z']),new b['Vector3'](k['x']-n['x']*h,k['y']-n['y']*h,k['z']),new b['Vector3'](l['x']+n['x']*h,l['y']+n['y']*h,l['z']),new b['Vector3'](l['x']-n['x']*h,l['y']-n['y']*h,l['z'])];for(let p=0x0;p<0x4;p++){o[p]=a['Camera']['screen2WorldWithMatrix'](j,o[p]);}return o;},this['DegToRad']=function(e){return e*Math['PI']/0xb4;},this['RadToDeg']=function(e){return e/Math['PI']*0xb4;},this['Lerp']=function(e,g,h){return e+h*(g-e);},this['GetXandYAxis']=function(e,f,g){f['set'](0x1,0x0,0x0);if(Math['abs'](f['dot'](e))>0.9)f['set'](0x0,0x0,0x1);g['copy'](e),g['cross'](f),g['normalize'](),f['copy'](g),f['cross'](e),f['normalize']();},this['GetTriangleItemIdxNormal']=function(e,f){if(f===0x0)return e['normal']['v1'];else{if(f===0x1)return e['normal']['v2'];}return e['normal']['v3'];},this['GetTriangleNormal']=function(e,f,g){let h=new b['Vector3']()['subVectors'](f,e),i=new b['Vector3']()['subVectors'](g,e);return h['cross'](i)['normalize']();},this['GetTrianglesBBox']=function(e){let f=new b['BBox']();for(let g=0x0;g<e['length'];g++){g===0x0?(f['min']['copy'](e[g]['vertex']['v1']),f['min']['min'](e[g]['vertex']['v2']),f['min']['min'](e[g]['vertex']['v3']),f['max']['copy'](e[g]['vertex']['v1']),f['max']['max'](e[g]['vertex']['v2']),f['max']['max'](e[g]['vertex']['v3'])):(f['min']['min'](e[g]['vertex']['v1']),f['min']['min'](e[g]['vertex']['v2']),f['min']['min'](e[g]['vertex']['v3']),f['max']['max'](e[g]['vertex']['v1']),f['max']['max'](e[g]['vertex']['v2']),f['max']['max'](e[g]['vertex']['v3']));}return f['update'](),f;},this['GetTrianglePos']=function(e,f){if(f===0x0)return e['vertex']['v1'];else{if(f===0x1)return e['vertex']['v2'];}return e['vertex']['v3'];},this['GetCircleCenterPTFrom3Pt']=function(e,f,g){let h=[e['x'],e['y'],e['z']],i=[f['x'],f['y'],f['z']],j=[g['x'],g['y'],g['z']],l,m,n,o,p=[i[0x0]-h[0x0],i[0x1]-h[0x1],i[0x2]-h[0x2]],q=[(i[0x0]+h[0x0])/0x2,(i[0x1]+h[0x1])/0x2,(i[0x2]+h[0x2])/0x2];o=-(p[0x0]*q[0x0]+p[0x1]*q[0x1]+p[0x2]*q[0x2]),l=p[0x0],m=p[0x1],n=p[0x2];let r=[i[0x0]-h[0x0],i[0x1]-h[0x1],i[0x2]-h[0x2]],s=[j[0x0]-i[0x0],j[0x1]-i[0x1],j[0x2]-i[0x2]],t=[];t[0x0]=r[0x1]*s[0x2]-r[0x2]*s[0x1],t[0x1]=r[0x2]*s[0x0]-r[0x0]*s[0x2],t[0x2]=r[0x0]*s[0x1]-r[0x1]*s[0x0];let u=[];u[0x0]=t[0x1]*s[0x2]-t[0x2]*s[0x1],u[0x1]=t[0x2]*s[0x0]-t[0x0]*s[0x2],u[0x2]=t[0x0]*s[0x1]-t[0x1]*s[0x0];let v=[(j[0x0]+i[0x0])/0x2,(j[0x1]+i[0x1])/0x2,(j[0x2]+i[0x2])/0x2],w=[0x0,0x0,0x0],x=l*v[0x0]+m*v[0x1]+n*v[0x2]+o,y=0x0;if(Math['abs'](x)>1e-7)y=-x/(l*u[0x0]+m*u[0x1]+n*u[0x2]);else;w[0x0]=u[0x0]*y+v[0x0],w[0x1]=u[0x1]*y+v[0x1],w[0x2]=u[0x2]*y+v[0x2];let z=new b['Vector3']();return z['x']=w[0x0],z['y']=w[0x1],z['z']=w[0x2],z;},this['IsRenderReivewNearPlane']=function(e,f){if(e===undefined)return![];if(e['x']*f[0x0]+e['y']*f[0x1]+e['z']*f[0x2]+f[0x3]<0x0)return!![];return![];},this['IsPointInTriangle2D']=function(e,f,g,h){let i,j;i=new b['Vector3']()['subVectors'](g,f),j=new b['Vector3']()['subVectors'](e,f);let k=i['x']*j['y']-i['y']*j['x'];i=new b['Vector3']()['subVectors'](h,g),j=new b['Vector3']()['subVectors'](e,g);let l=i['x']*j['y']-i['y']*j['x'];i=new b['Vector3']()['subVectors'](f,h),j=new b['Vector3']()['subVectors'](e,h);let m=i['x']*j['y']-i['y']*j['x'];if(k<=0x0&&l<=0x0&&m<=0x0||k>=0x0&&l>=0x0&&m>=0x0)return!![];return![];},this['IsTriangleInBox2D']=function(e,f,g,h,i){if(e['x']>=h['x']&&f['x']>=h['x']&&g['x']>=h['x']&&e['y']>=h['y']&&f['y']>=h['y']&&g['y']>=h['y']){if(e['x']<=i['x']&&f['x']<=i['x']&&g['x']<=i['x']&&e['y']<=i['y']&&f['y']<=i['y']&&g['y']<=i['y'])return!![];}return![];},this['CheckCross2D']=function(e,f,g,h){if(new b['Vector3']()['subVectors'](f,e)['length']()<1e-7)return![];if(new b['Vector3']()['subVectors'](h,g)['length']()<1e-7)return![];if(e['x']>=f['x']){if(e['x']<g['x']&&e['x']<h['x']||f['x']>g['x']&&f['x']>h['x'])return![];}else{if(f['x']<g['x']&&f['x']<h['x']||e['x']>g['x']&&e['x']>h['x'])return![];}if(e['y']>=f['y']){if(e['y']<g['y']&&e['y']<h['y']||f['y']>g['y']&&f['y']>h['y'])return![];}else{if(f['y']<g['y']&&f['y']<h['y']||e['y']>g['y']&&e['y']>h['y'])return![];}if(((e['x']-f['x'])*(g['y']-e['y'])+(e['y']-f['y'])*(e['x']-g['x']))*((e['x']-f['x'])*(h['y']-e['y'])+(e['y']-f['y'])*(e['x']-h['x']))>0x0)return![];if(((g['x']-h['x'])*(e['y']-g['y'])+(g['y']-h['y'])*(g['x']-e['x']))*((g['x']-h['x'])*(f['y']-g['y'])+(g['y']-h['y'])*(g['x']-f['x']))>0x0)return![];return!![];},this['IsTriangleCrossBox2D']=function(e,f,g,h,i,j,k){const l=Math['min'](e['x'],Math['min'](f['x'],g['x'])),m=Math['min'](e['y'],Math['min'](f['y'],g['y'])),n=Math['max'](e['x'],Math['max'](f['x'],g['x'])),o=Math['max'](e['y'],Math['max'](f['y'],g['y']));if(n<h['x']||l>i['x']||o<h['y']||m>j['y'])return 0x0;if(c['IsTriangleInBox2D'](e,f,g,h,j))return 0x1;{if(c['IsPointInTriangle2D'](h,e,f,g)||c['IsPointInTriangle2D'](i,e,f,g)||c['IsPointInTriangle2D'](j,e,f,g)||c['IsPointInTriangle2D'](k,e,f,g))return 0x2;}{if(c['CheckCross2D'](e,f,h,i))return 0x3;if(c['CheckCross2D'](e,f,i,j))return 0x3;if(c['CheckCross2D'](e,f,j,k))return 0x3;if(c['CheckCross2D'](e,f,k,h))return 0x3;if(c['CheckCross2D'](f,g,h,i))return 0x3;if(c['CheckCross2D'](f,g,i,j))return 0x3;if(c['CheckCross2D'](f,g,j,k))return 0x3;if(c['CheckCross2D'](f,g,k,h))return 0x3;if(c['CheckCross2D'](g,e,h,i))return 0x3;if(c['CheckCross2D'](g,e,i,j))return 0x3;if(c['CheckCross2D'](g,e,j,k))return 0x3;if(c['CheckCross2D'](g,e,k,h))return 0x3;}return 0x0;},this['GetAxisTransform']=function(e,f){let g=e['dot'](f);if(Math['abs'](g)>0.9)return new b['Matrix4']();let h=new b['Vector3']()['copy'](e),i=new b['Vector3']()['copy'](f),j=new b['Vector3']()['copy'](e);return j['copy'](e),j['cross'](i),j['normalize'](),i['copy'](j),i['cross'](h),i['normalize'](),new b['Matrix4']()['makeBasis'](h,i,j);},this['GetRotateTranslateFormMatrix']=function(e,f,g){if(e===undefined)return;let h=new b['Matrix4']()['copy'](e);f['copy'](h['getTranslate']()),g['x']=Math['atan2'](h['elements'][0x6],h['elements'][0xa]),g['y']=Math['atan2'](-h['elements'][0x2],Math['sqrt'](h['elements'][0x6]*h['elements'][0x6]+h['elements'][0xa]*h['elements'][0xa])),g['z']=Math['atan2'](h['elements'][0x1],h['elements'][0x0]);},this['GetTransformMatrix']=function(e,f,g){let h=new b['Matrix4'](),i=new b['Matrix4'](),j=new b['Matrix4'](),k=new b['Matrix4']();i['makeRotationX'](g['x']*3.14/0xb4),j['makeRotationY'](g['y']*3.14/0xb4),k['makeRotationZ'](g['z']*3.14/0xb4),h=new b['Matrix4']()['multiplyMatrices'](i,j),h=new b['Matrix4']()['multiplyMatrices'](h,k);let l=new b['Vector3']()['copy'](e)['multiplyScalar'](-0x1),m=new b['Matrix4']()['setPosition'](l),n=new b['Matrix4']()['setPosition'](e),o=new b['Matrix4']()['multiplyMatrices'](h,m),p=new b['Matrix4']()['multiplyMatrices'](n,o);return p['translate'](f['x'],f['y'],f['z']),p;},this['GetTransformMatrixFormTransform']=function(e,f){let g=new b['Matrix4']()['copy'](f),h=new b['Vector3']()['copy'](e)['multiplyScalar'](-0x1),i=new b['Matrix4']()['setPosition'](h),j=new b['Matrix4']()['setPosition'](e),k=new b['Matrix4']()['multiplyMatrices'](g,i),l=new b['Matrix4']()['multiplyMatrices'](j,k);return l;},this['QuaternionInterpolation']=function(e,f,g){let h=new b['Quaternion'](0x0,0x0,0x0,0x1),k=new b['Vector3'](),l=new b['Vector3']();h=e['getQuaternion'](),k=e['getScale'](),l=e['getTranslate']();let m=new b['Quaternion'](),n=new b['Vector3'](),o=new b['Vector3']();m=f['getQuaternion'](),n=f['getScale'](),o=f['getTranslate']();let p=0x1-g,q=g,r=h['slerp'](m,g);p=0x1-g,q=g;let s=new b['Vector3']()['addVectors'](k['multiplyScalar'](p),n['multiplyScalar'](q)),u=new b['Vector3']()['addVectors'](l['multiplyScalar'](p),o['multiplyScalar'](q)),v=new b['Matrix4'](),w=new b['Matrix4'](),x=new b['Matrix4'](),y=new b['Matrix4']();w['makeRotationFromQuaternion'](r),x['makeScale'](s['x'],s['y'],s['z']),y['makeTranslation'](u['x'],u['y'],u['z']),v=new b['Matrix4']()['multiplyMatrices'](y,w),v=new b['Matrix4']()['multiplyMatrices'](v,x);let z=new b['Vector3'](),A=new b['Vector3'](0x2710,0x0,0x0);z=v['multiplyVector'](z),A=v['multiplyVector'](A);let B=new b['Vector3']()['subVectors'](A,z)['length']/0x2710;if(B>0.00001){for(let C=0x0;C<0x3;C++)for(let D=0x0;D<0x3;D++)v['elements'][C*0x4+D]/=B;}return v;},this['GetVectorCrossPos']=function(k,l,m,n,o,q){if(Math['abs'](l[0x0]-n[0x0])<q&&Math['abs'](l[0x1]-n[0x1])<q&&Math['abs'](l[0x2]-n[0x2])<q)return![];if(Math['abs'](l[0x0]+n[0x0])<q&&Math['abs'](l[0x1]+n[0x1])<q&&Math['abs'](l[0x2]+n[0x2])<q)return![];let r,s,t,u,v,w,x,y,z,A,B;for(let C=0x0;C<0x3;C++){if(Math['abs'](l[C])<q&&Math['abs'](n[C])>q)return A=(k[C]-m[C])/n[C],o[0x0]=m[0x0]+n[0x0]*A,o[0x1]=m[0x1]+n[0x1]*A,o[0x2]=m[0x2]+n[0x2]*A,!![];if(Math['abs'](n[C])<q&&Math['abs'](l[C])>q)return z=(m[C]-k[C])/l[C],o[0x0]=k[0x0]+l[0x0]*z,o[0x1]=k[0x1]+l[0x1]*z,o[0x2]=k[0x2]+l[0x2]*z,!![];}for(let D=0x0;D<0x3;D++){for(let E=0x0;E<0x3;E++){if(D===E)continue;if(Math['abs'](l[D])<q&&Math['abs'](n[D])<q)continue;if(Math['abs'](l[E])<q&&Math['abs'](n[E])<q)continue;r=l[D],s=k[D],t=n[D],u=m[D],v=l[E],w=k[E],x=n[E],y=m[E],B=t/x,v*=B,w*=B,x*=B,y*=B,r=r-v,s=s-w,u=u-y;if(Math['abs'](r)<q)continue;return z=(u-s)/r,o[0x0]=k[0x0]+l[0x0]*z,o[0x1]=k[0x1]+l[0x1]*z,o[0x2]=k[0x2]+l[0x2]*z,!![];}}return![];},this['GetBase64FromImageUrl']=function(e){let f=new Image();f['setAttribute']('crossOrigin','anonymous'),f['onload']=function(){let g=document['createElement']('canvas');g['width']=this['width'],g['height']=this['height'];let h=g['getContext']('2d');h['drawImage'](this,0x0,0x0);let i=g['toDataURL']('image/png');console['log'](i['replace'](/^data:image\/(png|jpg);base64,/,''));},f['src']=e;},this['GetCubeMapTexture']=function(e){let f='';switch(e){case 0x0:f=a['Configuration']['Default']['Path']+'Resource/skybox/Skybox_Right.png';break;case 0x1:f=a['Configuration']['Default']['Path']+'Resource/skybox/Skybox_Left.png';break;case 0x2:f=a['Configuration']['Default']['Path']+'Resource/skybox/Skybox_Front.png';break;case 0x3:f=a['Configuration']['Default']['Path']+'Resource/skybox/Skybox_Back.png';break;case 0x4:f=a['Configuration']['Default']['Path']+'Resource/skybox/Skybox_Top.png';break;case 0x5:f=a['Configuration']['Default']['Path']+'Resource/skybox2/Skybox_UnityVer1_Bottom.png';break;}return f;},this['GetTESTTextureData64Src']=function(e){let f='';switch(e){case 0x64:f=a['Configuration']['Default']['Path']+'MODEL/Resource/1/texture_mold.jpg';break;case 0x65:f=a['Configuration']['Default']['Path']+'MODEL/Resource/1/texture_armNwheel.jpg';break;case 0x66:f=a['Configuration']['Default']['Path']+'MODEL/Resource/1/texture_leather.jpg';break;case 0x67:f=a['Configuration']['Default']['Path']+'MODEL/Resource/1/texture_steel.jpg';break;case 0x68:f=a['Configuration']['Default']['Path']+'MODEL/Resource/1/texture_wheel.jpg';break;case 0x69:f=a['Configuration']['Default']['Path']+'MODEL/Resource/1/PlaneShadow_v3.png';break;case 0xc8:f=a['Configuration']['Default']['Path']+'MODEL/Resource/1/normal_mold.jpg';break;case 0xc9:f=a['Configuration']['Default']['Path']+'MODEL/Resource/1/normal_armNwheel.jpg';break;case 0xca:f=a['Configuration']['Default']['Path']+'MODEL/Resource/1/normal_leather.jpg';break;case 0xcb:f=a['Configuration']['Default']['Path']+'MODEL/Resource/1/normal_steel.jpg';break;case 0xcc:f=a['Configuration']['Default']['Path']+'MODEL/Resource/1/normal_wheel.jpg';break;case 0x96:f=a['Configuration']['Default']['Path']+'/MODEL/Resource/steelCase/mold_texture_steelcase.jpg';break;case 0x98:f=a['Configuration']['Default']['Path']+'MODEL/Resource/steelCase/leather_texture_steelcase.jpg';break;case 0xfa:f=a['Configuration']['Default']['Path']+'MODEL/Resource/steelCase/mold_normal_steelcase.jpg';break;case 0xfc:f=a['Configuration']['Default']['Path']+'MODEL/Resource/steelCase/leather_normal_steelcase.jpg';break;}return f;},this['ExportTextFileTxt_v1']=function(e){let f=new Blob(e,{'type':'text/plain;charset=utf-8'}),g=window['URL']['createObjectURL'](f),h=document['createElement']('a');document['body']['appendChild'](h),h['href']=g,h['download']='textFile.txt',h['click'](),window['URL']['revokeObjectURL'](g);},this['SaveCanvasImage']=function(e){const f=e['toDataURL']();c['SaveImageByBase64'](f);},this['SaveImageData']=function(e,f,g){let h=document['createElement']('canvas');h['id']=a['Container']['id']+'canvasbuffer',h['width']=f,h['height']=g;let i=h['getContext']('2d'),j=i['createImageData'](f,g);j['data']['set'](e),i['putImageData'](j,0x0,0x0);const k=h['toDataURL']();c['SaveImageByBase64'](k);},this['SaveImageByBase64']=function(e){let f=d(e),g=document['createElement']('a');document['body']['appendChild'](g),g['style']='display:\x20none',g['href']=e,g['download']='filename',g['click'](),window['URL']['revokeObjectURL'](e);};function d(e){let f=e['split'](','),g=f[0x0]['match'](/:(.*?);/)[0x1],h=atob(f[0x1]),i=h['length'],j=new Uint8Array(i);while(i--){j[i]=h['charCodeAt'](i);}return new Blob([j],{'type':g});};this['ByteToImageSrc']=function(e){return'data:image/png;base64,'+btoa(String['fromCharCode']['apply'](null,new Uint8Array(e)));},this['ExportTextFileTxt_v2']=function(e){let f=new Blob(e,{'type':'text/plain;charset=utf-8'}),g=window['URL']['createObjectURL'](f),h=new Date(),i=document['createElement']('a');document['body']['appendChild'](i),i['href']=g,i['download']='Text_'+h['getFullYear']()+'.'+(h['getMonth']()+0x1)+'.'+h['getDate']()+'_'+h['getHours']()+'_'+h['getMinutes']()+'.txt',i['click'](),window['URL']['revokeObjectURL'](g),document['body']['removeChild'](i);},this['ExportTextFile']=function(e){let f=new Blob([e],{'type':'application/json'}),g=window['URL']['createObjectURL'](f),h=new Date(),i=document['createElement']('a');document['body']['appendChild'](i),i['href']=g,i['download']='JSON_'+h['getFullYear']()+'.'+(h['getMonth']()+0x1)+'.'+h['getDate']()+'_'+h['getHours']()+'_'+h['getMinutes']()+'.json',i['click'](),window['URL']['revokeObjectURL'](g),document['body']['removeChild'](i);},this['ExportBufferFile']=function(e,f){let g=new Blob([e],{'type':'application/octet-stream'}),h=window['URL']['createObjectURL'](g),i=document['createElement']('a');document['body']['appendChild'](i),i['href']=h,i['download']=f,i['click'](),window['URL']['revokeObjectURL'](h),document['body']['removeChild'](i);},this['ImportFileByJson']=function(e,f){let g=document['createElement']('input');g['type']='file',g['accept']='.json',g['onchange']=h=>{let i=Array['from'](g['files']),j=new FileReader();j['onload']=function(k){let l=k['target']['result'],m=JSON['parse'](l);},j['readAsText'](i[0x0]);},g['click']();},this['SetURLEncryption']=function(e){a['Loader']['SetURLEncryption'](e);},this['NewGUID']=function(){return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'['replace'](/[xy]/g,function(e){const f=crypto['getRandomValues'](new Uint32Array(0x1))[0x0]/0x2**0x20;var g=f*0x10|0x0,h=e=='x'?g:g&0x3|0x8;return h['toString'](0x10);});};}}export default Util;