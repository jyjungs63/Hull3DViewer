import a from'./Brush.js';import b from'./Line.js';import c from'./Square.js';import d from'./Circle.js';import e from'./Text.js';import f from'./Image.js';import g from'./Configuration.js';import h from'./Navigator.js';class Sketch{constructor(i){let j=this;this['Interface']=undefined,this['ID']=undefined,this['canvas']=i;const k=i['getContext']('2d');let l=document['querySelector']('.'+i['className'])['parentElement']['className'];this['SketchItems']=[],this['Scales']=[],this['setting']={'size':2.5,'color':'#000000'},this['pointX']=0x0,this['pointY']=0x0,this['_Scale']=0x1,this['PanMode']=![],this['oldMode']=undefined,this['Brush']=new a(this,this['setting']),this['Line']=new b(this,this['setting']),this['Square']=new c(this,this['setting']),this['Circle']=new d(this,this['setting']),this['Text']=new e(this),this['Image']=new f(this),this['Configuration']=new g(),this['Navigator']=new h(this);let m=![],n=![],o='2.0.22.1128',p='?flag=4&id=2&msg=53@127.0.0.1@00-00-00-00-00-00@N/A@N/A@N/A@N/A@'+o;this['SeccionID']='';let q=-0x1;this['AliveTimer']=null,this['AliveTime']=0xa*0x3c*0x3e8,this['Elements']=new Map(),this['Images']=new Map(),this['Enum']={'Mode':{'Pan':0x0,'Select':0x1,'Brush':0x2,'Line':0x3,'Square':0x4,'Circle':0x5,'Text':0x6},'Image':{'SelectOn':this['Configuration']['Default']['Path']+'Resource/icon/VIZWeb3D_FDMS_Select_2.png','SelectOff':this['Configuration']['Default']['Path']+'Resource/icon/VIZWeb3D_FDMS_Select.png','PanOn':this['Configuration']['Default']['Path']+'Resource/icon/VIZWeb3D_FDMS_Pan_2.png','PanOff':this['Configuration']['Default']['Path']+'Resource/icon/VIZWeb3D_FDMS_Pan.png','BrushOn':this['Configuration']['Default']['Path']+'Resource/icon/VIZWeb3D_FDMS_DrawFree_2.png','BrushOff':this['Configuration']['Default']['Path']+'Resource/icon/VIZWeb3D_FDMS_DrawFree.png','LineOn':this['Configuration']['Default']['Path']+'Resource/icon/VIZWeb3D_FDMS_DrawLine_2.png','LineOff':this['Configuration']['Default']['Path']+'Resource/icon/VIZWeb3D_FDMS_DrawLine.png','SquareOn':this['Configuration']['Default']['Path']+'Resource/icon/VIZWeb3D_FDMS_DrawSquare_2.png','SquareOff':this['Configuration']['Default']['Path']+'Resource/icon/VIZWeb3D_FDMS_DrawSquare.png','CircleOn':this['Configuration']['Default']['Path']+'Resource/icon/VIZWeb3D_FDMS_DrawCircle_2.png','CircleOff':this['Configuration']['Default']['Path']+'Resource/icon/VIZWeb3D_FDMS_DrawCircle.png','TextOn':this['Configuration']['Default']['Path']+'Resource/icon/VIZWeb3D_FDMS_AddText_2.png','TextOff':this['Configuration']['Default']['Path']+'Resource/icon/VIZWeb3D_FDMS_AddText.png'}},this['GetContext']=function(){return k;},this['Size']=function(I){j['setting']['size']=I;},this['Color']=function(I){j['setting']['color']=I;},this['SketchItem']=function(){let I={'id':0x0,'visible':!![],'selection':![],'src':undefined,'text':{'value':undefined,'x':0x0,'y':0x0,'pX':0x0,'pY':0x0,'setting':[],'selected':![],'min':{'x':0x0,'y':0x0},'max':{'x':0x0,'y':0x0}},'drawitem':{'x':0x0,'y':0x0,'zoom':![]},'image':{'item':undefined,'src':undefined,'width':0x0,'height':0x0,'canvasHeight':0x0},'brush':{'color':undefined,'size':0x0,'pXY':[],'position':[],'selected':![],'min':{'x':0x0,'y':0x0},'max':{'x':0x0,'y':0x0}},'line':{'color':undefined,'size':0x0,'pXY':[],'position':[],'selected':![],'min':{'x':0x0,'y':0x0},'max':{'x':0x0,'y':0x0}},'square':{'name':'square','color':undefined,'size':0x0,'pXY':[],'position':[],'selected':![],'min':{'x':0x0,'y':0x0},'max':{'x':0x0,'y':0x0}},'circle':{'color':undefined,'size':0x0,'pXY':[],'position':[],'selected':![],'min':{'x':0x0,'y':0x0},'max':{'x':0x0,'y':0x0}}};return I;},this['Scale']=function(){let I={'scaleWidth':0x0,'scaleHeight':0x0};return I;},this['ResetScale']=function(){j['pointX']=0x0,j['pointY']=0x0,j['_Scale']=0x1;};function r(){let I=undefined;for(let O=0x0;O<j['SketchItems']['length'];O++){let P=j['SketchItems'][O];if(P===undefined)continue;if(P['image']['item']!==undefined){if(P['image']['item']['src']['localeCompare'](j['Navigator']['currentSrc'])!==0x0)continue;I=P;}}if(I===undefined)return;let J=j['Navigator']['currentImage'];if(J===undefined)return;let K=I['drawitem']['x'],L=I['drawitem']['y'],M=I['image']['canvasWidth'],N=I['image']['canvasHeight'];K+=j['pointX'],L+=j['pointY'],I['drawitem']['zoom']&&(M*=j['_Scale'],N*=j['_Scale']),k['drawImage'](I['image']['item'],K,L,M,N);};this['DrawSketch']=function(){if(q!==0x0)return;k['clearRect'](0x0,0x0,i['width'],i['height']),k['strokeStyle']=j['setting']['color'],k['lineWidth']=j['setting']['size'],r();for(let I=0x0;I<j['SketchItems']['length'];I++){let J=j['SketchItems'][I];if(J===undefined)continue;k['lineWidth']=J['brush']['size'];if(!J['visible'])continue;if(J['image']['item']!==undefined)continue;if(J['src']!==undefined&&J['src']['localeCompare'](j['Navigator']['currentSrc'])!==0x0)continue;if(J['brush']['position']['length']>0x0){k['beginPath'](),k['strokeStyle']=J['brush']['color'],k['lineWidth']=J['brush']['size'];J['brush']['selected']&&(k['strokeStyle']='red');let K=!![];for(let L=0x0;L<J['brush']['position']['length'];L++){const M=J['brush']['position'][L];let N=C(M);D(J['brush'],N);for(let O=0x0;O<M['length']-0x1;O++){let P=M[O],Q=M[O+0x1];K?(k['moveTo'](P['x']*j['_Scale']+j['pointX'],P['y']*j['_Scale']+j['pointY']),K=![]):k['lineTo'](P['x']*j['_Scale']+j['pointX'],P['y']*j['_Scale']+j['pointY']),k['lineTo'](Q['x']*j['_Scale']+j['pointX'],Q['y']*j['_Scale']+j['pointY']);}J['brush']['selected']&&B(J['brush']);}k['stroke']();}if(J['brush']['pXY']['length']>0x0&&m){k['beginPath']();let R=!![];for(let S=0x0;S<J['brush']['pXY']['length'];S++){const T=J['brush']['pXY'][S];for(let U=0x0;U<T[0x0]['length']-0x1;U++){let V=T[0x0][U],W=T[0x0][U+0x1];R?(k['moveTo'](V['x']*i['width'],V['y']*i['height']),R=![]):k['lineTo'](V['x']*i['width'],V['y']*i['height']),k['lineTo'](W['x']*i['width'],W['y']*i['height']);}J['brush']['selected']&&B(J['brush']);}k['stroke']();}if(J['line']['position']['length']>0x0){k['beginPath']();J['line']['selected']&&(k['strokeStyle']='red');for(let X=0x0;X<J['line']['position']['length'];X++){const Y=J['line']['position'][X];let Z=C(Y);D(J['line'],Z);let a0=Y[0x0],a1=Y[Y['length']-0x1];k['moveTo'](a0['x']*j['_Scale']+j['pointX'],a0['y']*j['_Scale']+j['pointY']),k['lineTo'](a1['x']*j['_Scale']+j['pointX'],a1['y']*j['_Scale']+j['pointY']);}J['line']['selected']&&B(J['line']),k['stroke']();}if(J['line']['pXY']['length']>0x0&&m){k['beginPath']();for(let a2=0x0;a2<J['line']['pXY']['length'];a2++){const a3=J['line']['pXY'][a2];for(let a4=0x0;a4<a3[0x0]['length'];a4++){let a5=a3[0x0][0x0],a6=a3[0x0][a3['length']-0x1];k['moveTo'](a5['x']*i['width'],a5['y']*i['height']),k['lineTo'](a6['x']*i['width'],a6['y']*i['height']);}}J['line']['selected']&&B(J['line']),k['stroke']();}if(J['square']['position']['length']>0x0){k['beginPath']();J['circle']['selected']&&(k['strokeStyle']='red');for(let a7=0x0;a7<J['square']['position']['length'];a7++){const a8=J['square']['position'][a7];let a9=C(a8);D(J['square'],a9);let aa=a8[0x0],ab,ac;j['Scales'][0x0]===undefined?(ab=aa['x']*j['_Scale']+j['pointX'],ac=aa['y']*j['_Scale']+j['pointY']):(ab=aa['x']*j['Scales'][0x0]['scaleWidth']*j['_Scale']+j['pointX'],ac=aa['y']*j['Scales'][0x0]['scaleHeight']*j['_Scale']+j['pointY']);let ad=0x0,ae=0x0;for(let af=0x0;af<a8['length'];af++){j['Scales'][0x0]===undefined?(ad=a8[af]['x']*j['_Scale']+j['pointX'],ae=a8[af]['y']*j['_Scale']+j['pointY']):(ad=a8[af]['x']*j['Scales'][0x0]['scaleWidth']*j['_Scale']+j['pointX'],ae=a8[af]['y']*j['Scales'][0x0]['scaleHeight']*j['_Scale']+j['pointY']);}k['strokeRect'](ab,ac,ad-ab,ae-ac);}J['square']['selected']&&B(J['square']);}if(J['square']['pXY']['length']>0x0&&m){k['beginPath']();for(let ag=0x0;ag<J['square']['pXY']['length'];ag++){const ah=J['square']['pXY'][ag];for(let ai=0x0;ai<ah[0x0]['length'];ai++){let aj=ah[0x0][0x0],ak=aj['x']*i['width'],al=aj['y']*i['height'],am=0x0,an=0x0;am=ah[0x0][ai]['x']*i['width'],an=ah[0x0][ai]['y']*i['height'],k['strokeRect'](ak,al,am-ak,an-al);}}J['square']['selected']&&B(J['square']);}if(J['circle']['position']['length']>0x0){k['beginPath']();J['circle']['selected']&&(k['strokeStyle']='red');for(let ao=0x0;ao<J['circle']['position']['length'];ao++){const ap=J['circle']['position'][ao];let aq=ap[0x0],ar=aq['x']*j['_Scale']+j['pointX'],as=aq['y']*j['_Scale']+j['pointY'],at=0x0,au=0x0;for(let aD=0x0;aD<ap['length'];aD++){at=ap[aD]['x']*j['_Scale']+j['pointX'],au=ap[aD]['y']*j['_Scale']+j['pointY'];}let av=(at-ar)*0.65,aw=(au-as)*0.65,ax=ar+av,ay=as+aw,az=0.01,aA=0x2*Math['PI']+az,aB=[];k['moveTo'](ax+av*Math['cos'](0x0),ay+aw*Math['sin'](0x0)),aB['push']({'x':ax+av*Math['cos'](0x0),'y':ay+aw*Math['sin'](0x0)});for(let aE=az;aE<aA;aE+=az){k['lineTo'](ax+av*Math['cos'](aE),ay+aw*Math['sin'](aE)),aB['push']({'x':ax+av*Math['cos'](aE),'y':ay+aw*Math['sin'](aE)});}let aC=C(aB);D(J['circle'],aC);}J['circle']['selected']&&B(J['circle']),k['stroke']();}if(J['circle']['pXY']['length']>0x0&&m){k['beginPath']();for(let aF=0x0;aF<J['circle']['pXY']['length'];aF++){const aG=J['circle']['pXY'][aF];for(let aH=0x0;aH<aG[0x0]['length'];aH++){let aI=aG[0x0][0x0],aJ=aI['x']*i['width'],aK=aI['y']*i['height'],aL=0x0,aM=0x0;aL=aG[0x0][aH]['x']*i['width'],aM=aG[0x0][aH]['y']*i['height'];let aN=(aL-aJ)*0.65,aO=(aM-aK)*0.65,aP=aJ+aN,aQ=aK+aO,aR=0.01,aS=0x2*Math['PI']+aR;k['moveTo'](aP+aN*Math['cos'](0x0),aQ+aO*Math['sin'](0x0));for(let aT=aR;aT<aS;aT+=aR)k['lineTo'](aP+aN*Math['cos'](aT),aQ+aO*Math['sin'](aT));}}J['circle']['selected']&&B(J['circle']),k['stroke']();}if(J['text']['value']!==undefined){let aU=[],aV='',aW,aX=J['text']['value'],aY=s(J['text']);aU['push']({'x':aY['x'],'y':aY['y']});for(let b1=0x0;b1<J['text']['setting']['length'];b1++){const b2=J['text']['setting'][b1];let b3=b2['spacing'],b4=b2['fontSize']*j['_Scale'];k['textBaseline']=b2['textBaseline'],k['textAlign']=b2['textAlign'],k['fillStyle']=!J['text']['selected']?b2['color']:'red',k['font']=!b2['style']?b4+'pt\x20'+b2['face']:b2['style']+'\x20'+b4+'pt\x20'+b2['face'],aW=b2['fieldWidth'];for(let b5=0x0;b5<aX['length'];b5++){const b6=aV+aX[b5];k['fillText'](b6,aY['x'],aY['y']),aV='',aY['y']+=b4*b3,aU['push']({'x':aY['x'],'y':aY['y']});}}let aZ=aW*j['_Scale'],b0=C(aU);b0['max']['x']+=aZ,D(J['text'],b0),k['fillText'](aV,aY['x'],aY['y']),J['text']['selected']&&B(J['text']);}}if(j['Interface']['WaterMark']!==undefined)j['Interface']['WaterMark']['Render']();};function s(I){let J={'x':0x0,'y':0x0};return m?J={'x':I['pX']*i['width'],'y':I['pY']*i['height']}:J={'x':I['x']*j['_Scale']+j['pointX'],'y':I['y']*j['_Scale']+j['pointY']},J;}this['ExportJson']=function(I){if(I==undefined)return JSON['stringify'](j['SketchItems']);let J=document['createElement']('a');J['setAttribute']('href','data:application/json;charset=utf-8,'+encodeURIComponent(JSON['stringify'](j['SketchItems']))),J['setAttribute']('download',I),J['style']['display']='none',document['body']['appendChild'](J),J['click'](),document['body']['removeChild'](J);},this['LoadJson']=function(I){if(I==undefined){let J=document['createElement']('input');J['type']='file',J['accept']='.json',J['onchange']=K=>{let L=Array['from'](J['files']),M=new FileReader();M['onload']=N=>{let O=N['target']['result'],P=JSON['parse'](O);const Q=new Image();Q['src']=P[0x0]['image']['src'],P[0x0]['image']['item']=Q,j['Image']['SetImage'](P[0x0]['image']['src'],P);},M['readAsText'](L[0x0]);},J['click']();}else j['SketchItems']=JSON['parse'](I);},this['GetImageData']=function(){return i['toDataURL']();},this['ExportPNG']=function(I){if(I==undefined)I='Image.png';let J=document['createElement']('a');J['setAttribute']('href',i['toDataURL']()),J['setAttribute']('download',I),J['style']['display']='none',document['body']['appendChild'](J),J['click'](),document['body']['removeChild'](J);},this['SetImage']=function(I){if(typeof I==='string')j['Image']['SetImage'](I),j['Images']['set'](I,undefined);else{if(Array['isArray'](I)){for(let J=0x0;J<I['length'];J++)j['Images']['set'](I[J],undefined);j['Image']['SetImage'](I[0x0]);}}j['Navigator']['Init'](),j['Navigator']['Refresh'](),j['DrawSketch']();},this['SetImageData']=function(I,J){j['Images']['set'](I,J);},this['Select']=function(){j['PanMode']&&(j['PanMode']=![]),this['Mode']='SelectMode',j['oldMode']!==undefined&&j['oldMode']['Mode']!==this['Mode']&&j['oldMode']['DrawEnd'](),j['oldMode']=j,i['addEventListener']('click',v),i['addEventListener']('mousemove',t),j['SetMode'](j['Enum']['Mode']['Select']);};function t(I){let J=I['offsetX'],K=I['offsetY'];j['SketchItems']['forEach'](L=>{let M=L['brush'],N=L['circle'],O=L['line'],P=L['square'],Q=L['text'];M['position']['length']>0x0&&(x(M,J,K)?i['style']['cursor']='pointer':i['style']['cursor']='default'),O['position']['length']>0x0&&(x(O,J,K)?i['style']['cursor']='pointer':i['style']['cursor']='default'),N['position']['length']>0x0&&(x(N,J,K)?i['style']['cursor']='pointer':i['style']['cursor']='default'),P['position']['length']>0x0&&(x(P,J,K)?i['style']['cursor']='pointer':i['style']['cursor']='default'),Q['value']!==undefined&&(x(Q,J,K)?i['style']['cursor']='pointer':i['style']['cursor']='default');});}function u(I){if(I['keyCode']===0x2e)for(let J=j['SketchItems']['length']-0x1;J>=0x0;J--){const K=j['SketchItems'][J];if(K===undefined)continue;let L=K['brush'],M=K['circle'],N=K['line'],O=K['square'],P=K['text'];L['selected']&&j['SketchItems']['splice'](J,0x1),M['selected']&&j['SketchItems']['splice'](J,0x1),N['selected']&&j['SketchItems']['splice'](J,0x1),O['selected']&&j['SketchItems']['splice'](J,0x1),P['selected']&&j['SketchItems']['splice'](J,0x1),j['DrawSketch']();}}function v(I){window['addEventListener']('keydown',u);let J=I['offsetX'],K=I['offsetY'],L=![];w();for(let M=j['SketchItems']['length']-0x1;M>=0x0;M--){let N=j['SketchItems'][M];if(L===!![])break;let O=N['brush'],P=N['circle'],Q=N['line'],R=N['square'],S=N['text'];O['position']['length']>0x0&&(O['selected']=![],x(O,J,K)?(L=!![],O['selected']=!![]):O['selected']=![]),Q['position']['length']>0x0&&(Q['selected']=![],x(Q,J,K)?(L=!![],Q['selected']=!![]):Q['selected']=![]),P['position']['length']>0x0&&(x(P,J,K)?(L=!![],P['selected']=!![]):P['selected']=![]),R['position']['length']>0x0&&(R['selected']=![],x(R,J,K)?(L=!![],R['selected']=!![]):R['selected']=![]),S['value']!==undefined&&(S['selected']=![],x(S,J,K)?(L=!![],S['selected']=!![]):S['selected']=![]);};j['DrawSketch']();};window['addEventListener']('keydown',A);function w(){j['SketchItems']['forEach']((I,J)=>{let K=I['circle'];K['selected']=![];let L=I['brush'];L['selected']=![];let M=I['line'];M['selected']=![];let N=I['square'];N['selected']=![];let O=I['text'];O['selected']=![];});}function x(I,J,K){let L=0x14,M=I['min']['x']*j['_Scale']+j['pointX'],N=I['max']['x']*j['_Scale']+j['pointX'],O=I['min']['y']*j['_Scale']+j['pointY'],P=I['max']['y']*j['_Scale']+j['pointY'];return I['name']==='square'&&(M-=L,N+=L,O-=L,P+=L),M<=J&&N>=J&&(O<=K&&P>=K);}function y(I,J){let K=z(I,0x0,0x0,0x0),L=z(0x0,J,0x0,0x0),M=[]['concat']['apply']([],[K,0x0,L,0x0,K,0x0,L]);return M;}function z(I,J,K,L){let M=Math['hypot'](K-I,L-K),N=M/0x10,O=M/N,P=N*0.66666;N-=P*0.8888;let Q=0x0,R=[],S;while(Q<M){S=R['length']%0x2?P:N,Q+=S,R['push'](S);}return R;}function A(I){if(I['key']==='Escape'){j['PanMode']&&j['Image']['PanMode']();if(j['oldMode']==undefined)return;j['oldMode']['DrawEnd'](),j['oldMode']=undefined;}};this['DrawEnd']=()=>{j['SketchItems']['forEach'](I=>{I['brush']['selected']&&(I['brush']['selected']=![]),I['circle']['selected']&&(I['circle']['selected']=![]),I['line']['selected']&&(I['line']['selected']=![]),I['square']['selected']&&(I['square']['selected']=![]),I['text']['selected']&&(I['text']['selected']=![]);}),j['DrawSketch'](),document['getElementById']('btnSketchSelectImg')['src']=view['Configuration']['Default']['Path']+'Resource/icon/VIZWeb3D_FDMS_Select.png',document['getElementById']('btnSketchSelect')['classList']['remove']('btnImgSelect'),i['removeEventListener']('click',v),i['removeEventListener']('mousemove',t),i['style']['cursor']='default';};function B(I){let J=I['min'],K=I['max'];k['strokeStyle']='#000',k['lineWidth']=0x1;let L=I['name']==='square'?0x14:j['setting']['size'],M=J['x']*j['_Scale']+j['pointX']-L,N=K['x']*j['_Scale']+j['pointX']+L,O=J['y']*j['_Scale']+j['pointY']-L,P=K['y']*j['_Scale']+j['pointY']+L,Q=N-M,R=O-P;k['strokeRect'](M,P,Q,R),k['strokeStyle']=j['setting']['color'],k['lineWidth']=j['setting']['size'];}function C(I){let J=[],K=[];I['forEach'](Q=>{J['push'](Q['x']),K['push'](Q['y']);});let L=Math['min'](...J),M=Math['max'](...J),N=Math['min'](...K),O=Math['max'](...K);const P={'min':{'x':L,'y':N},'max':{'x':M,'y':O}};return P;}function D(I,J){I['min']=J['min'],I['max']=J['max'];}function E(I,J){let K=new XMLHttpRequest(),L='GET';J===undefined?K['open'](L,I,![]):(K['open'](L,I,!![]),K['onreadystatechange']=function(N){const {target:O}=N;if(O['readyState']===XMLHttpRequest['DONE']){const {status:P}=O;P===0x0||P>=0xc8&&P<0x190?console['log']('HTTP\x20Request\x20Success\x20::',N):console['log']('HTTP\x20Request\x20Error',N);}});K['send']();let M=K['responseText'];return M;}function F(){G(),H(j['Configuration']['AUTHORITY_PARAMS']['Data']+p),window['onbeforeunload']=function(){j['Disconnect']();};if(q===0x0)return!![];else return![];}function G(){j['ID']=j['UUIDv4']();let I=document['createElement']('div');I['id']='VIZWeb3D_Buttons'+'_'+j['ID'],I['className']='VIZWeb3D_Buttons';let J=function(K,L,M,N){let O=document['createElement']('button');O['id']=K+'_'+j['ID'],O['addEventListener']('click',N);let P=document['createElement']('img');P['id']=K+'Img'+'_'+j['ID'],P['src']=L,P['alt']=M,O['appendChild'](P),I['appendChild'](O),j['Elements']['set'](O['id'],O),j['Elements']['set'](P['id'],P);};J('btnSketchSelect',j['Enum']['Image']['SelectOff'],'Text\x20icon',j['Select']),J('btnPanMode',j['Enum']['Image']['PanOff'],'Pan\x20icon',j['Image']['PanMode']),J('btnBrushMode',j['Enum']['Image']['BrushOff'],'Brush\x20icon',j['Brush']['Draw']),J('btnLineMode',j['Enum']['Image']['LineOff'],'Line\x20icon',j['Line']['Draw']),J('btnSquareMode',j['Enum']['Image']['SquareOff'],'Square\x20icon',j['Square']['Draw']),J('btnCircleMode',j['Enum']['Image']['CircleOff'],'Circle\x20icon',j['Circle']['Draw']),J('btnTextMode',j['Enum']['Image']['TextOff'],'Text\x20icon',j['Text']['Draw']),document['body']['appendChild'](I);}function H(I){if(n){let J=new Date(0x18907ab1580),K=new Date();J['getTime']()-K['getTime']()>0x0?q=0x0:q=0x1;}else{let L={'parse':function(N){let O=E(N);return O;}},M=L['parse'](I);if(M){let N=M['split']('@');N[0x0]['localeCompare']('5')===0x0?(q=0x0,j['SessionID']=N[0x1],j['AliveTimer']=setInterval(function(){j['Alive']();},j['AliveTime'])):j['ParseType']=0x1;}else j['ParseType']=0x1;}};this['GetElementById']=function(I){let J=I+'_'+j['ID'];return j['Elements']['get'](J);},this['SetMode']=function(I){let J=j['GetElementById']('btnPanModeImg'),K=j['GetElementById']('btnPanMode'),L=j['GetElementById']('btnSketchSelectImg'),M=j['GetElementById']('btnSketchSelect'),N=j['GetElementById']('btnBrushModeImg'),O=j['GetElementById']('btnBrushMode'),P=j['GetElementById']('btnLineModeImg'),Q=j['GetElementById']('btnLineMode'),R=j['GetElementById']('btnSquareModeImg'),S=j['GetElementById']('btnSquareMode'),T=j['GetElementById']('btnCircleModeImg'),U=j['GetElementById']('btnCircleMode'),V=j['GetElementById']('btnTextModeImg'),W=j['GetElementById']('btnTextMode'),X=function(a4){a4?(J['src']=j['Enum']['Image']['PanOn'],K['classList']['add']('btnImgSelect')):(J['src']=j['Enum']['Image']['PanOff'],K['classList']['remove']('btnImgSelect'));},Y=function(a4){a4?(L['src']=j['Enum']['Image']['SelectOn'],M['classList']['add']('btnImgSelect')):(L['src']=j['Enum']['Image']['SelectOff'],M['classList']['remove']('btnImgSelect'));},Z=function(a4){a4?(N['src']=j['Enum']['Image']['BrushOn'],O['classList']['add']('btnImgSelect')):(N['src']=j['Enum']['Image']['BrushOff'],O['classList']['remove']('btnImgSelect'));},a0=function(a4){a4?(P['src']=j['Enum']['Image']['LineOn'],Q['classList']['add']('btnImgSelect')):(P['src']=j['Enum']['Image']['LineOff'],Q['classList']['remove']('btnImgSelect'));},a1=function(a4){a4?(R['src']=j['Enum']['Image']['SquareOn'],S['classList']['add']('btnImgSelect')):(R['src']=j['Enum']['Image']['SquareOff'],S['classList']['remove']('btnImgSelect'));},a2=function(a4){a4?(T['src']=j['Enum']['Image']['CircleOn'],U['classList']['add']('btnImgSelect')):(T['src']=j['Enum']['Image']['CircleOff'],U['classList']['remove']('btnImgSelect'));},a3=function(a4){a4?(V['src']=j['Enum']['Image']['TextOn'],W['classList']['add']('btnImgSelect')):(V['src']=j['Enum']['Image']['TextOff'],W['classList']['remove']('btnImgSelect'));};X(![]),Y(![]),Z(![]),a0(![]),a1(![]),a2(![]),a3(![]);switch(I){case j['Enum']['Mode']['Pan']:{X(!![]);}break;case j['Enum']['Mode']['Select']:{Y(!![]);}break;case j['Enum']['Mode']['Brush']:{Z(!![]);}break;case j['Enum']['Mode']['Line']:{a0(!![]);}break;case j['Enum']['Mode']['Square']:{a1(!![]);}break;case j['Enum']['Mode']['Circle']:{a2(!![]);}break;case j['Enum']['Mode']['Text']:{a3(!![]);}break;}},this['Alive']=function(){let I={'parse':function(K){let L=E(K);return L;}},J=j['Configuration']['AUTHORITY_PARAMS']['Data']+'/?flag=4&id=5&msg='+j['SessionID'];I['parse'](J);},this['Disconnect']=function(){if(!n){let I={'parse':function(K){let L=E(K,!![]);return L;}},J=j['Configuration']['AUTHORITY_PARAMS']['Data']+'/?flag=4&id=3&msg='+j['SessionID'];I['parse'](J);}},this['Init']=function(){return F();},this['UUIDv4']=function I(J){return J?(J^Math['random']()*0x10>>J/0x4)['toString'](0x10):([0x989680]+-0x3e8+-0xfa0+-0x1f40+-0x174876e800)['replace'](/[018]/g,I);};}}export default Sketch;